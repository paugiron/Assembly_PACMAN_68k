0000229C Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 23/12/2022 18:21:15

00000000                             1  ; ==============================================================================
00000000                             2  ; TITLE       : PAC-MAN 68000
00000000                             3  ; DESCRIPTION : GAME IN MOTOROLA 68000 BASED ON PAC-MAN GAME
00000000                             4  ; AUTHOR      : JORDI FLORIT ENSENYAT
00000000                             5  ;               JOSEP GABRIEL FORNES REYNES
00000000                             6  ;               PAU GIRON RODRIGUEZ
00000000                             7  ; ==============================================================================
00001000                             8              ORG    $1000
00001000                             9  
00001000                            10              INCLUDE "CONST.X68"
00001000                            11  ; ==============================================================================
00001000                            12  ; GAME CONSTANTS
00001000                            13  ; ==============================================================================
00001000                            14  
00001000                            15  ; --- PAC-MAN RELATED CONTANTS ----------------------------------------------------
00001000                            16  
00001000  =0000FFFF                 17  PMPCOL      EQU     $0000FFFF               ; PAC-MAN CONTOUR COLOR
00001000  =0000FFFF                 18  PMFCOL      EQU     $0000FFFF               ; PAC-MAN FILL COLOR
00001000  =00000002                 19  PMSPEED     EQU     2                       ; MAGNITUDE OF THE X AND Y VEL.
00001000  =00000008                 20  PMRAD       EQU     8                       ; PAC-MAN RADIUS
00001000                            21  
00001000                            22  ; --- GHOST RELATED CONSTANTS ----------------------------------------------------
00001000                            23  
00001000  =00000007                 24  GSTSPEED    EQU     7                       ; MAGNITUDE OF THE NORMAL DISPLACEMENT
00001000  =00000005                 25  GSTSPEED2   EQU     5                       ; MAGNITUDE OF THE ATACKED DISPLACEMENT
00001000                            26  
00001000  =000000FF                 27  GSTCOL1     EQU     $000000FF               ; GHOST 1 CONTOUR COLOR RED
00001000  =00FFFFFF                 28  GSTFCOL1    EQU     $00FFFFFF               ; GHOST 1 FILL COLOR WHITE
00001000  =00000002                 29  GSTINX1     EQU     2                       ; GHOST 1 INITIAL X
00001000  =00000002                 30  GSTINY1     EQU     2                       ; GHOST 1 INITIAL Y
00001000                            31  
00001000  =00FF0080                 32  GSTCOL2     EQU     $00FF0080               ; GHOST 2 CONTOUR COLOR PINK
00001000  =00000000                 33  GSTFCOL2    EQU     $00000000               ; GHOST 1 FILL COLOR
00001000  =00000002                 34  GSTINX2     EQU     2                       ; GHOST 2 INITIAL X
00001000  =0000001F                 35  GSTINY2     EQU     31                      ; GHOST 2 INITIAL Y
00001000                            36  
00001000  =00FFFF00                 37  GSTCOL3     EQU     $00FFFF00               ; GHOST 3 CONTOUR COLOR CYAN
00001000  =00000000                 38  GSTFCOL3    EQU     $00000000               ; GHOST 3 FILL COLOR
00001000  =0000001F                 39  GSTINX3     EQU     31                      ; GHOST 3 INITIAL X
00001000  =00000002                 40  GSTINY3     EQU     2                       ; GHOST 3 INITIAL Y
00001000                            41  
00001000  =000080FF                 42  GSTCOL4     EQU     $000080FF               ; GHOST 4 CONTOUR COLOR ORANGE
00001000  =00000000                 43  GSTFCOL4    EQU     $00000000               ; GHOST 4 FILL COLOR
00001000  =0000001F                 44  GSTINX4     EQU     31                      ; GHOST 4 INITIAL X
00001000  =0000001F                 45  GSTINY4     EQU     31                      ; GHOST 4 INITIAL Y 
00001000                            46  
00001000  =00800000                 47  GSTCOL5     EQU     $00800000               ; CONTOUR COLOR OF ATACKED MODE
00001000  =00000000                 48  GSTFCOL5    EQU     $00000000               ; FILL COLOR OF ATACKED MODE
00001000                            49  
00001000  =00000008                 50  GSTRAD      EQU     8                       ; GHOST RADIUS
00001000  =00000010                 51  GSTRNG      EQU     16                      ; GHOST DETECTING RANGE
00001000                            52              
00001000                            53  ; --- SCOREBOARD RELATED CONSTANTS ---------------------------------------------
00001000                            54  ;MODIFICATE
00001000                            55  
00001000  =00000000                 56  SCOFCOL     EQU     $00000000               ; TEXT BACKGROUND COLOR
00001000  =00000101                 57  SCOLINE1    EQU     $0101                   ; FIRST TEXT LINE COORDINATES
00001000  =00000102                 58  SCOLINE2    EQU     $0102                   ; SECOND TEXT LINE COORDINATES
00001000                            59  
00001000                            60  ; --- MAP RELATED CONSTANTS ----------------------------------------------------
00001000                            61  
00001000= 01 01 01 01 01 01 ...     62  MAPMAT      DC.B    $1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
00001020= 01 02 02 02 02 02 ...     63              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
00001040= 01 02 01 01 01 01 ...     64              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
00001060= 01 03 01 01 01 01 ...     65              DC.B    $1,3,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,3,1
00001080= 01 02 02 02 02 02 ...     66              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000010A0= 01 02 01 01 01 01 ...     67              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000010C0= 01 02 01 01 01 01 ...     68              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000010E0= 01 02 02 02 02 02 ...     69              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
00001100= 01 02 01 01 01 01 ...     70              DC.B    $1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,2,1
00001120= 01 02 01 00 00 00 ...     71              DC.B    $1,2,1,0,0,0,1,2,1,0,1,2,1,1,1,1,1,1,1,1,2,1,0,1,2,1,0,0,0,1,2,1
00001140= 01 02 01 01 01 01 ...     72              DC.B    $1,2,1,1,1,1,1,2,1,0,1,2,2,2,2,1,1,2,2,2,2,1,0,1,2,1,1,1,1,1,2,1
00001160= 01 02 02 02 02 02 ...     73              DC.B    $1,2,2,2,2,2,2,2,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,2,2,2,2,2,2,2,1
00001180= 01 01 01 01 01 01 ...     74              DC.B    $1,1,1,1,1,1,1,2,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,2,1,1,1,1,1,1,1
000011A0= 01 00 00 00 00 00 ...     75              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,2,1,0,0,0,0,0,1
000011C0= 01 00 00 00 00 00 ...     76              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,1,1,1,0,0,1,1,1,0,1,0,1,2,1,0,0,0,0,0,1
000011E0= 01 01 01 01 01 01 ...     77              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,0,0,0,0,0,0,1,0,1,1,1,2,1,1,1,1,1,1,1
00001200= 04 00 00 00 00 00 ...     78              DC.B    $4,0,0,0,0,0,0,2,2,2,2,0,1,0,0,0,0,0,0,1,0,2,2,2,2,0,0,0,0,0,0,4
00001220= 01 01 01 01 01 01 ...     79              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,0,0,0,0,0,0,1,0,1,1,1,2,1,1,1,1,1,1,1
00001240= 01 00 00 00 00 00 ...     80              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,1,1,1,1,1,1,1,1,0,1,0,1,2,1,0,0,0,0,0,1
00001260= 01 00 00 00 00 00 ...     81              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,2,1,0,0,0,0,0,1
00001280= 01 01 01 01 01 01 ...     82              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,2,1,1,1,1,1,1,1
000012A0= 01 02 02 02 02 02 ...     83              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000012C0= 01 02 01 01 01 01 ...     84              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000012E0= 01 02 01 01 01 01 ...     85              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
00001300= 01 02 02 02 02 01 ...     86              DC.B    $1,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,1
00001320= 01 01 01 01 02 01 ...     87              DC.B    $1,1,1,1,2,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,2,1,1,1,1
00001340= 01 01 01 01 02 01 ...     88              DC.B    $1,1,1,1,2,1,1,2,1,0,1,2,1,1,1,1,1,1,1,1,2,1,0,1,2,1,1,2,1,1,1,1
00001360= 01 02 02 02 02 02 ...     89              DC.B    $1,2,2,2,2,2,2,2,1,0,1,2,2,2,2,1,1,2,2,2,2,1,0,1,2,2,2,2,2,2,2,1
00001380= 01 02 01 01 01 01 ...     90              DC.B    $1,2,1,1,1,1,1,1,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,1,1,1,1,1,1,2,1
000013A0= 01 03 01 01 01 01 ...     91              DC.B    $1,3,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,3,1
000013C0= 01 02 02 02 02 02 ...     92              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000013E0= 01 01 01 01 01 01 ...     93              DC.B    $1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
00001400                            94              
00001400                            95  ; --- STATE RELATED CONSTANTS --------------------------------------------------
00001400                            96  
00001400  =FFFFFFFF                 97  STANONE     EQU     -1                      ; NON-EXISTENT STATE NUMBER
00001400                            98  
00001400                            99  
00001400                           100  
00001400                           101  
00001400                           102  
00001400                           103  
00001400                           104  
00001400                           105  
00001400                           106  
00001400                           107  
00001400                           108  
00001400                           109  
00001400                           110  
00001400                           111  
00001400                           112  
00001400                           113  
00001400                           114  
00001400                           115  
00001400                           116  
00001400                           117  
00001400                           118  
00001400                           119  
00001400                           120  
00001400                           121  -------------------- end include --------------------
00001400                           122              INCLUDE "GHOST.X68"
00001400                           123  ; ==============================================================================
00001400                           124  ; GHOST MANAGEMENT
00001400                           125  ; ==============================================================================
00001400                           126              
00001400                           127  ; ------------------------------------------------------------------------------
00001400                           128  GSTINIT
00001400                           129  ; INITIALIZE GHOST.
00001400                           130  ; INPUT    : NONE 
00001400                           131  ; OUTPUT   : NONE
00001400                           132  ; MODIFIES : NONE
00001400                           133  ; ------------------------------------------------------------------------------
00001400  33FC 0058 00003164       134              MOVE.W  #GSTINX1*16+64-8,(GSTPOSX)
00001408  33FC 0058 00003166       135              MOVE.W  #GSTINY1*16+64-8,(GSTPOSY)
00001410  33FC 0007 00003168       136              MOVE.W  #GSTSPEED,(GSTVELX)
00001418  33FC 0007 0000316A       137              MOVE.W  #GSTSPEED,(GSTVELY)
00001420  4239 0000316D            138              CLR.B   (GSTLAMO)
00001426  4E75                     139              RTS
00001428                           140              
00001428                           141  ; ------------------------------------------------------------------------------
00001428                           142  GSTUPD
00001428                           143  ; UPDATES THE GHOST.
00001428                           144  ; INPUT    : NONE 
00001428                           145  ; OUTPUT   : NONE
00001428                           146  ; MODIFIES : NONE
00001428                           147  ; ------------------------------------------------------------------------------
00001428  48E7 F800                148              MOVEM.L D0-D4,-(A7)
0000142C                           149              
0000142C                           150              ;MOVE.W  (PMPOSX)/16*(PMPOSX)/16+(PMPOSY)/16*(PMPOSY)/16-#GSTRNG*#GSTRNG,D0
0000142C  6600 000E                151              BNE     .GSTINRNG
00001430                           152  .GSTNOTINRNG
00001430  13FC 0001 0000316E       153              MOVE.B  #1,(GSTINRNG)
00001438  6000 000A                154              BRA     .CHECKCRITIC
0000143C                           155  .GSTINRNG
0000143C  13FC 0000 0000316E       156              MOVE.B  #0,(GSTINRNG)
00001444                           157  .CHECKCRITIC
00001444                           158              
00001444                           159  
00001444  4CDF 001F                160              MOVEM.L (A7)+,D0-D4
00001448                           161              
00001448  4E75                     162              RTS
0000144A                           163              
0000144A                           164  ; ------------------------------------------------------------------------------
0000144A                           165  GSTPLOT
0000144A                           166  ; PLOT THE GHOST.
0000144A                           167  ; INPUT    : NONE 
0000144A                           168  ; OUTPUT   : NONE
0000144A                           169  ; MODIFIES : NONE
0000144A                           170  ; ------------------------------------------------------------------------------
0000144A  48E7 F800                171              MOVEM.L D0-D4,-(A7)
0000144E                           172              
0000144E                           173              ;SET PEN COLOR
0000144E  303C 0050                174              MOVE.W  #80,D0
00001452  223C 000000FF            175              MOVE.L  #GSTCOL1,D1
00001458  4E4F                     176              TRAP    #15
0000145A                           177              
0000145A                           178              ;SET FILL COLOR
0000145A  303C 0051                179              MOVE.W  #81,D0
0000145E  223C 00FFFFFF            180              MOVE.L  #GSTFCOL1,D1
00001464  4E4F                     181              TRAP    #15
00001466                           182              
00001466                           183              ;SET COORDS
00001466  3239 00003164            184              MOVE.W  (GSTPOSX),D1
0000146C  5141                     185              SUB.W   #GSTRAD,D1
0000146E  3439 00003166            186              MOVE.W  (GSTPOSY),D2
00001474  5142                     187              SUB.W   #GSTRAD,D2
00001476                           188              
00001476  3601                     189              MOVE.W  D1,D3
00001478  0643 0010                190              ADD.W   #GSTRAD*2,D3
0000147C  3802                     191              MOVE.W  D2,D4
0000147E  0644 0010                192              ADD.W   #GSTRAD*2,D4
00001482                           193              
00001482                           194              ;DRAW GHOST
00001482  303C 0058                195              MOVE.W  #88,D0
00001486  4E4F                     196              TRAP    #15
00001488                           197              
00001488                           198              ;SET RANGE COORDS
00001488  3239 00003164            199              MOVE.W  (GSTPOSX),D1
0000148E  0441 0100                200              SUB.W   #GSTRNG*16,D1
00001492  3439 00003166            201              MOVE.W  (GSTPOSY),D2
00001498  0442 0100                202              SUB.W   #GSTRNG*16,D2
0000149C                           203              
0000149C  3601                     204              MOVE.W  D1,D3
0000149E  0643 0200                205              ADD.W   #GSTRNG*16*2,D3
000014A2  3802                     206              MOVE.W  D2,D4
000014A4  0644 0200                207              ADD.W   #GSTRNG*16*2,D4
000014A8                           208              
000014A8                           209              ;DRAW GHOST RANGE
000014A8  303C 005B                210              MOVE.W  #91,D0
000014AC  4E4F                     211              TRAP    #15
000014AE                           212              
000014AE  4CDF 001F                213              MOVEM.L (A7)+,D0-D4
000014B2                           214              
000014B2                           215  
000014B2  4E75                     216              RTS
000014B4                           217  
000014B4                           218  
000014B4                           219  
000014B4                           220  
000014B4                           221  
000014B4                           222  -------------------- end include --------------------
000014B4                           223              INCLUDE "PAC-MAN.X68"
000014B4                           224  ; ==============================================================================
000014B4                           225  ; PAC-MAN MANAGEMENT
000014B4                           226  ; ==============================================================================
000014B4                           227              
000014B4                           228  ; ------------------------------------------------------------------------------
000014B4                           229  PMINIT
000014B4                           230  ; INITIALIZE PAC-MAN.
000014B4                           231  ; INPUT    : NONE 
000014B4                           232  ; OUTPUT   : NONE
000014B4                           233  ; MODIFIES : NONE
000014B4                           234  ; ------------------------------------------------------------------------------
000014B4                           235  
000014B4  33FC 0140 0000315A       236              MOVE.W  #SCRWIDTH/2,(PMPOSX)
000014BC  33FC 0140 0000315C       237              MOVE.W  #SCRHEIGH/2,(PMPOSY)
000014C4  5079 0000315A            238              ADDQ.W  #8,(PMPOSX)
000014CA  5079 0000315C            239              ADDQ.W  #8,(PMPOSY)
000014D0  33FC 0002 0000315E       240              MOVE.W  #PMSPEED,(PMVELX)
000014D8  33FC 0002 00003160       241              MOVE.W  #PMSPEED,(PMVELY)
000014E0  4239 00003163            242              CLR.B   (PMLAMO)
000014E6                           243  
000014E6  4E75                     244              RTS
000014E8                           245              
000014E8                           246  ; ------------------------------------------------------------------------------
000014E8                           247  PMUPD
000014E8                           248  ; UPDATES THE PAC-MAN.
000014E8                           249  ; INPUT    : NONE 
000014E8                           250  ; OUTPUT   : NONE
000014E8                           251  ; MODIFIES : NONE
000014E8                           252  ; ------------------------------------------------------------------------------
000014E8                           253              
000014E8  48E7 FE00                254              MOVEM.L D0-D6,-(A7)
000014EC                           255              
000014EC  303C 0002                256              MOVE.W  #PMSPEED,D0
000014F0                           257              
000014F0                           258              
000014F0  3439 0000315A            259              MOVE.W  (PMPOSX),D2
000014F6  3639 0000315C            260              MOVE.W  (PMPOSY),D3
000014FC                           261              
000014FC  5042                     262              ADDQ.W  #8,D2              
000014FE  5043                     263              ADDQ.W  #8,D3  
00001500                           264              
00001500  1839 00003163            265              MOVE.B  (PMLAMO),D4
00001506                           266              
00001506                           267              ;MASK OF THE LAST NIBBLE        
00001506  C47C 000F                268              AND.W   #$000F,D2               ; COORDENADA X
0000150A  C67C 000F                269              AND.W   #$000F,D3               ; COORDENADA Y
0000150E                           270              
0000150E                           271              ;CHECK IF COORDS ARE MULTIPLES OF 16
0000150E  B47C 0000                272              CMP     #$0000,D2
00001512  6600 0116                273              BNE     .NOTMULT
00001516  B67C 0000                274              CMP     #$0000,D3
0000151A  6600 010E                275              BNE     .NOTMULT
0000151E                           276              
0000151E                           277              ;BRA     .ACTYUP
0000151E                           278  
0000151E                           279              ;CHECK THE DIRECTION
0000151E  0839 0000 000022C8       280              BTST.B  #0,(KBDVAL)             ;CHECK LEFT
00001526  6700 000C                281              BEQ     .NOTLEFT
0000152A  4204                     282              CLR.B   D4
0000152C  183C 0000                283              MOVE.B  #0,D4
00001530  6000 007C                284              BRA     .ACTXLEFT
00001534                           285  .NOTLEFT            
00001534  0839 0002 000022C8       286              BTST.B   #2,(KBDVAL)             ;CHECK RIGHT
0000153C  6700 000C                287              BEQ     .NOTRIGHT
00001540  4204                     288              CLR.B   D4
00001542  183C 0001                289              MOVE.B   #1,D4
00001546  6000 0032                290              BRA     .ACTXRIGHT
0000154A                           291  .NOTRIGHT            
0000154A  0839 0001 000022C8       292              BTST.B   #1,(KBDVAL)             ;CHECK UP
00001552  6700 000C                293              BEQ     .NOTUP
00001556  4204                     294              CLR.B   D4
00001558  183C 0002                295              MOVE.B  #2,D4
0000155C  6000 00A8                296              BRA     .ACTYUP
00001560                           297  .NOTUP            
00001560  0839 0003 000022C8       298              BTST.B   #3,(KBDVAL)             ;CHECK DOWN
00001568  6700 000C                299              BEQ     .NOTDOWN
0000156C  4204                     300              CLR.B   D4
0000156E  183C 0003                301              MOVE.B   #3,D4
00001572  6000 006E                302              BRA     .ACTYDOWN
00001576                           303  .NOTDOWN
00001576  6000 00CA                304              BRA     .DONE
0000157A                           305              
0000157A                           306              
0000157A                           307              ;UPDATE COORDS
0000157A                           308              
0000157A                           309  .ACTXRIGHT  
0000157A  4EB9 000019F2            310              JSR     COLWALLRIGHT
00001580  BA7C 0001                311              CMP     #1,D5
00001584  6600 000E                312              BNE     .NOTCOLISION
00001588  13FC 0000 000022C8       313              MOVE.B  #0,(KBDVAL)
00001590  303C 0000                314              MOVE.W  #0,D0
00001594                           315  .NOTCOLISION
00001594  BA7C 0004                316              CMP     #4,D5
00001598  6600 000A                317              BNE     .NOTTP
0000159C  0479 01E0 0000315A       318              SUB.W   #30*16,(PMPOSX)
000015A4                           319  .NOTTP
000015A4  D179 0000315A            320              ADD.W   D0,(PMPOSX)
000015AA  6000 0096                321              BRA     .DONE
000015AE                           322  .ACTXLEFT
000015AE  4EB9 00001A34            323              JSR     COLWALLLEFT
000015B4  BA7C 0001                324              CMP     #1,D5
000015B8  6600 000E                325              BNE     .NOTCOLISION2
000015BC  13FC 0000 000022C8       326              MOVE.B  #0,(KBDVAL)
000015C4  303C 0000                327              MOVE.W  #0,D0
000015C8                           328  .NOTCOLISION2
000015C8  BA7C 0004                329              CMP     #4,D5
000015CC  6600 000A                330              BNE     .NOTTP2
000015D0  0679 01E0 0000315A       331              ADD.W   #30*16,(PMPOSX)
000015D8                           332  .NOTTP2
000015D8  9179 0000315A            333              SUB.W   D0,(PMPOSX)
000015DE  6000 0062                334              BRA     .DONE
000015E2                           335      
000015E2                           336  .ACTYDOWN
000015E2  4EB9 00001A76            337              JSR     COLWALLDOWN
000015E8  BA7C 0001                338              CMP     #1,D5
000015EC  6600 000E                339              BNE     .NOTCOLISION3
000015F0  13FC 0000 000022C8       340              MOVE.B  #0,(KBDVAL)
000015F8  303C 0000                341              MOVE.W  #0,D0
000015FC                           342  .NOTCOLISION3
000015FC  D179 0000315C            343              ADD.W   D0,(PMPOSY)
00001602  6000 003E                344              BRA     .DONE
00001606                           345  .ACTYUP     
00001606  4EB9 00001AB2            346              JSR     COLWALLUP
0000160C  BA7C 0001                347              CMP     #1,D5
00001610  6600 000E                348              BNE     .NOTCOLISION4
00001614  13FC 0000 000022C8       349              MOVE.B  #0,(KBDVAL)
0000161C  303C 0000                350              MOVE.W  #0,D0
00001620                           351  .NOTCOLISION4
00001620  9179 0000315C            352              SUB.W   D0,(PMPOSY)
00001626  6000 001A                353              BRA     .DONE
0000162A                           354              
0000162A                           355              
0000162A                           356              ;IF NOT MULT DO
0000162A                           357  .NOTMULT     
0000162A  B83C 0000                358              CMP.B     #0,D4
0000162E  6700 FF7E                359              BEQ     .ACTXLEFT
00001632  B83C 0001                360              CMP.B     #1,D4
00001636  6700 FF42                361              BEQ     .ACTXRIGHT
0000163A  B83C 0002                362              CMP.B     #2,D4
0000163E  67C6                     363              BEQ     .ACTYUP
00001640  60A0                     364              BRA     .ACTYDOWN
00001642                           365  .DONE
00001642                           366              ;RESTORE
00001642  4EB9 00001AF0            367              JSR     GETPOINTS
00001648  13C4 00003163            368              MOVE.B  D4,(PMLAMO)
0000164E                           369              
0000164E  4CDF 007F                370              MOVEM.L (A7)+,D0-D6
00001652                           371              
00001652  4E75                     372              RTS
00001654                           373                          
00001654                           374  ; ------------------------------------------------------------------------------
00001654                           375  PMPLOT
00001654                           376  ; PLOT THE BALL.
00001654                           377  ; INPUT    : NONE 
00001654                           378  ; OUTPUT   : NONE
00001654                           379  ; MODIFIES : NONE
00001654                           380  ; ------------------------------------------------------------------------------
00001654                           381  
00001654  48E7 FC00                382              MOVEM.L D0-D5,-(A7)
00001658                           383  
00001658                           384              ;SET PEN COLOR
00001658  303C 0050                385              MOVE.W  #80,D0
0000165C  7200                     386              MOVE.L  #$0000,D1
0000165E  4E4F                     387              TRAP    #15
00001660                           388              
00001660                           389              ;SET FILL COLOR
00001660  303C 0051                390              MOVE.W  #81,D0
00001664  223C 0000FFFF            391              MOVE.L  #PMFCOL,D1
0000166A  4E4F                     392              TRAP    #15
0000166C                           393              
0000166C  0839 0003 000022CB       394              BTST.B  #3,(SCRCYCCT)
00001674  6700 000C                395              BEQ     .MOUTHOPEN
00001678                           396              
00001678                           397              ;DRAW QUIET
00001678  4EB9 00001716            398              JSR     .FULLDRAW
0000167E  6000 0090                399              BRA     .DDONE
00001682                           400              
00001682                           401  .MOUTHOPEN     
00001682  4EB9 00001716            402              JSR     .FULLDRAW       
00001688  1A39 000022C8            403              MOVE.B  (KBDVAL),D5
0000168E  CA3C 000F                404              AND.B   #$0F,D5
00001692                           405   
00001692                           406              ;CHECK KBDVAL
00001692  BA3C 0000                407              CMP.B   #$0,D5
00001696  6700 0022                408              BEQ     .NOTMOVE
0000169A  BA3C 0001                409              CMP.B  #$1,D5             ;LEFT
0000169E  6700 0038                410              BEQ     .DLEFT
000016A2  BA3C 0002                411              CMP.B  #$2,D5             ;UP
000016A6  6700 0026                412              BEQ     .DUP
000016AA  BA3C 0004                413              CMP.B  #$4,D5             ;RIGHT
000016AE  6700 0014                414              BEQ     .DRIGHT
000016B2  BA3C 0008                415              CMP.B  #$8,D5             ;DOWN
000016B6  6700 002A                416              BEQ     .DDOWN
000016BA                           417              
000016BA                           418              ;DRAW MOVEMENT
000016BA  4EB9 00001716            419  .NOTMOVE    JSR     .FULLDRAW
000016C0  6000 004E                420              BRA     .DDONE
000016C4                           421  .DRIGHT
000016C4  4EB9 0000176C            422              JSR     .RIGHTDRAW
000016CA  6000 0034                423              BRA     .DRAW_MOUTH3
000016CE                           424  .DUP
000016CE  4EB9 0000179E            425              JSR     .UPDRAW
000016D4  6000 0020                426              BRA     .DRAW_MOUTH2
000016D8                           427  
000016D8                           428  .DLEFT
000016D8  4EB9 0000173A            429              JSR     .LEFTDRAW
000016DE  6000 000C                430              BRA     .DRAW_MOUTH1
000016E2                           431  
000016E2                           432  .DDOWN
000016E2  4EB9 000017D0            433              JSR     .DOWNDRAW
000016E8  6000 0020                434              BRA     .DRAW_MOUTH4
000016EC                           435              
000016EC                           436  .DRAW_MOUTH1            
000016EC  4EB9 00001802            437              JSR     .SET_MOUTHLEFT
000016F2  6000 001C                438              BRA     .DDONE
000016F6                           439  .DRAW_MOUTH2            
000016F6  4EB9 0000183E            440              JSR     .SET_MOUTHUP
000016FC  6000 0012                441              BRA     .DDONE
00001700                           442  .DRAW_MOUTH3            
00001700  4EB9 00001820            443              JSR     .SET_MOUTHRIGHT
00001706  6000 0008                444              BRA     .DDONE
0000170A                           445  .DRAW_MOUTH4            
0000170A  4EB9 0000185C            446              JSR     .SET_MOUTHDOWN
00001710                           447  .DDONE
00001710  4CDF 003F                448              MOVEM.L (A7)+,D0-D5
00001714                           449              
00001714  4E75                     450              RTS
00001716                           451  
00001716                           452  
00001716                           453  ;INTERNAL SUBRUTINES FOR PACMAN PLOT-------------------------------------------------------------
00001716                           454  
00001716                           455  .FULLDRAW
00001716                           456              ;SET COORDS
00001716  3239 0000315A            457              MOVE.W  (PMPOSX),D1
0000171C  5141                     458              SUB.W   #PMRAD,D1
0000171E  3439 0000315C            459              MOVE.W  (PMPOSY),D2
00001724  5142                     460              SUB.W   #PMRAD,D2
00001726                           461              
00001726  3601                     462              MOVE.W  D1,D3
00001728  0643 0010                463              ADD.W   #PMRAD*2,D3
0000172C  3802                     464              MOVE.W  D2,D4
0000172E  0644 0010                465              ADD.W   #PMRAD*2,D4
00001732                           466              
00001732                           467              ;DRAW PAC-MAN
00001732  303C 0058                468              MOVE.W  #88,D0
00001736  4E4F                     469              TRAP    #15
00001738                           470              
00001738  4E75                     471              RTS
0000173A                           472  .LEFTDRAW
0000173A                           473              
0000173A                           474              
0000173A  303C 0054                475              MOVE.W  #84,D0
0000173E  3239 0000315A            476              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
00001744  5141                     477              SUB.W   #PMRAD,D1
00001746  3439 0000315C            478              MOVE.W  (PMPOSY),D2
0000174C  5142                     479              SUB.W   #PMRAD,D2
0000174E                           480              
0000174E  3639 0000315A            481              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
00001754  3839 0000315C            482              MOVE.W  (PMPOSY),D4
0000175A                           483              
0000175A  4E4F                     484              TRAP    #15
0000175C                           485             
0000175C  303C 0055                486              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001760                           487              
00001760  3203                     488              MOVE.W  D3,D1
00001762  3404                     489              MOVE.W  D4,D2
00001764  5042                     490              ADD.W   #PMRAD,D2
00001766  5141                     491              SUB.W   #PMRAD,D1
00001768                           492              
00001768  4E4F                     493              TRAP    #15
0000176A                           494              
0000176A                           495              
0000176A  4E75                     496              RTS
0000176C                           497              
0000176C                           498  .RIGHTDRAW
0000176C                           499              
0000176C                           500              
0000176C  303C 0054                501              MOVE.W  #84,D0
00001770  3239 0000315A            502              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
00001776  5041                     503              ADD.W   #PMRAD,D1
00001778  3439 0000315C            504              MOVE.W  (PMPOSY),D2
0000177E  5042                     505              ADD.W   #PMRAD,D2
00001780                           506              
00001780  3639 0000315A            507              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
00001786  3839 0000315C            508              MOVE.W  (PMPOSY),D4
0000178C                           509              
0000178C  4E4F                     510              TRAP    #15
0000178E                           511             
0000178E  303C 0055                512              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001792                           513              
00001792  3203                     514              MOVE.W  D3,D1
00001794  3404                     515              MOVE.W  D4,D2
00001796  5142                     516              SUB.W   #PMRAD,D2
00001798  5041                     517              ADD.W   #PMRAD,D1
0000179A                           518              
0000179A  4E4F                     519              TRAP    #15
0000179C                           520              
0000179C                           521              
0000179C  4E75                     522              RTS
0000179E                           523  .UPDRAW
0000179E                           524              
0000179E                           525              
0000179E  303C 0054                526              MOVE.W  #84,D0
000017A2  3239 0000315A            527              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
000017A8  5141                     528              SUB.W   #PMRAD,D1
000017AA  3439 0000315C            529              MOVE.W  (PMPOSY),D2
000017B0  5142                     530              SUB.W   #PMRAD,D2
000017B2                           531              
000017B2  3639 0000315A            532              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
000017B8  3839 0000315C            533              MOVE.W  (PMPOSY),D4
000017BE                           534              
000017BE  4E4F                     535              TRAP    #15
000017C0                           536             
000017C0  303C 0055                537              MOVE.W  #85,D0                        ;DRAW SECOND LINE
000017C4                           538              
000017C4  3203                     539              MOVE.W  D3,D1
000017C6  3404                     540              MOVE.W  D4,D2
000017C8  5142                     541              SUB.W   #PMRAD,D2
000017CA  5041                     542              ADD.W   #PMRAD,D1
000017CC                           543              
000017CC  4E4F                     544              TRAP    #15
000017CE                           545              
000017CE                           546              
000017CE  4E75                     547              RTS
000017D0                           548              
000017D0                           549  .DOWNDRAW
000017D0                           550              
000017D0                           551              
000017D0  303C 0054                552              MOVE.W  #84,D0
000017D4  3239 0000315A            553              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
000017DA  5141                     554              SUB.W   #PMRAD,D1
000017DC  3439 0000315C            555              MOVE.W  (PMPOSY),D2
000017E2  5042                     556              ADD.W   #PMRAD,D2
000017E4                           557              
000017E4  3639 0000315A            558              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
000017EA  3839 0000315C            559              MOVE.W  (PMPOSY),D4
000017F0                           560              
000017F0  4E4F                     561              TRAP    #15
000017F2                           562             
000017F2  303C 0055                563              MOVE.W  #85,D0                        ;DRAW SECOND LINE
000017F6                           564              
000017F6  3203                     565              MOVE.W  D3,D1
000017F8  3404                     566              MOVE.W  D4,D2
000017FA  5042                     567              ADD.W   #PMRAD,D2
000017FC  5041                     568              ADD.W   #PMRAD,D1
000017FE                           569              
000017FE  4E4F                     570              TRAP    #15
00001800                           571              
00001800                           572              
00001800  4E75                     573              RTS
00001802                           574  
00001802                           575              
00001802                           576  .SET_MOUTHLEFT
00001802                           577              
00001802  303C 0051                578              MOVE.W  #81,D0                         ;SET BLACK
00001806  7200                     579              MOVE.L  #$0000,D1
00001808  4E4F                     580              TRAP    #15
0000180A                           581              
0000180A  303C 0059                582              MOVE.W  #89,D0                         ;FILL
0000180E  3239 0000315A            583              MOVE.W  (PMPOSX),D1
00001814  5541                     584              SUBQ.W   #2,D1
00001816  3439 0000315C            585              MOVE.W  (PMPOSY),D2
0000181C  4E4F                     586              TRAP    #15
0000181E                           587  
0000181E  4E75                     588              RTS
00001820                           589              
00001820                           590  .SET_MOUTHRIGHT
00001820                           591              
00001820  303C 0051                592              MOVE.W  #81,D0                         ;SET BLACK
00001824  7200                     593              MOVE.L  #$0000,D1
00001826  4E4F                     594              TRAP    #15
00001828                           595              
00001828  303C 0059                596              MOVE.W  #89,D0                         ;FILL
0000182C  3239 0000315A            597              MOVE.W  (PMPOSX),D1
00001832  5441                     598              ADDQ.W   #2,D1
00001834  3439 0000315C            599              MOVE.W  (PMPOSY),D2
0000183A  4E4F                     600              TRAP    #15
0000183C                           601  
0000183C  4E75                     602              RTS
0000183E                           603  
0000183E                           604  .SET_MOUTHUP
0000183E                           605              
0000183E  303C 0051                606              MOVE.W  #81,D0                         ;SET BLACK
00001842  7200                     607              MOVE.L  #$0000,D1
00001844  4E4F                     608              TRAP    #15
00001846                           609              
00001846  303C 0059                610              MOVE.W  #89,D0                         ;FILL
0000184A  3239 0000315A            611              MOVE.W  (PMPOSX),D1
00001850  3439 0000315C            612              MOVE.W  (PMPOSY),D2
00001856  5542                     613              SUBQ.W   #2,D2
00001858  4E4F                     614              TRAP    #15
0000185A                           615  
0000185A  4E75                     616              RTS
0000185C                           617  
0000185C                           618  .SET_MOUTHDOWN
0000185C                           619              
0000185C  303C 0051                620              MOVE.W  #81,D0                         ;SET BLACK
00001860  7200                     621              MOVE.L  #$0000,D1
00001862  4E4F                     622              TRAP    #15
00001864                           623              
00001864  303C 0059                624              MOVE.W  #89,D0                         ;FILL
00001868  3239 0000315A            625              MOVE.W  (PMPOSX),D1
0000186E  3439 0000315C            626              MOVE.W  (PMPOSY),D2
00001874  5442                     627              ADDQ.W   #2,D2
00001876  4E4F                     628              TRAP    #15
00001878                           629  
00001878  4E75                     630              RTS
0000187A                           631  
0000187A                           632  
0000187A                           633  
0000187A                           634  
0000187A                           635  
0000187A                           636  
0000187A                           637  
0000187A                           638  
0000187A                           639  
0000187A                           640  
0000187A                           641  
0000187A                           642  
0000187A                           643  
0000187A                           644  
0000187A                           645  
0000187A                           646  
0000187A                           647  
0000187A                           648  
0000187A                           649  
0000187A                           650  
0000187A                           651  
0000187A                           652  
0000187A                           653  
0000187A                           654  
0000187A                           655  
0000187A                           656  
0000187A                           657  
0000187A                           658  -------------------- end include --------------------
0000187A                           659              INCLUDE "SCORE.X68"
0000187A                           660  ; ==============================================================================
0000187A                           661  ; SCOREBOARD MANAGEMENT
0000187A                           662  ; ==============================================================================
0000187A                           663              
0000187A                           664  ; ------------------------------------------------------------------------------
0000187A                           665  SCOINIT
0000187A                           666  ; INITIALIZE SCOREBOARD
0000187A                           667  ; INPUT    : NONE 
0000187A                           668  ; OUTPUT   : NONE
0000187A                           669  ; MODIFIES : NONE
0000187A                           670  ; ------------------------------------------------------------------------------
0000187A  4279 00003172            671              CLR.W   (SCOPOINTS)
00001880  33FC 0003 00003170       672              MOVE.W  #3,(SCOLIFE)
00001888  4E75                     673              RTS
0000188A                           674              
0000188A                           675  ; ------------------------------------------------------------------------------
0000188A                           676  SCOPLOT
0000188A                           677  ; PLOT THE SCOREBOARD
0000188A                           678  ; INPUT    : NONE 
0000188A                           679  ; OUTPUT   : NONE
0000188A                           680  ; MODIFIES : NONE
0000188A                           681  ; ------------------------------------------------------------------------------
0000188A                           682              
0000188A  48E7 C040                683               MOVEM.L D0-D1/A1,-(A7)
0000188E                           684  
0000188E                           685              ; SET BACKGROUND COLOR
0000188E  103C 0051                686              MOVE.B  #81,D0
00001892  7200                     687              MOVE.L  #SCOFCOL,D1
00001894  4E4F                     688              TRAP    #15
00001896                           689              
00001896                           690              ; SET FIRST LINE POSITION
00001896  103C 000B                691              MOVE.B  #11,D0
0000189A  323C 0101                692              MOVE.W  #SCOLINE1,D1
0000189E  4E4F                     693              TRAP    #15
000018A0                           694  
000018A0                           695              ; PRINT FIRST LINE
000018A0  43F9 000018D8            696              LEA     .TXT1,A1            ;PUT FIRST STRING IN A1
000018A6  4281                     697              CLR.L   D1
000018A8  3239 00003172            698              MOVE.W  (SCOPOINTS),D1
000018AE  103C 0011                699              MOVE.B  #17,D0
000018B2  4E4F                     700              TRAP    #15
000018B4                           701  
000018B4                           702              ; SET SECOND LINE POSITION
000018B4  103C 000B                703              MOVE.B  #11,D0
000018B8  323C 0102                704              MOVE.W  #SCOLINE2,D1       
000018BC  4E4F                     705              TRAP    #15
000018BE                           706  
000018BE                           707              ; PRINT SECOND LINE
000018BE  43F9 000018E1            708              LEA     .TXT2,A1
000018C4  4281                     709              CLR.L   D1
000018C6  3239 00003170            710              MOVE.W  (SCOLIFE),D1
000018CC  103C 0011                711              MOVE.B  #17,D0
000018D0  4E4F                     712              TRAP    #15
000018D2                           713              
000018D2  4CDF 0203                714              MOVEM.L (A7)+,D0-D1/A1
000018D6                           715              
000018D6  4E75                     716              RTS
000018D8                           717  
000018D8= 50 4F 49 4E 54 53 ...    718  .TXT1       DC.B    'POINTS :',0      ;0 IS END OF STRING
000018E1= 4C 49 46 45 53 20 ...    719  .TXT2       DC.B    'LIFES  :',0
000018EA                           720  
000018EA                           721  
000018EA  4E75                     722              RTS
000018EC                           723  
000018EC                           724  
000018EC                           725  -------------------- end include --------------------
000018EC                           726              INCLUDE "SYSCONST.X68"
000018EC                           727  ; ==============================================================================
000018EC                           728  ; SYSTEM CONSTANTS
000018EC                           729  ; ==============================================================================
000018EC                           730  
000018EC                           731  ; --- SCREEN RELATED CONSTANTS -------------------------------------------------
000018EC                           732  
000018EC  =00000280                733  SCRWIDTH    EQU     640                     ; SCREEN WIDTH
000018EC  =00000280                734  SCRHEIGH    EQU     640                     ; SCREEN HEIGHT
000018EC                           735  
000018EC                           736  ;--- TITLE RELATED CONSTANTS ---------------------------------------------------
000018EC= 74 69 74 6C 65 2E ...    737  FILENAME    DC.B    'title.txt',0
000018F6  =00000A8C                738  FILESIZE    EQU     2700
000018F6                           739              DS.B    0                       
000018F6                           740  ;---KEYCODES--------------------------------------------------------------------
000018F6                           741  
000018F6  =00000025                742  KBDLEFT     EQU     $25
000018F6  =00000026                743  KBDUP       EQU     $26
000018F6  =00000027                744  KBDRIGHT    EQU     $27
000018F6  =00000028                745  KBDDOWN     EQU     $28
000018F6  =00000020                746  KBDFIRE1    EQU     ' '
000018F6  =0000004D                747  KBDFIRE2    EQU     'M'                         
000018F6  =00000010                748  KBDFIRE3    EQU     $10
000018F6  =00000050                749  KBDPAUSE    EQU     'P'
000018F6                           750  
000018F6                           751  
000018F6                           752  
000018F6                           753  
000018F6                           754  
000018F6                           755  
000018F6                           756  
000018F6                           757  
000018F6                           758  
000018F6                           759  
000018F6                           760  -------------------- end include --------------------
000018F6                           761              INCLUDE "SYSTEM.X68"
000018F6                           762  ; ==============================================================================
000018F6                           763  ; SYSTEM
000018F6                           764  ; ==============================================================================
000018F6                           765              
000018F6                           766  ; ------------------------------------------------------------------------------
000018F6                           767  SYSINIT
000018F6                           768  ; INITIALIZE SYSTEM.
000018F6                           769  ; INPUT    : NONE
000018F6                           770  ; OUTPUT   : NONE
000018F6                           771  ; MODIFIES : NONE
000018F6                           772  ; ------------------------------------------------------------------------------
000018F6                           773              
000018F6  21FC 00001966 0080       774              MOVE.L  #SCRUPD,($80+0*4)          ;INSTALL SUBRUTINE TO TRAP #0
000018FE  21FC 0000199C 0084       775              MOVE.L  #KBDUPD,($80+1*4)          ;INSTALL SUBRUTINE TO TRAP #1
00001906                           776              
00001906                           777              
00001906  21FC 00001980 0064       778              MOVE.L  #SCRTIM,($60+1*4)          ;INSTALL INTERRUPT #1
0000190E                           779              
0000190E  4EB9 00001922            780              JSR     SCRINIT
00001914  4EB9 0000198E            781              JSR     KBDINIT
0000191A                           782              
0000191A                           783              
0000191A  40E7                     784              MOVE.W  SR,-(A7)
0000191C  0257 D8FF                785              ANDI.W  #$D8FF,(A7)                ;BIT SUPERVISOR TO O AND INTERRPUT MASK 000 (FOR REACTIVATE INTERRUPTIONS)             
00001920  4E73                     786              RTE
00001922                           787     
00001922                           788  ; ------------------------------------------------------------------------------
00001922                           789  SCRINIT
00001922                           790  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN, ENABLE BUFFER
00001922                           791  ; ENABLE TIMED INTERRUPTION
00001922                           792  ; INPUT    : NONE
00001922                           793  ; OUTPUT   : NONE
00001922                           794  ; MODIFIES : NONE
00001922                           795  ; ------------------------------------------------------------------------------
00001922                           796  
00001922  48E7 C000                797              MOVEM.L D0-D1,-(A7)                 ;SAFE REGISTERS IN STACK
00001926                           798  
00001926                           799              ; SET SCREEN RESOLUTION
00001926  103C 0021                800              MOVE.B  #33,D0
0000192A  223C 02800280            801              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
00001930  4E4F                     802              TRAP    #15
00001932                           803              
00001932                           804              ; SET WINDOWED MODE
00001932  7201                     805              MOVE.L  #1,D1
00001934  4E4F                     806              TRAP    #15
00001936                           807              
00001936                           808              ; ENABLE DOUBLE BUFFER
00001936  103C 005C                809              MOVE.B  #92,D0
0000193A  123C 0011                810              MOVE.B  #17,D1
0000193E  4E4F                     811              TRAP    #15
00001940                           812              
00001940                           813              ; CLEAR SCREEN
00001940  103C 000B                814              MOVE.B  #11,D0
00001944  323C FF00                815              MOVE.W  #$FF00,D1
00001948  4E4F                     816              TRAP    #15
0000194A                           817              
0000194A                           818              ;ENABLE TIMED INTERRPUT
0000194A  303C 0020                819              MOVE.W  #32,D0
0000194E  123C 0006                820              MOVE.B  #6,D1
00001952  143C 0081                821              MOVE.B  #$81,D2                   ;INDICATE THAT INTERRUPT 1 IS ACTIVATED PERIODICALLY
00001956  7614                     822              MOVE.L  #20,D3                    ;INDICATE THE MILISECONDS FOR THAT PERIOD (20 ms == 50 FPS)
00001958  4E4F                     823              TRAP    #15
0000195A                           824              
0000195A                           825              ;CLEAR INTERRUPT COUNTER
0000195A  4239 000022CA            826              CLR.B   (SCRINTCT)
00001960                           827              
00001960  4CDF 0003                828              MOVEM.L (A7)+,D0-D1               ;RESTORE REGISTERS FROM STACK
00001964                           829              
00001964  4E75                     830              RTS
00001966                           831  
00001966                           832  
00001966                           833              
00001966                           834  ;------------------------------------------------------------------------------            
00001966                           835  SCRUPD
00001966                           836  ; UPDATES DOUBLE BUFFER
00001966                           837  ; INPUT    : NONE
00001966                           838  ; OUTPUT   : NONE
00001966                           839  ; MODIFIES : NONE
00001966                           840  ; ------------------------------------------------------------------------------
00001966                           841  
00001966  48E7 C000                842              MOVEM.L D0-D1,-(A7)
0000196A                           843              
0000196A                           844              ;SWITCH BUFFERS
0000196A  103C 005E                845              MOVE.B #94,D0
0000196E  4E4F                     846              TRAP #15
00001970                           847              
00001970                           848              ;CLEAR HIDDEN BUFFER
00001970  103C 000B                849              MOVE.B  #11,D0
00001974  323C FF00                850              MOVE.W  #$FF00,D1
00001978  4E4F                     851              TRAP    #15
0000197A                           852              
0000197A  4CDF 0003                853              MOVEM.L (A7)+,D0-D1
0000197E                           854              
0000197E  4E73                     855              RTE
00001980                           856              
00001980                           857  ; ------------------------------------------------------------------------------
00001980                           858  SCRTIM
00001980                           859  ; TIMED INTERRUPT SERVICE ROUTINE
00001980                           860  ; INPUT    : NONE
00001980                           861  ; OUTPUT   : NONE
00001980                           862  ; MODIFIES : NONE
00001980                           863  ; ------------------------------------------------------------------------------
00001980  5239 000022CA            864              ADDQ.B  #1,(SCRINTCT)
00001986  5239 000022CB            865              ADDQ.B  #1,(SCRCYCCT)
0000198C  4E73                     866              RTE
0000198E                           867              
0000198E                           868  ;------------------------------------------------------------------------------            
0000198E                           869  KBDINIT
0000198E                           870  ; INIT THE KEYBOARD
0000198E                           871  ; INPUT    : NONE
0000198E                           872  ; OUTPUT   : NONE
0000198E                           873  ; MODIFIES : NONE
0000198E                           874  ; ------------------------------------------------------------------------------
0000198E                           875  
0000198E  4239 000022C8            876              CLR.B   (KBDVAL)
00001994  4239 000022C9            877              CLR.B   (KBDEDGE)
0000199A                           878  
0000199A  4E75                     879              RTS
0000199C                           880  
0000199C                           881  ;------------------------------------------------------------------------------            
0000199C                           882  KBDUPD
0000199C                           883  ; UPDATES KEYBOARD INFO
0000199C                           884  ; 3 -> DOWN     (HEX: 8)
0000199C                           885  ; 2 -> RIGHT    (HEX: 4)
0000199C                           886  ; 1 -> UP       (HEX: 2)
0000199C                           887  ; 0 -> LEFT     (HEX: 1)
0000199C                           888  ; ------------------------------------------------------------------------------
0000199C                           889              
0000199C  48E7 F800                890              MOVEM.L D0-D4,-(A7)
000019A0                           891              
000019A0                           892              ; READ FIRST PART
000019A0  103C 0013                893              MOVE.B  #19,D0
000019A4  223C 50104D20            894              MOVE.L  #KBDPAUSE<<24|KBDFIRE3<<16|KBDFIRE2<<8|KBDFIRE1,D1
000019AA  4E4F                     895              TRAP    #15
000019AC                           896  
000019AC                           897              ; CONVERT TO DESIRED FORMAT
000019AC  4EB9 000019E4            898              JSR     .CONVERT
000019B2                           899  
000019B2                           900              ; READ SECOND PART
000019B2  223C 28272625            901              MOVE.L  #KBDDOWN<<24|KBDRIGHT<<16|KBDUP<<8|KBDLEFT,D1
000019B8  4E4F                     902              TRAP    #15
000019BA                           903              
000019BA                           904              ;CONVERT TO DESIRED FORMAT
000019BA  4EB9 000019E4            905              JSR .CONVERT
000019C0                           906  
000019C0                           907              ;GET KBDEDGE (IF SOME KEY HAVE CHANGED THE VALUE)
000019C0  1039 000022C8            908              MOVE.B  (KBDVAL),D0             ;D0 -> LAST KBDVAL
000019C6  4600                     909              NOT.B   D0                      ;D2 -> ACTUAL KBDVAL
000019C8  C002                     910              AND.B   D2,D0
000019CA  13C0 000022C9            911              MOVE.B  D0,(KBDEDGE)
000019D0                           912              
000019D0                           913         
000019D0  B03C 0000                914              CMP.B   #0,D0
000019D4  6700 0008                915              BEQ     .NOACT          
000019D8                           916              
000019D8                           917              ;STORE NEW KBDVAL
000019D8  13C2 000022C8            918              MOVE.B  D2,(KBDVAL)
000019DE                           919  .NOACT
000019DE                           920              
000019DE  4CDF 001F                921              MOVEM.L (A7)+,D0-D4
000019E2                           922              
000019E2  4E73                     923              RTE    
000019E4                           924              
000019E4                           925  .CONVERT 
000019E4  363C 0003                926              MOVE.W  #3,D3
000019E8                           927              
000019E8  E189                     928  .LOOP       LSL.L   #8,D1
000019EA  E312                     929              ROXL.B  #1,D2
000019EC  51CB FFFA                930              DBRA.W  D3,.LOOP
000019F0  4E75                     931              RTS
000019F2                           932             
000019F2                           933  
000019F2                           934  ;------------------------------------------------------------------------------            
000019F2                           935  COLWALLRIGHT
000019F2                           936  ; COLLISION PAC-MAN WITH WALL
000019F2                           937  ; INPUT    : NONE
000019F2                           938  ; OUTPUT   : NONE
000019F2                           939  ; MODIFIES : NONE
000019F2                           940  ; ------------------------------------------------------------------------------
000019F2                           941  
000019F2  48E7 F800                942              MOVEM.L D0-D4,-(A7)
000019F6                           943  
000019F6  3039 0000315A            944              MOVE.W  (PMPOSX),D0
000019FC  5140                     945              SUB.W   #8,D0
000019FE  3239 0000315C            946              MOVE.W  (PMPOSY),D1
00001A04  5041                     947              ADD.W   #8,D1
00001A06                           948              
00001A06  81FC 0010                949              DIVS.W  #16,D0
00001A0A  83FC 0010                950              DIVS.W  #16,D1
00001A0E                           951              
00001A0E  5940                     952              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001A10  5941                     953              SUB.W   #4,D1
00001A12                           954              
00001A12  41F9 000022CC            955              LEA.L   MAPVAR,A0
00001A18                           956              
00001A18  5240                     957              ADD.W   #1,D0
00001A1A  5341                     958              SUB.W   #1,D1
00001A1C  C2FC 0020                959              MULU.W  #32,D1
00001A20  D041                     960              ADD.W   D1,D0
00001A22                           961              
00001A22  3240                     962              MOVE.W  D0,A1
00001A24  13C0 000026CC            963              MOVE.B  D0,POSCON
00001A2A                           964  
00001A2A  1A29 22CC                965              MOVE.B  MAPVAR(A1),D5
00001A2E                           966              
00001A2E  4CDF 001F                967              MOVEM.L (A7)+,D0-D4
00001A32                           968              
00001A32  4E75                     969              RTS
00001A34                           970  
00001A34                           971  
00001A34                           972  ;------------------------------------------------------------------------------            
00001A34                           973  COLWALLLEFT
00001A34                           974  ; COLLISION PAC-MAN WITH WALL
00001A34                           975  ; INPUT    : NONE
00001A34                           976  ; OUTPUT   : NONE
00001A34                           977  ; MODIFIES : NONE
00001A34                           978  ; ------------------------------------------------------------------------------
00001A34                           979  
00001A34  48E7 F800                980              MOVEM.L D0-D4,-(A7)
00001A38                           981  
00001A38  3039 0000315A            982              MOVE.W  (PMPOSX),D0
00001A3E  5C40                     983              ADD.W   #6,D0
00001A40  3239 0000315C            984              MOVE.W  (PMPOSY),D1
00001A46  5041                     985              ADD.W   #8,D1
00001A48                           986              
00001A48  81FC 0010                987              DIVS.W  #16,D0
00001A4C  83FC 0010                988              DIVS.W  #16,D1
00001A50                           989              
00001A50  5940                     990              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001A52  5941                     991              SUB.W   #4,D1
00001A54                           992              
00001A54  41F9 000022CC            993              LEA.L   MAPVAR,A0
00001A5A                           994              
00001A5A  5340                     995              SUB.W   #1,D0
00001A5C  5341                     996              SUB.W   #1,D1
00001A5E  C2FC 0020                997              MULU.W  #32,D1
00001A62  D041                     998              ADD.W   D1,D0
00001A64                           999  
00001A64  3240                    1000              MOVE.W  D0,A1
00001A66  13C0 000026CC           1001              MOVE.B  D0,POSCON
00001A6C                          1002  
00001A6C  1A29 22CC               1003              MOVE.B  MAPVAR(A1),D5               
00001A70                          1004  
00001A70                          1005              
00001A70  4CDF 001F               1006              MOVEM.L (A7)+,D0-D4
00001A74                          1007              
00001A74  4E75                    1008              RTS
00001A76                          1009  
00001A76                          1010  ;------------------------------------------------------------------------------            
00001A76                          1011  COLWALLDOWN
00001A76                          1012  ; COLLISION PAC-MAN WITH WALL
00001A76                          1013  ; INPUT    : NONE
00001A76                          1014  ; OUTPUT   : NONE
00001A76                          1015  ; MODIFIES : NONE
00001A76                          1016  ; ------------------------------------------------------------------------------
00001A76                          1017  
00001A76  48E7 F800               1018              MOVEM.L D0-D4,-(A7)
00001A7A                          1019  
00001A7A  3039 0000315A           1020              MOVE.W  (PMPOSX),D0
00001A80                          1021              ;ADD.W   #8,D0
00001A80  3239 0000315C           1022              MOVE.W  (PMPOSY),D1
00001A86  5041                    1023              ADD.W   #8,D1
00001A88                          1024              
00001A88  81FC 0010               1025              DIVS.W  #16,D0
00001A8C  83FC 0010               1026              DIVS.W  #16,D1
00001A90                          1027              
00001A90  5940                    1028              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001A92  5941                    1029              SUB.W   #4,D1
00001A94                          1030              
00001A94  41F9 000022CC           1031              LEA.L   MAPVAR,A0
00001A9A                          1032              
00001A9A  C2FC 0020               1033              MULU.W  #32,D1
00001A9E  D041                    1034              ADD.W   D1,D0
00001AA0                          1035  
00001AA0  3240                    1036              MOVE.W  D0,A1
00001AA2  13C0 000026CC           1037              MOVE.B  D0,POSCON
00001AA8                          1038  
00001AA8  1A29 22CC               1039              MOVE.B  MAPVAR(A1),D5 
00001AAC                          1040  
00001AAC                          1041              
00001AAC  4CDF 001F               1042              MOVEM.L (A7)+,D0-D4
00001AB0                          1043              
00001AB0  4E75                    1044              RTS
00001AB2                          1045  
00001AB2                          1046  
00001AB2                          1047  ;------------------------------------------------------------------------------            
00001AB2                          1048  COLWALLUP
00001AB2                          1049  ; COLLISION PAC-MAN WITH WALL
00001AB2                          1050  ; INPUT    : NONE
00001AB2                          1051  ; OUTPUT   : NONE
00001AB2                          1052  ; MODIFIES : NONE
00001AB2                          1053  ; ------------------------------------------------------------------------------
00001AB2                          1054  
00001AB2  48E7 F800               1055              MOVEM.L D0-D4,-(A7)
00001AB6                          1056  
00001AB6  3039 0000315A           1057              MOVE.W  (PMPOSX),D0
00001ABC                          1058              ;SUB.W   #8,D0
00001ABC  3239 0000315C           1059              MOVE.W  (PMPOSY),D1
00001AC2  5C41                    1060              ADD.W   #6,D1
00001AC4                          1061              
00001AC4                          1062              
00001AC4  81FC 0010               1063              DIVS.W  #16,D0
00001AC8  83FC 0010               1064              DIVS.W  #16,D1
00001ACC                          1065              
00001ACC  5940                    1066              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001ACE  5941                    1067              SUB.W   #4,D1
00001AD0                          1068              
00001AD0  41F9 000022CC           1069              LEA.L   MAPVAR,A0
00001AD6                          1070              
00001AD6  5341                    1071              SUB.W   #1,D1
00001AD8                          1072              ;CMP     #1,D1
00001AD8                          1073              ;BLO     BUCLE4
00001AD8  C2FC 0020               1074              MULU.W  #32,D1
00001ADC  D041                    1075              ADD.W   D1,D0
00001ADE                          1076  
00001ADE                          1077  ;BUCLE4            
00001ADE  3240                    1078              MOVE.W  D0,A1
00001AE0  13C0 000026CC           1079              MOVE.B  D0,POSCON
00001AE6                          1080  
00001AE6  1A29 22CC               1081              MOVE.B  MAPVAR(A1),D5 
00001AEA                          1082  
00001AEA                          1083              ;MOVE.B  #0,D5
00001AEA                          1084              
00001AEA  4CDF 001F               1085              MOVEM.L (A7)+,D0-D4
00001AEE                          1086              
00001AEE  4E75                    1087              RTS
00001AF0                          1088  
00001AF0                          1089  
00001AF0                          1090  ;------------------------------------------------------------------------------            
00001AF0                          1091  GETPOINTS
00001AF0                          1092  ; COLLISION PAC-MAN WITH WALL
00001AF0                          1093  ; INPUT    : NONE
00001AF0                          1094  ; OUTPUT   : NONE
00001AF0                          1095  ; MODIFIES : NONE
00001AF0                          1096  ; ------------------------------------------------------------------------------
00001AF0                          1097  
00001AF0  48E7 F800               1098              MOVEM.L D0-D4,-(A7)
00001AF4                          1099  
00001AF4  3039 0000315A           1100              MOVE.W  (PMPOSX),D0
00001AFA                          1101              ;SUB.W   #8,D0
00001AFA  3239 0000315C           1102              MOVE.W  (PMPOSY),D1
00001B00  0641 0010               1103              ADD.W   #16,D1
00001B04                          1104              
00001B04                          1105              
00001B04  81FC 0010               1106              DIVS.W  #16,D0
00001B08  83FC 0010               1107              DIVS.W  #16,D1
00001B0C                          1108              
00001B0C  5940                    1109              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001B0E  5941                    1110              SUB.W   #4,D1
00001B10                          1111                          
00001B10  5341                    1112              SUB.W   #1,D1
00001B12  C2FC 0020               1113              MULU.W  #32,D1
00001B16  D041                    1114              ADD.W   D1,D0
00001B18                          1115  
00001B18  3240                    1116              MOVE.W  D0,A1
00001B1A  1A29 22CC               1117              MOVE.B  MAPVAR(A1),D5
00001B1E                          1118              
00001B1E  BA7C 0000               1119              CMP     #0,D5
00001B22  6700 003A               1120              BEQ     .DONE
00001B26  BA7C 0002               1121              CMP     #2,D5
00001B2A  6700 0020               1122              BEQ     .POINT
00001B2E  BA7C 0003               1123              CMP     #3,D5
00001B32  6700 0006               1124              BEQ     .BPOINT
00001B36  6600 0026               1125              BNE     .DONE
00001B3A                          1126  .BPOINT
00001B3A  137C 0000 22CC          1127              MOVE.B  #0,MAPVAR(A1)
00001B40  0679 0032 00003172      1128              ADD.W   #50,(SCOPOINTS)
00001B48  6600 0014               1129              BNE     .DONE
00001B4C                          1130  .POINT
00001B4C  137C 0000 22CC          1131              MOVE.B  #0,MAPVAR(A1)
00001B52  0679 000A 00003172      1132              ADD.W   #10,(SCOPOINTS)
00001B5A  6600 0002               1133              BNE     .DONE            
00001B5E                          1134  .DONE                        
00001B5E  4CDF 001F               1135              MOVEM.L (A7)+,D0-D4
00001B62                          1136              
00001B62  4E75                    1137              RTS
00001B64                          1138  
00001B64                          1139  
00001B64                          1140  
00001B64                          1141  
00001B64                          1142  
00001B64                          1143  -------------------- end include --------------------
00001B64                          1144              INCLUDE "MAP.X68"
00001B64                          1145  
00001B64                          1146  ; ------------------------------------------------------------------------------
00001B64                          1147  MAPINIT
00001B64                          1148  ; INIT MAP
00001B64                          1149  ; INPUT    : NONE
00001B64                          1150  ; OUTPUT   : NONE
00001B64                          1151  ; MODIFIES : NONE
00001B64                          1152  ; ------------------------------------------------------------------------------            
00001B64                          1153              
00001B64                          1154              ;MOVE.L  #DIBFIGWALL,($80+2*4)          ;INSTALL SUBRUTINE TO TRAP #2
00001B64                          1155              ;MOVE.L  #DIBFIGPOINT,($80+3*4)          ;INSTALL SUBRUTINE TO TRAP #3
00001B64                          1156              ;MOVE.L  #DIBFIGBPOINT,($80+4*4)          ;INSTALL SUBRUTINE TO TRAP #4
00001B64                          1157              
00001B64  48E7 FE00               1158              MOVEM.L D0-D6,-(A7)
00001B68  48E7 00C0               1159              MOVEM.L A0-A1,-(A7)
00001B6C                          1160              
00001B6C  41F8 1000               1161              LEA.L   MAPMAT,A0
00001B70  43F9 000022CC           1162              LEA.L   MAPVAR,A1
00001B76  3C3C 0030               1163              MOVE.W  #48,D6
00001B7A  343C 001F               1164              MOVE.W  #31,D2
00001B7E                          1165  BUCLE_FILA
00001B7E  3A3C 0030               1166              MOVE.W  #48,D5
00001B82  323C 001F               1167              MOVE.W  #31,D1
00001B86  0646 0010               1168              ADD.W   #16,D6
00001B8A                          1169  
00001B8A                          1170  BUCLE_COLUMNA
00001B8A  0645 0010               1171              ADD.W   #16,D5
00001B8E                          1172  
00001B8E  1018                    1173              MOVE.B  (A0)+,D0
00001B90  12C0                    1174              MOVE.B  D0,(A1)+
00001B92                          1175               
00001B92  B07C 0000               1176              CMP     #0,D0
00001B96  6700 0034               1177              BEQ     ZERO
00001B9A  B07C 0004               1178              CMP     #4,D0
00001B9E  6700 002C               1179              BEQ     ZERO
00001BA2  B07C 0001               1180              CMP     #1,D0
00001BA6  6600 0008               1181              BNE     NOTWALL
00001BAA  4EB9 00001C52           1182              JSR     DIBFIGWALL
00001BB0                          1183  NOTWALL
00001BB0  B07C 0002               1184              CMP     #2,D0
00001BB4  6600 0008               1185              BNE     NOTPOINT
00001BB8  4EB9 00001C8A           1186              JSR     DIBFIGPOINT
00001BBE                          1187  NOTPOINT
00001BBE  B07C 0003               1188              CMP     #3,D0
00001BC2  6600 0008               1189              BNE     ZERO
00001BC6  4EB9 00001CC6           1190              JSR     DIBFIGBPOINT
00001BCC                          1191           
00001BCC                          1192  ZERO
00001BCC  51C9 FFBC               1193              DBRA    D1,BUCLE_COLUMNA  
00001BD0  51CA FFAC               1194              DBRA    D2,BUCLE_FILA
00001BD4                          1195              
00001BD4  4CDF 0300               1196              MOVEM.L (A7)+,A0-A1
00001BD8  4CDF 007F               1197              MOVEM.L (A7)+,D0-D6
00001BDC                          1198  
00001BDC                          1199  
00001BDC                          1200              
00001BDC  4E75                    1201              RTS            
00001BDE                          1202  
00001BDE                          1203  ; ------------------------------------------------------------------------------
00001BDE                          1204  MAPPLOT
00001BDE                          1205  ; INIT MAP
00001BDE                          1206  ; INPUT    : NONE
00001BDE                          1207  ; OUTPUT   : NONE
00001BDE                          1208  ; MODIFIES : NONE
00001BDE                          1209  ; ------------------------------------------------------------------------------            
00001BDE                          1210  
00001BDE  48E7 FE00               1211              MOVEM.L D0-D6,-(A7)
00001BE2  48E7 0080               1212              MOVEM.L A0,-(A7)
00001BE6                          1213  
00001BE6  41F9 000022CC           1214              LEA.L   MAPVAR,A0
00001BEC  3C3C 0030               1215              MOVE.W  #48,D6
00001BF0  343C 001F               1216              MOVE.W  #31,D2
00001BF4                          1217  BUCLE_FILA2
00001BF4  3A3C 0030               1218              MOVE.W  #48,D5
00001BF8  323C 001F               1219              MOVE.W  #31,D1
00001BFC  0646 0010               1220              ADD.W   #16,D6
00001C00                          1221  
00001C00                          1222  BUCLE_COLUMNA2
00001C00  0645 0010               1223              ADD.W   #16,D5       
00001C04                          1224  
00001C04  1018                    1225              MOVE.B  (A0)+,D0
00001C06                          1226  
00001C06  B07C 0000               1227              CMP     #0,D0
00001C0A  6700 0034               1228              BEQ     ZERO2
00001C0E  B07C 0004               1229              CMP     #4,D0
00001C12  6700 002C               1230              BEQ     ZERO2
00001C16  B07C 0001               1231              CMP     #1,D0
00001C1A  6600 0008               1232              BNE     NOTWALL2
00001C1E  4EB9 00001C52           1233              JSR     DIBFIGWALL
00001C24                          1234  NOTWALL2
00001C24  B07C 0002               1235              CMP     #2,D0
00001C28  6600 0008               1236              BNE     NOTPOINT2
00001C2C  4EB9 00001C8A           1237              JSR     DIBFIGPOINT
00001C32                          1238  NOTPOINT2
00001C32  B07C 0003               1239              CMP     #3,D0
00001C36  6600 0008               1240              BNE     ZERO2
00001C3A  4EB9 00001CC6           1241              JSR     DIBFIGBPOINT
00001C40                          1242  
00001C40                          1243     
00001C40                          1244  ZERO2
00001C40  51C9 FFBE               1245              DBRA    D1,BUCLE_COLUMNA2
00001C44                          1246              
00001C44  51CA FFAE               1247              DBRA    D2,BUCLE_FILA2
00001C48                          1248              
00001C48  4CDF 0100               1249              MOVEM.L (A7)+,A0
00001C4C  4CDF 007F               1250              MOVEM.L (A7)+,D0-D6
00001C50                          1251              
00001C50                          1252              
00001C50  4E75                    1253              RTS 
00001C52                          1254              
00001C52                          1255  ; -----------------------------------------------------------------------------
00001C52                          1256  DIBFIGWALL
00001C52                          1257  ; SUBRUTINE DRAW MAP
00001C52                          1258  ; INPUT    : D5=POSITION X, D6=POSITION Y
00001C52                          1259  ; OUTPUT   : NONE
00001C52                          1260  ; MODIFIES : NONE
00001C52                          1261  ; -----------------------------------------------------------------------------
00001C52  48E7 FE00               1262              MOVEM.L D0-D6,-(A7)
00001C56                          1263              ; SET CONTOURN COLOR
00001C56  103C 0050               1264              MOVE.B  #80,D0
00001C5A  223C 00AA0000           1265              MOVE.L  #$00AA0000,D1
00001C60  4E4F                    1266              TRAP    #15
00001C62                          1267              
00001C62                          1268              ; SET FILL COLOR
00001C62  103C 0051               1269              MOVE.B  #81,D0
00001C66  223C 00FF0000           1270              MOVE.L  #$00FF0000,D1
00001C6C  4E4F                    1271              TRAP    #15
00001C6E                          1272              
00001C6E                          1273              ; DEFINE COORDINATES RECTANGLE
00001C6E  3205                    1274              MOVE.W  D5,D1
00001C70  3406                    1275              MOVE.W  D6,D2
00001C72  0645 0010               1276              ADD.W   #16,D5
00001C76  0646 0010               1277              ADD.W   #16,D6
00001C7A  3605                    1278              MOVE.W  D5,D3
00001C7C  3806                    1279              MOVE.W  D6,D4
00001C7E                          1280              
00001C7E                          1281              ; DRAW RECTANGLE
00001C7E  103C 0057               1282              MOVE.B  #87,D0
00001C82  4E4F                    1283              TRAP    #15
00001C84                          1284              
00001C84  4CDF 007F               1285              MOVEM.L (A7)+,D0-D6
00001C88                          1286  
00001C88  4E75                    1287              RTS
00001C8A                          1288              
00001C8A                          1289  ; -----------------------------------------------------------------------------
00001C8A                          1290  DIBFIGPOINT
00001C8A                          1291  ; SUBRUTINE DRAW MAP
00001C8A                          1292  ; INPUT    : D5=POSITION X, D6=POSITION Y
00001C8A                          1293  ; OUTPUT   : NONE
00001C8A                          1294  ; MODIFIES : NONE
00001C8A                          1295  ; -----------------------------------------------------------------------------
00001C8A  48E7 FE00               1296              MOVEM.L D0-D6,-(A7)
00001C8E                          1297              ; SET CONTOURN COLOR
00001C8E  103C 0050               1298              MOVE.B  #80,D0
00001C92  223C 0000AAAA           1299              MOVE.L  #$0000AAAA,D1
00001C98  4E4F                    1300              TRAP    #15
00001C9A                          1301              
00001C9A                          1302              ; SET FILL COLOR
00001C9A  103C 0051               1303              MOVE.B  #81,D0
00001C9E  223C 0000FFFF           1304              MOVE.L  #$0000FFFF,D1
00001CA4  4E4F                    1305              TRAP    #15
00001CA6                          1306              
00001CA6                          1307              ; DEFINE COORDINATES RECTANGLE
00001CA6  3205                    1308              MOVE.W  D5,D1
00001CA8  5041                    1309              ADD.W   #8,D1
00001CAA  5541                    1310              SUB.W   #2,D1
00001CAC  3406                    1311              MOVE.W  D6,D2
00001CAE  5042                    1312              ADD.W   #8,D2
00001CB0  5542                    1313              SUB.W   #2,D2
00001CB2                          1314              
00001CB2  3601                    1315              MOVE.W  D1,D3
00001CB4  5843                    1316              ADD.W   #2*2,D3
00001CB6  3802                    1317              MOVE.W  D2,D4
00001CB8  5844                    1318              ADD.W   #2*2,D4
00001CBA                          1319              
00001CBA                          1320              ; DRAW POINT
00001CBA  103C 0058               1321              MOVE.B  #88,D0
00001CBE  4E4F                    1322              TRAP    #15
00001CC0                          1323              
00001CC0  4CDF 007F               1324              MOVEM.L (A7)+,D0-D6
00001CC4                          1325              
00001CC4  4E75                    1326              RTS
00001CC6                          1327  
00001CC6                          1328  
00001CC6                          1329  ; -----------------------------------------------------------------------------
00001CC6                          1330  DIBFIGBPOINT
00001CC6                          1331  ; SUBRUTINE DRAW MAP
00001CC6                          1332  ; INPUT    : D5=POSITION X, D6=POSITION Y
00001CC6                          1333  ; OUTPUT   : NONE
00001CC6                          1334  ; MODIFIES : NONE
00001CC6                          1335  ; -----------------------------------------------------------------------------
00001CC6  48E7 FE00               1336              MOVEM.L D0-D6,-(A7)
00001CCA                          1337              ; SET CONTOURN COLOR
00001CCA  103C 0050               1338              MOVE.B  #80,D0
00001CCE  223C 0000AAAA           1339              MOVE.L  #$0000AAAA,D1
00001CD4  4E4F                    1340              TRAP    #15
00001CD6                          1341              
00001CD6                          1342              ; SET FILL COLOR
00001CD6  103C 0051               1343              MOVE.B  #81,D0
00001CDA  223C 0000FFFF           1344              MOVE.L  #$0000FFFF,D1
00001CE0  4E4F                    1345              TRAP    #15
00001CE2                          1346              
00001CE2                          1347              ; DEFINE COORDINATES RECTANGLE
00001CE2  3205                    1348              MOVE.W  D5,D1
00001CE4  5041                    1349              ADD.W   #8,D1
00001CE6  5941                    1350              SUB.W   #4,D1
00001CE8  3406                    1351              MOVE.W  D6,D2
00001CEA  5042                    1352              ADD.W   #8,D2
00001CEC  5942                    1353              SUB.W   #4,D2
00001CEE                          1354              
00001CEE  3601                    1355              MOVE.W  D1,D3
00001CF0  5043                    1356              ADD.W   #4*2,D3
00001CF2  3802                    1357              MOVE.W  D2,D4
00001CF4  5044                    1358              ADD.W   #4*2,D4
00001CF6                          1359              
00001CF6                          1360              ; DRAW BIG POINT
00001CF6  103C 0058               1361              MOVE.B  #88,D0
00001CFA  4E4F                    1362              TRAP    #15
00001CFC                          1363              
00001CFC  4CDF 007F               1364              MOVEM.L (A7)+,D0-D6
00001D00                          1365              
00001D00  4E75                    1366              RTS
00001D02                          1367  
00001D02                          1368  
00001D02                          1369  
00001D02                          1370  
00001D02                          1371  
00001D02                          1372  
00001D02                          1373  
00001D02                          1374  
00001D02                          1375  
00001D02                          1376  
00001D02                          1377  
00001D02                          1378  
00001D02                          1379  -------------------- end include --------------------
00001D02                          1380              INCLUDE "LIB/UTLCONST.X68"
00001D02                          1381  ; ==============================================================================
00001D02                          1382  ; UTIL CONSTANTS
00001D02                          1383  ; ==============================================================================
00001D02                          1384  
00001D02  =00000008               1385  UTLCHRWD    EQU     8                       ; CHARACTER WIDTH IN PIXELS
00001D02                          1386  
00001D02                          1387  -------------------- end include --------------------
00001D02                          1388              INCLUDE "LIB/UTLCODE.X68"
00001D02                          1389  ; =============================================================================
00001D02                          1390  ; UTILITY CODE
00001D02                          1391  ; =============================================================================
00001D02                          1392  
00001D02                          1393  ; -----------------------------------------------------------------------------
00001D02                          1394  UTLINIT
00001D02                          1395  ; INITIALIZES UTILITY CODE
00001D02                          1396  ; INPUT    - NONE
00001D02                          1397  ; OUTPUT   - NONE
00001D02                          1398  ; MODIFIES - NONE
00001D02                          1399  ; -----------------------------------------------------------------------------
00001D02  48E7 C000               1400              MOVEM.L D0-D1,-(A7)
00001D06  103C 0008               1401              MOVE.B  #8,D0
00001D0A  4E4F                    1402              TRAP    #15
00001D0C  13C1 0000317A           1403              MOVE.B  D1,(UTLRNDIX)
00001D12  4CDF 0003               1404              MOVEM.L (A7)+,D0-D1
00001D16  4E75                    1405              RTS
00001D18                          1406  
00001D18                          1407  ; -----------------------------------------------------------------------------
00001D18                          1408  UTLPRINT
00001D18                          1409  ; PRINT SCREEN CENTERED TEXT
00001D18                          1410  ; INPUT    : A0 POINTER TO ZERO-TERMINATED STRING
00001D18                          1411  ;            D0.B SCREEN ROW TO PRINT TEXT
00001D18                          1412  ; OUTPUT   : D0.B NEXT ROW
00001D18                          1413  ; MODIFIES : NONE (ASIDE OF OUTPUT)
00001D18                          1414  ; -----------------------------------------------------------------------------
00001D18  48E7 C0C0               1415              MOVEM.L D0-D1/A0-A1,-(A7)
00001D1C  4201                    1416              CLR.B   D1
00001D1E  2248                    1417              MOVE.L  A0,A1
00001D20  4A18                    1418  .LOOP       TST.B   (A0)+
00001D22  6700 0006               1419              BEQ     .ENDLOOP
00001D26  5201                    1420              ADDQ.B  #1,D1
00001D28  60F6                    1421              BRA     .LOOP
00001D2A  E209                    1422  .ENDLOOP    LSR.B   #1,D1
00001D2C  0401 0028               1423              SUB.B   #(SCRWIDTH/UTLCHRWD)/2,D1
00001D30  4401                    1424              NEG.B   D1
00001D32  E141                    1425              ASL.W   #8,D1
00001D34  8240                    1426              OR.W    D0,D1
00001D36  103C 000B               1427              MOVE.B  #11,D0
00001D3A  4E4F                    1428              TRAP    #15
00001D3C  103C 000D               1429              MOVE.B  #13,D0
00001D40  4E4F                    1430              TRAP    #15
00001D42  4CDF 0303               1431              MOVEM.L (A7)+,D0-D1/A0-A1
00001D46  5200                    1432              ADDQ.B  #1,D0
00001D48  4E75                    1433              RTS
00001D4A                          1434              
00001D4A                          1435              
00001D4A                          1436  
00001D4A                          1437  
00001D4A                          1438              ; (SCRWIDTH/UTLCHRWD)/2 - D1/2
00001D4A                          1439  
00001D4A                          1440  
00001D4A                          1441  ; -----------------------------------------------------------------------------
00001D4A                          1442  UTLRAND
00001D4A                          1443  ; PROVIDES A PSEUDO-RANDOM BYTE
00001D4A                          1444  ; INPUT    - NONE
00001D4A                          1445  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
00001D4A                          1446  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001D4A                          1447  ; -----------------------------------------------------------------------------
00001D4A  2F08                    1448              MOVE.L  A0,-(A7)
00001D4C  41F9 00001D68           1449              LEA     .RANDVEC,A0
00001D52  4280                    1450              CLR.L   D0
00001D54  1039 0000317A           1451              MOVE.B  (UTLRNDIX),D0
00001D5A  1030 0800               1452              MOVE.B  (A0,D0.L),D0
00001D5E  5239 0000317A           1453              ADDQ.B  #1,(UTLRNDIX)
00001D64  205F                    1454              MOVE.L  (A7)+,A0
00001D66  4E75                    1455              RTS
00001D68                          1456  
00001D68                          1457  
00001D68= A2 EE 9A 0C F5 24 ...   1458  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
00001D70= 2A A3 51 26 E0 AC ...   1459              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
00001D78= 75 51 CA FD 33 EB ...   1460              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
00001D80= 60 CC E7 B8 9A EB ...   1461              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
00001D88= 1D 76 B5 95 B0 89 ...   1462              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
00001D90= 39 15 48 C9 6E CA ...   1463              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
00001D98= 43 E7 E2 7C 37 25 ...   1464              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
00001DA0= E9 94 CE E9 E4 52 ...   1465              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
00001DA8= 37 6D 9A 84 A2 28 ...   1466              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
00001DB0= 19 E2 C6 77 80 D4 ...   1467              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
00001DB8= 0A 5A 32 67 33 C2 ...   1468              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
00001DC0= 59 80 DC 0E 57 FC ...   1469              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
00001DC8= 8A AB BC F7 07 4D ...   1470              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
00001DD0= EF D5 77 6E 1E BB ...   1471              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
00001DD8= D6 E0 2A 8F BD 28 ...   1472              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
00001DE0= 13 4F 66 EC 0A 64 ...   1473              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
00001DE8= 56 52 9A 16 9B 90 ...   1474              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
00001DF0= 06 8A A4 F7 01 DA ...   1475              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
00001DF8= F2 E7 77 28 B1 76 ...   1476              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
00001E00= A4 42 E3 81 B1 67 ...   1477              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
00001E08= BF CE FA 16 BF 38 ...   1478              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
00001E10= D1 8B 50 0C 5F 49 ...   1479              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
00001E18= DE 4C 14 A2 40 DC ...   1480              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
00001E20= B6 9B 0A 38 5D AB ...   1481              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
00001E28= E2 1B DD 75 15 82 ...   1482              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
00001E30= 8A 26 51 30 9F 47 ...   1483              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
00001E38= 1E 8A BB 71 C6 6E ...   1484              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
00001E40= 9F 47 E5 34 94 27 ...   1485              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
00001E48= 7D 06 D6 BA 30 0F ...   1486              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
00001E50= EC 7F 7E 03 CF 2D ...   1487              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
00001E58= 94 5B 23 F2 8B CD ...   1488              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
00001E60= 74 33 EC B9 0F D5 ...   1489              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
00001E68                          1490  
00001E68                          1491  
00001E68                          1492  
00001E68                          1493  
00001E68                          1494  -------------------- end include --------------------
00001E68                          1495              INCLUDE "INTRO.X68"
00001E68                          1496  ; ==============================================================================
00001E68                          1497  ; INTRO SCREEN
00001E68                          1498  ; ==============================================================================
00001E68                          1499  
00001E68                          1500  ; ------------------------------------------------------------------------------
00001E68                          1501  ISCINIT
00001E68                          1502  ; INTRO SCREEN INIT
00001E68                          1503  ; INPUT    : NONE
00001E68                          1504  ; OUTPUT   : NONE
00001E68                          1505  ; MODIFIES : NONE
00001E68                          1506  ; ------------------------------------------------------------------------------
00001E68  4279 00003174           1507              CLR.W   (ISCTIMER)
00001E6E  4EB9 00001EE8           1508              JSR     OPENFILE
00001E74  4E75                    1509              RTS
00001E76                          1510  
00001E76                          1511  ; ------------------------------------------------------------------------------
00001E76                          1512  ISCUPD
00001E76                          1513  ; INTRO SCREEN UPDATE
00001E76                          1514  ; INPUT    : NONE
00001E76                          1515  ; OUTPUT   : NONE
00001E76                          1516  ; MODIFIES : NONE
00001E76                          1517  ; ------------------------------------------------------------------------------
00001E76  0839 0004 000022C8      1518              BTST.B  #4,(KBDVAL)
00001E7E  6700 000A               1519              BEQ     .CONT
00001E82  33FC 0001 00003178      1520              MOVE.W  #1,(STANEXT)
00001E8A                          1521  .CONT       ;ADDQ.W  #1,(ISCTIMER)
00001E8A                          1522  ;            CMP.W   #500,(ISCTIMER)
00001E8A                          1523  ;            BLT     .DONE
00001E8A                          1524  ;            MOVE.W  #1,(STANEXT)
00001E8A  4E75                    1525  .DONE       RTS
00001E8C                          1526  
00001E8C                          1527  ; ------------------------------------------------------------------------------
00001E8C                          1528  ISCPLOT
00001E8C                          1529  ; INTRO SCREEN PLOT
00001E8C                          1530  ; INPUT    : NONE
00001E8C                          1531  ; OUTPUT   : NONE
00001E8C                          1532  ; MODIFIES : NONE
00001E8C                          1533  ; ------------------------------------------------------------------------------
00001E8C  48E7 C080               1534              MOVEM.L D0-D1/A0,-(A7)
00001E90                          1535              
00001E90  4281                    1536              CLR.L   D1
00001E92  103C 0051               1537              MOVE.B  #81,D0
00001E96  4E4F                    1538              TRAP    #15
00001E98                          1539              
00001E98  4EB9 00001F1A           1540              JSR     IMGPLOT
00001E9E                          1541              
00001E9E  0839 0004 000022CB      1542              BTST.B  #4,(SCRCYCCT)
00001EA6  6700 0010               1543              BEQ     .DONE
00001EAA                          1544              
00001EAA  41F9 00001ECC           1545              LEA     .TXT2,A0
00001EB0  103C 0019               1546              MOVE.B  #25,D0
00001EB4  4EB8 1D18               1547              JSR     UTLPRINT
00001EB8                          1548              
00001EB8  4CDF 0103               1549  .DONE       MOVEM.L (A7)+,D0-D1/A0
00001EBC                          1550  
00001EBC  4E75                    1551              RTS
00001EBE= 50 41 43 2D 4D 41 ...   1552  .TXT1       DC.B    'PAC-MAN 68000',0
00001ECC= 50 52 45 53 53 20 ...   1553  .TXT2       DC.B    'PRESS SPACE BUTTON TO START',0
00001EE8                          1554              DS.W    0
00001EE8                          1555              
00001EE8                          1556  ;------------------------------------------------------------------------
00001EE8                          1557              
00001EE8                          1558  OPENFILE                 
00001EE8                          1559              ;OPEN FILE
00001EE8  43F8 18EC               1560              LEA     FILENAME,A1
00001EEC  303C 0033               1561              MOVE    #51,D0
00001EF0  4E4F                    1562              TRAP    #15
00001EF2                          1563              
00001EF2                          1564              ;READ FILE
00001EF2  243C 00000A8C           1565              MOVE.L  #FILESIZE,D2
00001EF8  43F9 000026CE           1566              LEA     BUFFER,A1
00001EFE  303C 0035               1567              MOVE    #53,D0
00001F02  4E4F                    1568              TRAP    #15
00001F04                          1569              
00001F04  263C 00000A8C           1570              MOVE.L  #FILESIZE,D3
00001F0A                          1571              
00001F0A                          1572  .convert_loop 
00001F0A  4A03                    1573              TST.B   D3
00001F0C  6700 000A               1574              BEQ     .END
00001F10  0419 0030               1575              SUB.B   #$30,(A1)+
00001F14  5303                    1576              SUB.B   #1,D3
00001F16  60F2                    1577              BRA     .convert_loop           
00001F18                          1578  .END        
00001F18                          1579  
00001F18                          1580           
00001F18                          1581            
00001F18                          1582              
00001F18  4E75                    1583              RTS
00001F1A                          1584  ; ------------------------------------------------------------------------------
00001F1A                          1585  IMGPLOT
00001F1A                          1586  ; TITLE IMAGE PLOT
00001F1A                          1587  ; INPUT    : NONE
00001F1A                          1588  ; OUTPUT   : NONE
00001F1A                          1589  ; MODIFIES : NONE
00001F1A                          1590  ; ------------------------------------------------------------------------------
00001F1A  48E7 FE00               1591              MOVEM.L D0-D6,-(A7)
00001F1E  48E7 00C0               1592              MOVEM.L A0-A1,-(A7)
00001F22                          1593              
00001F22                          1594              ;PLOT
00001F22                          1595   
00001F22  41F9 000026CE           1596              LEA.L   BUFFER,A0
00001F28  3C3C 00DC               1597              MOVE.W  #220,D6
00001F2C  343C 001C               1598              MOVE.W  #28,D2
00001F30                          1599  BUCLE_FILA3
00001F30  3A3C 0064               1600              MOVE.W  #100,D5
00001F34  323C 0065               1601              MOVE.W  #101,D1
00001F38  5846                    1602              ADD.W   #4,D6
00001F3A                          1603  
00001F3A                          1604  BUCLE_COLUMNA3
00001F3A  5845                    1605              ADD.W   #4,D5
00001F3C                          1606  
00001F3C  1018                    1607              MOVE.B  (A0)+,D0
00001F3E                          1608               
00001F3E  B07C 0001               1609              CMP     #1,D0
00001F42  6700 000C               1610              BEQ     ZERO3
00001F46  B07C 0000               1611              CMP     #0,D0
00001F4A  4EB9 00001F62           1612              JSR     DRAW
00001F50                          1613  ZERO3
00001F50  51C9 FFE8               1614              DBRA    D1,BUCLE_COLUMNA3
00001F54  51CA FFDA               1615              DBRA    D2,BUCLE_FILA3
00001F58                          1616              
00001F58  4CDF 0300               1617              MOVEM.L (A7)+,A0-A1
00001F5C  4CDF 007F               1618              MOVEM.L (A7)+,D0-D6
00001F60                          1619          
00001F60                          1620  
00001F60  4E75                    1621              RTS
00001F62                          1622  
00001F62                          1623  
00001F62                          1624  ; -----------------------------------------------------------------------------
00001F62                          1625  DRAW
00001F62                          1626  ; SUBRUTINE DRAW 
00001F62                          1627  ; INPUT    : D5=POSITION X, D6=POSITION Y
00001F62                          1628  ; OUTPUT   : NONE
00001F62                          1629  ; MODIFIES : NONE
00001F62                          1630  ; -----------------------------------------------------------------------------
00001F62  48E7 FE00               1631              MOVEM.L D0-D6,-(A7)
00001F66                          1632              ; SET CONTOURN COLOR
00001F66  103C 0050               1633              MOVE.B  #80,D0
00001F6A  223C 00AA0000           1634              MOVE.L  #$00AA0000,D1
00001F70  4E4F                    1635              TRAP    #15
00001F72                          1636              
00001F72                          1637              ; SET FILL COLOR
00001F72  103C 0051               1638              MOVE.B  #81,D0
00001F76  223C 00FF0000           1639              MOVE.L  #$00FF0000,D1
00001F7C  4E4F                    1640              TRAP    #15
00001F7E                          1641              
00001F7E                          1642              ; DEFINE COORDINATES RECTANGLE
00001F7E  3205                    1643              MOVE.W  D5,D1
00001F80  3406                    1644              MOVE.W  D6,D2
00001F82  5845                    1645              ADD.W   #4,D5
00001F84  5846                    1646              ADD.W   #4,D6
00001F86  3605                    1647              MOVE.W  D5,D3
00001F88  3806                    1648              MOVE.W  D6,D4
00001F8A                          1649              
00001F8A                          1650              ; DRAW RECTANGLE
00001F8A  103C 0057               1651              MOVE.B  #87,D0
00001F8E  4E4F                    1652              TRAP    #15
00001F90                          1653              
00001F90  4CDF 007F               1654              MOVEM.L (A7)+,D0-D6
00001F94                          1655  
00001F94  4E75                    1656              RTS
00001F96                          1657  
00001F96                          1658  
00001F96                          1659  
00001F96                          1660  
00001F96                          1661  
00001F96                          1662  
00001F96                          1663  -------------------- end include --------------------
00001F96                          1664              INCLUDE "INSTRUCTIONS.X68"
00001F96                          1665  ; ==============================================================================
00001F96                          1666  ; INSTRUCTIONS SCREEN
00001F96                          1667  ; ==============================================================================
00001F96                          1668  
00001F96                          1669  ; ------------------------------------------------------------------------------
00001F96                          1670  INSINIT
00001F96                          1671  ; INSTRUCTIONS SCREEN INIT
00001F96                          1672  ; INPUT    : NONE
00001F96                          1673  ; OUTPUT   : NONE
00001F96                          1674  ; MODIFIES : NONE
00001F96                          1675  ; ------------------------------------------------------------------------------
00001F96  4E75                    1676              RTS
00001F98                          1677  
00001F98                          1678  ; ------------------------------------------------------------------------------
00001F98                          1679  INSUPD
00001F98                          1680  ; INSTRUCTIONS SCREEN UPDATE
00001F98                          1681  ; INPUT    : NONE
00001F98                          1682  ; OUTPUT   : NONE
00001F98                          1683  ; MODIFIES : NONE
00001F98                          1684  ; ------------------------------------------------------------------------------
00001F98  4E75                    1685              RTS
00001F9A                          1686  
00001F9A                          1687  ; ------------------------------------------------------------------------------
00001F9A                          1688  INSPLOT
00001F9A                          1689  ; INSTRUCTIONS SCREEN PLOT
00001F9A                          1690  ; INPUT    : NONE
00001F9A                          1691  ; OUTPUT   : NONE
00001F9A                          1692  ; MODIFIES : NONE
00001F9A                          1693  ; ------------------------------------------------------------------------------
00001F9A                          1694  
00001F9A  48E7 C0C0               1695              MOVEM.L D0-D1/A0-A1,-(A7)
00001F9E  4281                    1696              CLR.L   D1
00001FA0  103C 0051               1697              MOVE.B  #81,D0
00001FA4  4E4F                    1698              TRAP    #15
00001FA6  103C 000B               1699              MOVE.B  #11,D0
00001FAA  43F9 0000210C           1700              LEA     .TXTLST,A1
00001FB0  2219                    1701  .LOOP       MOVE.L  (A1)+,D1
00001FB2  6700 000A               1702              BEQ     .DONE
00001FB6  2041                    1703              MOVE.L  D1,A0
00001FB8  4EB8 1D18               1704              JSR     UTLPRINT
00001FBC  60F2                    1705              BRA     .LOOP
00001FBE  4CDF 0303               1706  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1
00001FC2  4E75                    1707              RTS
00001FC4= 57 45 4C 43 4F 4D ...   1708  .TXT1       DC.B    'WELCOME TO THE WORLD OF MULTI-PONG 68000!',0
00001FEE= 59 4F 55 52 20 47 ...   1709  .TXT2       DC.B    'YOUR GOAL IN THIS GAME IS TO AVOID MISSING THE BALLS',0
00002023= 54 4F 20 54 48 49 ...   1710  .TXT3       DC.B    'TO THIS END, MOVE THE PAD USING THE KEYBOARD',0
00002050= 48 4F 57 20 54 4F ...   1711  .TXT4       DC.B    'HOW TO DO IT? YOU MAY ASK.',0
0000206B= 49 54 20 49 53 20 ...   1712  .TXT5       DC.B    'IT IS EASY: JUST USE THE UP KEY TO MOVE THE PAD...',0
0000209E= 55 50 21 00             1713  .TXT6       DC.B    'UP!',0
000020A2= 41 4E 44 20 55 53 ...   1714  .TXT7       DC.B    'AND USE THE DOWN KEY TO MOVE THE PAD DOWN.',0
000020CD= 57 48 41 54 20 41 ...   1715  .TXT8       DC.B    'WHAT ABOUT LEFT AND RIGHT?',0
000020E8= 4E 4F 2E 20 54 48 ...   1716  .TXT9       DC.B    'NO. THESE ARE FORBIDDEN DIRECTIONS',0
0000210C                          1717              DS.W    0
0000210C= 00001FC4 00001FEE ...   1718  .TXTLST     DC.L    .TXT1,.TXT2,.TXT3,.TXT4,.TXT5,.TXT6,.TXT7,.TXT8,.TXT9,0
00002134                          1719  
00002134                          1720  
00002134                          1721  -------------------- end include --------------------
00002134                          1722              INCLUDE "WIN.X68"
00002134                          1723  ; ==============================================================================
00002134                          1724  ; VICTORY SCREEN
00002134                          1725  ; ==============================================================================
00002134                          1726  
00002134                          1727  ; ------------------------------------------------------------------------------
00002134                          1728  WININIT
00002134                          1729  ; VICTORY SCREEN INIT
00002134                          1730  ; INPUT    : NONE
00002134                          1731  ; OUTPUT   : NONE
00002134                          1732  ; MODIFIES : NONE
00002134                          1733  ; ------------------------------------------------------------------------------
00002134  4E75                    1734              RTS
00002136                          1735  
00002136                          1736  ; ------------------------------------------------------------------------------
00002136                          1737  WINUPD
00002136                          1738  ; VICTORY SCREEN UPDATE
00002136                          1739  ; INPUT    : NONE
00002136                          1740  ; OUTPUT   : NONE
00002136                          1741  ; MODIFIES : NONE
00002136                          1742  ; ------------------------------------------------------------------------------
00002136  4E75                    1743              RTS
00002138                          1744  
00002138                          1745  ; ------------------------------------------------------------------------------
00002138                          1746  WINPLOT
00002138                          1747  ; VICTORY SCREEN PLOT
00002138                          1748  ; INPUT    : NONE
00002138                          1749  ; OUTPUT   : NONE
00002138                          1750  ; MODIFIES : NONE
00002138                          1751  ; ------------------------------------------------------------------------------
00002138  48E7 C080               1752              MOVEM.L D0-D1/A0,-(A7)
0000213C                          1753              
0000213C  4281                    1754              CLR.L   D1
0000213E  103C 0051               1755              MOVE.B  #81,D0
00002142  4E4F                    1756              TRAP    #15
00002144                          1757              
00002144  41F9 00002172           1758              LEA     .TXT1,A0
0000214A  103C 000A               1759              MOVE.B  #10,D0
0000214E  4EB8 1D18               1760              JSR     UTLPRINT
00002152                          1761              
00002152  0839 0004 000022CB      1762              BTST.B  #4,(SCRCYCCT)
0000215A  6700 0010               1763              BEQ     .DONE
0000215E                          1764              
0000215E  41F9 0000217B           1765              LEA     .TXT2,A0
00002164  103C 0019               1766              MOVE.B  #25,D0
00002168  4EB8 1D18               1767              JSR     UTLPRINT
0000216C                          1768              
0000216C  4CDF 0103               1769  .DONE       MOVEM.L (A7)+,D0-D1/A0
00002170                          1770  
00002170  4E75                    1771              RTS
00002172= 59 4F 55 20 57 4F ...   1772  .TXT1       DC.B    'YOU WON!',0
0000217B= 50 52 45 53 53 20 ...   1773  .TXT2       DC.B    'PRESS FIRE1 TO CONTINUE',0
00002194                          1774              DS.W    0
00002194                          1775  
00002194                          1776  
00002194                          1777  
00002194                          1778  -------------------- end include --------------------
00002194                          1779              INCLUDE "GOVER.X68"
00002194                          1780  ; ==============================================================================
00002194                          1781  ; GAME OVER SCREEN
00002194                          1782  ; ==============================================================================
00002194                          1783  
00002194                          1784  ; ------------------------------------------------------------------------------
00002194                          1785  GOVINIT
00002194                          1786  ; GAME OVER SCREEN INIT
00002194                          1787  ; INPUT    : NONE
00002194                          1788  ; OUTPUT   : NONE
00002194                          1789  ; MODIFIES : NONE
00002194                          1790  ; ------------------------------------------------------------------------------
00002194  4E75                    1791              RTS
00002196                          1792  
00002196                          1793  ; ------------------------------------------------------------------------------
00002196                          1794  GOVUPD
00002196                          1795  ; GAME OVER SCREEN UPDATE
00002196                          1796  ; INPUT    : NONE
00002196                          1797  ; OUTPUT   : NONE
00002196                          1798  ; MODIFIES : NONE
00002196                          1799  ; ------------------------------------------------------------------------------
00002196  4E75                    1800              RTS
00002198                          1801  
00002198                          1802  ; ------------------------------------------------------------------------------
00002198                          1803  GOVPLOT
00002198                          1804  ; GAME OVER SCREEN PLOT
00002198                          1805  ; INPUT    : NONE
00002198                          1806  ; OUTPUT   : NONE
00002198                          1807  ; MODIFIES : NONE
00002198                          1808  ; ------------------------------------------------------------------------------
00002198  48E7 C080               1809              MOVEM.L D0-D1/A0,-(A7)
0000219C                          1810              
0000219C  4281                    1811              CLR.L   D1
0000219E  103C 0051               1812              MOVE.B  #81,D0
000021A2  4E4F                    1813              TRAP    #15
000021A4                          1814              
000021A4  41F9 000021D2           1815              LEA     .TXT1,A0
000021AA  103C 000A               1816              MOVE.B  #10,D0
000021AE  4EB8 1D18               1817              JSR     UTLPRINT
000021B2                          1818              
000021B2  0839 0004 000022CB      1819              BTST.B  #4,(SCRCYCCT)
000021BA  6700 0010               1820              BEQ     .DONE
000021BE                          1821              
000021BE  41F9 000021DC           1822              LEA     .TXT2,A0
000021C4  103C 0019               1823              MOVE.B  #25,D0
000021C8  4EB8 1D18               1824              JSR     UTLPRINT
000021CC                          1825              
000021CC  4CDF 0103               1826  .DONE       MOVEM.L (A7)+,D0-D1/A0
000021D0                          1827  
000021D0  4E75                    1828              RTS
000021D2= 47 41 4D 45 20 4F ...   1829  .TXT1       DC.B    'GAME OVER',0
000021DC= 50 52 45 53 53 20 ...   1830  .TXT2       DC.B    'PRESS FIRE1 TO CONTINUE',0
000021F4                          1831              DS.W    0
000021F4                          1832  
000021F4                          1833  
000021F4                          1834  -------------------- end include --------------------
000021F4                          1835              INCLUDE "STATES.X68"
000021F4                          1836  ; =============================================================================
000021F4                          1837  ; GAME STATE MANAGEMENT
000021F4                          1838  ; =============================================================================
000021F4                          1839  
000021F4                          1840  ; -----------------------------------------------------------------------------
000021F4                          1841  STAINIT
000021F4                          1842  ; INITALIZES THE STATE MANAGER
000021F4                          1843  ; INPUT    - NONE
000021F4                          1844  ; OUTPUT   - NONE
000021F4                          1845  ; MODIFIES - NONE
000021F4                          1846  ; -----------------------------------------------------------------------------
000021F4  33FC FFFF 00003176      1847              MOVE.W  #STANONE,(STACUR)
000021FC  4279 00003178           1848              CLR.W   (STANEXT)
00002202  4E75                    1849              RTS
00002204                          1850  
00002204                          1851  ; -----------------------------------------------------------------------------
00002204                          1852  STAUPD
00002204                          1853  ; PERFORMS STATE UPDATE AND INIT IF NECESSARY
00002204                          1854  ; INPUT    - NONE
00002204                          1855  ; OUTPUT   - NONE
00002204                          1856  ; MODIFIES - NONE
00002204                          1857  ; -----------------------------------------------------------------------------
00002204  48E7 8080               1858              MOVEM.L D0/A0,-(A7)
00002208  4280                    1859              CLR.L   D0
0000220A  3039 00003178           1860              MOVE.W  (STANEXT),D0
00002210  B079 00003176           1861              CMP.W   (STACUR),D0
00002216  6700 0012               1862              BEQ     .DOUPD
0000221A  33C0 00003176           1863              MOVE.W  D0,(STACUR)             ; IF STATE CHANGED, DO INIT
00002220  E588                    1864              LSL.L   #2,D0
00002222  2040                    1865              MOVE.L  D0,A0
00002224  2068 2242               1866              MOVE.L  .INITBL(A0),A0
00002228  4E90                    1867              JSR     (A0)
0000222A  4280                    1868  .DOUPD      CLR.L   D0                      ; IN ANY CASE, DO UPDATE
0000222C  3039 00003176           1869              MOVE.W  (STACUR),D0
00002232  E588                    1870              LSL.L   #2,D0
00002234  2040                    1871              MOVE.L  D0,A0
00002236  2068 224A               1872              MOVE.L  .UPDTBL(A0),A0
0000223A  4E90                    1873              JSR     (A0)
0000223C  4CDF 0101               1874              MOVEM.L (A7)+,D0/A0
00002240  4E75                    1875              RTS
00002242= 00001E68 00002278       1876  .INITBL     DC.L    ISCINIT,GAMINIT
0000224A= 00001E76 00002288       1877  .UPDTBL     DC.L    ISCUPD,GAMUPD
00002252                          1878  
00002252                          1879  ; -----------------------------------------------------------------------------
00002252                          1880  STAPLOT
00002252                          1881  ; PERFORMS STATE PLOT
00002252                          1882  ; INPUT    - NONE
00002252                          1883  ; OUTPUT   - NONE
00002252                          1884  ; MODIFIES - NONE
00002252                          1885  ; -----------------------------------------------------------------------------
00002252  48E7 8080               1886              MOVEM.L D0/A0,-(A7)
00002256  4280                    1887              CLR.L   D0
00002258  3039 00003176           1888              MOVE.W  (STACUR),D0
0000225E  E588                    1889              LSL.L   #2,D0
00002260  2040                    1890              MOVE.L  D0,A0
00002262  2068 226E               1891              MOVE.L  .PLTTBL(A0),A0
00002266  4E90                    1892              JSR     (A0)
00002268  4CDF 0101               1893              MOVEM.L (A7)+,D0/A0
0000226C  4E75                    1894              RTS
0000226E= 00001E8C 0000228C       1895  .PLTTBL     DC.L    ISCPLOT,GAMPLOT
00002276                          1896  
00002276                          1897  ; -----------------------------------------------------------------------------
00002276                          1898  STAEMPTY
00002276                          1899  ; EMPTY SUBROUTINE FOR CASES WITH NOTHING TO DO
00002276                          1900  ; INPUT    - NONE
00002276                          1901  ; OUTPUT   - NONE
00002276                          1902  ; MODIFIES - NONE
00002276                          1903  ; NOTE     - JUST A PLACEHOLDER. NOTHING TO DO.
00002276                          1904  ; -----------------------------------------------------------------------------
00002276  4E75                    1905              RTS
00002278                          1906  
00002278                          1907  
00002278                          1908  
00002278                          1909  
00002278                          1910  
00002278                          1911  
00002278                          1912  
00002278                          1913  
00002278                          1914  
00002278                          1915  -------------------- end include --------------------
00002278                          1916              INCLUDE "GAME.X68"
00002278                          1917  ; ==============================================================================
00002278                          1918  ; GAME MANAGEMENT
00002278                          1919  ; ==============================================================================
00002278                          1920  
00002278                          1921  ; ------------------------------------------------------------------------------
00002278                          1922  GAMINIT
00002278                          1923  ; INITIALIZES GAME.
00002278                          1924  ; INPUT    : NONE
00002278                          1925  ; OUTPUT   : NONE
00002278                          1926  ; MODIFIES : NONE
00002278                          1927  ; ------------------------------------------------------------------------------
00002278  4EB8 14B4               1928              JSR     PMINIT
0000227C  4EB8 1B64               1929              JSR     MAPINIT
00002280  4EB8 1400               1930              JSR     GSTINIT
00002284  6000 F5F4               1931              BRA     SCOINIT
00002288                          1932  
00002288                          1933  ; ------------------------------------------------------------------------------
00002288                          1934  GAMUPD
00002288                          1935  ; UPDATES THE GAME
00002288                          1936  ; INPUT    : NONE
00002288                          1937  ; OUTPUT   : NONE
00002288                          1938  ; MODIFIES : NONE
00002288                          1939  ; ------------------------------------------------------------------------------
00002288                          1940              
00002288                          1941              ;JSR     GSTUPD
00002288  6000 F25E               1942              BRA     PMUPD
0000228C                          1943              
0000228C                          1944  ; ------------------------------------------------------------------------------
0000228C                          1945  GAMPLOT
0000228C                          1946  ; PLOTS THE GAME
0000228C                          1947  ; INPUT    : NONE
0000228C                          1948  ; OUTPUT   : NONE
0000228C                          1949  ; MODIFIES : NONE
0000228C                          1950  ; ------------------------------------------------------------------------------
0000228C  4EB8 1BDE               1951              JSR     MAPPLOT
00002290  4EB8 188A               1952              JSR     SCOPLOT
00002294  4EB8 1654               1953              JSR     PMPLOT
00002298  6000 F1B0               1954              BRA     GSTPLOT
0000229C                          1955  
0000229C                          1956  
0000229C                          1957  -------------------- end include --------------------
0000229C                          1958        
0000229C                          1959              
0000229C                          1960      
0000229C                          1961  START:
0000229C                          1962  
0000229C                          1963  ;--- INITIALIZATION -----------------------------------------------------------
0000229C                          1964  
0000229C  007C 0700               1965              ORI.W   #$0700,SR               ;DISABLE INTERRUPTIONS
000022A0                          1966  
000022A0  4EB8 18F6               1967              JSR     SYSINIT
000022A4  4EB8 21F4               1968              JSR     STAINIT
000022A8                          1969  
000022A8                          1970  .LOOP
000022A8                          1971  
000022A8                          1972  ; --- UPDATE -------------------------------------------------------------------
000022A8                          1973  
000022A8                          1974  ; READ INPUT DEVICES
000022A8                          1975  
000022A8  4E41                    1976              TRAP    #1
000022AA                          1977  
000022AA                          1978  ; UPDATE GAME LOGIC
000022AA                          1979  
000022AA  4EB8 2204               1980             JSR     STAUPD
000022AE                          1981  
000022AE                          1982  ; --- SYNC ---------------------------------------------------------------------
000022AE                          1983              ;WHILE THERES NO INTERRUPTS IN THE COUNTER THE PROGRAM WILL BE IN
000022AE                          1984              ;THE BUCLE
000022AE                          1985              
000022AE  4A39 000022CA           1986  .WAITINIT   TST.B   (SCRINTCT)
000022B4  67F8                    1987              BEQ     .WAITINIT
000022B6  4239 000022CA           1988              CLR.B   (SCRINTCT)
000022BC                          1989  
000022BC                          1990  ; --- PLOT ---------------------------------------------------------------------
000022BC                          1991              
000022BC  4EB8 2252               1992              JSR     STAPLOT
000022C0                          1993              
000022C0                          1994              
000022C0  4E40                    1995              TRAP    #0                      ;CHANGE BUFFER
000022C2                          1996  
000022C2  60E4                    1997              BRA     .LOOP
000022C4                          1998  
000022C4  FFFF FFFF               1999              SIMHALT  
000022C8                          2000             
000022C8                          2001              INCLUDE "SYSVARS.X68"
000022C8                          2002  ; ==============================================================================
000022C8                          2003  ; SYSTEM VARIABLES
000022C8                          2004  ; ==============================================================================
000022C8                          2005   
000022C8                          2006  ; --- KEYBOARD RELATED VARIABLES -----------------------------------------------
000022C8                          2007  
000022C8                          2008  KBDVAL      DS.B    1                       ; KEY STATE
000022C9                          2009  KBDEDGE     DS.B    1                       ; KEY EDGE
000022CA                          2010              DS.W    0 
000022CA                          2011  
000022CA                          2012  ; --- TIMED INTERRUPT RELATED VARIABLES ----------------------------------------
000022CA                          2013  
000022CA                          2014  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
000022CB                          2015  SCRCYCCT    DS.B    1                       ; CYCLE COUNTER
000022CC                          2016              DS.W    0        
000022CC                          2017              
000022CC                          2018  ; --- MAP RELATED VARIABLE -----------------------------------------------------
000022CC                          2019  
000022CC                          2020  MAPVAR      DS.B    1024
000026CC                          2021  
000026CC                          2022              DS.B    0
000026CC                          2023  
000026CC                          2024  POSCON      DS.W    1
000026CE                          2025  
000026CE                          2026  ; --- TITLE RELATED VARIABLE -----------------------------------------------------
000026CE                          2027  
000026CE                          2028  BUFFER      DS.B    2700
0000315A                          2029              DS.B    0
0000315A                          2030              
0000315A                          2031  
0000315A                          2032  
0000315A                          2033  
0000315A                          2034  
0000315A                          2035  
0000315A                          2036  
0000315A                          2037  
0000315A                          2038  -------------------- end include --------------------
0000315A                          2039              INCLUDE "VARS.X68"
0000315A                          2040  ; ==============================================================================
0000315A                          2041  ; GAME VARIABLES
0000315A                          2042  ; ==============================================================================
0000315A                          2043  
0000315A                          2044  ; --- PAC-MAN RELATED VARIABLES ------------------------------------------------
0000315A                          2045  
0000315A                          2046  PMPOSX      DS.W    1                       ; PM X COORDINATE
0000315C                          2047  PMPOSY      DS.W    1                       ; PM Y COORDINATE
0000315E                          2048  PMVELX      DS.W    1                       ; PM X VELOCITY
00003160                          2049  PMVELY      DS.W    1                       ; PM Y VELOCITY
00003162                          2050  PMEAT       DS.B    1                       ; PM BOOLEAN EAT GST
00003163                          2051  PMLAMO      DS.B    1                       ; PM SAVE LAST MOVEMENT X O Y
00003164                          2052              DS.B    0
00003164                          2053  
00003164                          2054  ; --- GHOST RELATED VARIABLES --------------------------------------------------
00003164                          2055  
00003164                          2056  GSTPOSX     DS.W    1                       ; GST X COORDINATE
00003166                          2057  GSTPOSY     DS.W    1                       ; GST Y COORDINATE
00003168                          2058  GSTVELX     DS.W    1                       ; GST X VELOCITY
0000316A                          2059  GSTVELY     DS.W    1                       ; GST Y VELOCITY
0000316C                          2060  GSTDEAD     DS.B    1                       ; GST BOOLEAN DEAD
0000316D                          2061  GSTLAMO     DS.B    1                       ; GST LAST MOVEMENT (X OR Y)
0000316E                          2062  GSTINRNG    DS.B    1                       ; GST IS IN RANGE
0000316F                          2063  GSTTARG     DS.B    1                       ; GST TARGET (0-PACMAN, 1-RANDOM)
00003170                          2064              DS.B    0
00003170                          2065  
00003170                          2066  ; --- SCOREBOARD RELATED VARIABLES ---------------------------------------------
00003170                          2067  
00003170                          2068  SCOLIFE     DS.W    1                       ; NUMBER OF LIFES
00003172                          2069  SCOPOINTS   DS.W    1                       ; NUMBER OF POINTS
00003174                          2070  
00003174                          2071  ; --- INTRO STATE RELATED VARIABLES --------------------------------------------
00003174                          2072  
00003174                          2073  ISCTIMER    DS.W    1                       ; INTRO TIMER
00003176                          2074  
00003176                          2075  ; --- STATE RELATED VARIABLES --------------------------------------------------
00003176                          2076  
00003176                          2077  STACUR      DS.W    1                       ; CURRENT STATE
00003178                          2078  STANEXT     DS.W    1                       ; NEXT STATE
0000317A                          2079  
0000317A                          2080  
0000317A                          2081  
0000317A                          2082  
0000317A                          2083  
0000317A                          2084  
0000317A                          2085  
0000317A                          2086  
0000317A                          2087  
0000317A                          2088  -------------------- end include --------------------
0000317A                          2089              INCLUDE "LIB/UTLVARS.X68"
0000317A                          2090  ; =============================================================================
0000317A                          2091  ; UTILITY VARIABLES
0000317A                          2092  ; =============================================================================
0000317A                          2093  
0000317A                          2094  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
0000317C                          2095              DS.W    0
0000317C                          2096  -------------------- end include --------------------
0000317C                          2097              
0000317C                          2098              END    START        

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
BUCLE_COLUMNA       1B8A
BUCLE_COLUMNA2      1C00
BUCLE_COLUMNA3      1F3A
BUCLE_FILA          1B7E
BUCLE_FILA2         1BF4
BUCLE_FILA3         1F30
BUFFER              26CE
COLWALLDOWN         1A76
COLWALLLEFT         1A34
COLWALLRIGHT        19F2
COLWALLUP           1AB2
DIBFIGBPOINT        1CC6
DIBFIGPOINT         1C8A
DIBFIGWALL          1C52
DRAW                1F62
FILENAME            18EC
FILESIZE            A8C
GAMINIT             2278
GAMPLOT             228C
GAMUPD              2288
GETPOINTS           1AF0
GETPOINTS:BPOINT    1B3A
GETPOINTS:DONE      1B5E
GETPOINTS:POINT     1B4C
GOVINIT             2194
GOVPLOT             2198
GOVPLOT:DONE        21CC
GOVPLOT:TXT1        21D2
GOVPLOT:TXT2        21DC
GOVUPD              2196
GSTCOL1             FF
GSTCOL2             FF0080
GSTCOL3             FFFF00
GSTCOL4             80FF
GSTCOL5             800000
GSTDEAD             316C
GSTFCOL1            FFFFFF
GSTFCOL2            0
GSTFCOL3            0
GSTFCOL4            0
GSTFCOL5            0
GSTINIT             1400
GSTINRNG            316E
GSTINX1             2
GSTINX2             2
GSTINX3             1F
GSTINX4             1F
GSTINY1             2
GSTINY2             1F
GSTINY3             2
GSTINY4             1F
GSTLAMO             316D
GSTPLOT             144A
GSTPOSX             3164
GSTPOSY             3166
GSTRAD              8
GSTRNG              10
GSTSPEED            7
GSTSPEED2           5
GSTTARG             316F
GSTUPD              1428
GSTUPD:CHECKCRITIC  1444
GSTUPD:GSTINRNG     143C
GSTUPD:GSTNOTINRNG  1430
GSTVELX             3168
GSTVELY             316A
IMGPLOT             1F1A
INSINIT             1F96
INSPLOT             1F9A
INSPLOT:DONE        1FBE
INSPLOT:LOOP        1FB0
INSPLOT:TXT1        1FC4
INSPLOT:TXT2        1FEE
INSPLOT:TXT3        2023
INSPLOT:TXT4        2050
INSPLOT:TXT5        206B
INSPLOT:TXT6        209E
INSPLOT:TXT7        20A2
INSPLOT:TXT8        20CD
INSPLOT:TXT9        20E8
INSPLOT:TXTLST      210C
INSUPD              1F98
ISCINIT             1E68
ISCPLOT             1E8C
ISCPLOT:DONE        1EB8
ISCPLOT:TXT1        1EBE
ISCPLOT:TXT2        1ECC
ISCTIMER            3174
ISCUPD              1E76
ISCUPD:CONT         1E8A
ISCUPD:DONE         1E8A
KBDDOWN             28
KBDEDGE             22C9
KBDFIRE1            20
KBDFIRE2            4D
KBDFIRE3            10
KBDINIT             198E
KBDLEFT             25
KBDPAUSE            50
KBDRIGHT            27
KBDUP               26
KBDUPD              199C
KBDUPD:CONVERT      19E4
KBDUPD:LOOP         19E8
KBDUPD:NOACT        19DE
KBDVAL              22C8
MAPINIT             1B64
MAPMAT              1000
MAPPLOT             1BDE
MAPVAR              22CC
NOTPOINT            1BBE
NOTPOINT2           1C32
NOTWALL             1BB0
NOTWALL2            1C24
OPENFILE            1EE8
OPENFILE:CONVERT_LOOP  1F0A
OPENFILE:END        1F18
PMEAT               3162
PMFCOL              FFFF
PMINIT              14B4
PMLAMO              3163
PMPCOL              FFFF
PMPLOT              1654
PMPLOT:DDONE        1710
PMPLOT:DDOWN        16E2
PMPLOT:DLEFT        16D8
PMPLOT:DOWNDRAW     17D0
PMPLOT:DRAW_MOUTH1  16EC
PMPLOT:DRAW_MOUTH2  16F6
PMPLOT:DRAW_MOUTH3  1700
PMPLOT:DRAW_MOUTH4  170A
PMPLOT:DRIGHT       16C4
PMPLOT:DUP          16CE
PMPLOT:FULLDRAW     1716
PMPLOT:LEFTDRAW     173A
PMPLOT:MOUTHOPEN    1682
PMPLOT:NOTMOVE      16BA
PMPLOT:RIGHTDRAW    176C
PMPLOT:SET_MOUTHDOWN  185C
PMPLOT:SET_MOUTHLEFT  1802
PMPLOT:SET_MOUTHRIGHT  1820
PMPLOT:SET_MOUTHUP  183E
PMPLOT:UPDRAW       179E
PMPOSX              315A
PMPOSY              315C
PMRAD               8
PMSPEED             2
PMUPD               14E8
PMUPD:ACTXLEFT      15AE
PMUPD:ACTXRIGHT     157A
PMUPD:ACTYDOWN      15E2
PMUPD:ACTYUP        1606
PMUPD:DONE          1642
PMUPD:NOTCOLISION   1594
PMUPD:NOTCOLISION2  15C8
PMUPD:NOTCOLISION3  15FC
PMUPD:NOTCOLISION4  1620
PMUPD:NOTDOWN       1576
PMUPD:NOTLEFT       1534
PMUPD:NOTMULT       162A
PMUPD:NOTRIGHT      154A
PMUPD:NOTTP         15A4
PMUPD:NOTTP2        15D8
PMUPD:NOTUP         1560
PMVELX              315E
PMVELY              3160
POSCON              26CC
SCOFCOL             0
SCOINIT             187A
SCOLIFE             3170
SCOLINE1            101
SCOLINE2            102
SCOPLOT             188A
SCOPLOT:TXT1        18D8
SCOPLOT:TXT2        18E1
SCOPOINTS           3172
SCRCYCCT            22CB
SCRHEIGH            280
SCRINIT             1922
SCRINTCT            22CA
SCRTIM              1980
SCRUPD              1966
SCRWIDTH            280
STACUR              3176
STAEMPTY            2276
STAINIT             21F4
STANEXT             3178
STANONE             FFFFFFFF
STAPLOT             2252
STAPLOT:PLTTBL      226E
START               229C
START:LOOP          22A8
START:WAITINIT      22AE
STAUPD              2204
STAUPD:DOUPD        222A
STAUPD:INITBL       2242
STAUPD:UPDTBL       224A
SYSINIT             18F6
UTLCHRWD            8
UTLINIT             1D02
UTLPRINT            1D18
UTLPRINT:ENDLOOP    1D2A
UTLPRINT:LOOP       1D20
UTLRAND             1D4A
UTLRAND:RANDVEC     1D68
UTLRNDIX            317A
WININIT             2134
WINPLOT             2138
WINPLOT:DONE        216C
WINPLOT:TXT1        2172
WINPLOT:TXT2        217B
WINUPD              2136
ZERO                1BCC
ZERO2               1C40
ZERO3               1F50
