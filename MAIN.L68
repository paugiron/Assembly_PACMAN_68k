00002662 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 26/12/2022 16:14:48

00000000                             1  ; ==============================================================================
00000000                             2  ; TITLE       : PAC-MAN 68000
00000000                             3  ; DESCRIPTION : GAME IN MOTOROLA 68000 BASED ON PAC-MAN GAME
00000000                             4  ; AUTHOR      : JORDI FLORIT ENSENYAT
00000000                             5  ;               JOSEP GABRIEL FORNES REYNES
00000000                             6  ;               PAU GIRON RODRIGUEZ
00000000                             7  ; ==============================================================================
00001000                             8              ORG    $1000
00001000                             9  
00001000                            10              INCLUDE "CONST.X68"
00001000                            11  ; ==============================================================================
00001000                            12  ; GAME CONSTANTS
00001000                            13  ; ==============================================================================
00001000                            14  
00001000                            15  ; --- PAC-MAN RELATED CONTANTS ----------------------------------------------------
00001000                            16  
00001000  =0000FFFF                 17  PMPCOL      EQU     $0000FFFF               ; PAC-MAN CONTOUR COLOR
00001000  =0000FFFF                 18  PMFCOL      EQU     $0000FFFF               ; PAC-MAN FILL COLOR
00001000  =00000002                 19  PMSPEED     EQU     2                       ; MAGNITUDE OF THE X AND Y VEL.
00001000  =00000008                 20  PMRAD       EQU     8                       ; PAC-MAN RADIUS
00001000                            21  
00001000                            22  ; --- GHOST RELATED CONSTANTS ----------------------------------------------------
00001000                            23  
00001000  =00000002                 24  GSTSPEED    EQU     2                       ; MAGNITUDE OF THE NORMAL DISPLACEMENT
00001000  =00000005                 25  GSTSPEED2   EQU     5                       ; MAGNITUDE OF THE ATACKED DISPLACEMENT
00001000                            26  
00001000  =000000FF                 27  GSTCOL1     EQU     $000000FF               ; GHOST 1 CONTOUR COLOR RED
00001000  =00FFFFFF                 28  GSTFCOL1    EQU     $00FFFFFF               ; GHOST 1 FILL COLOR WHITE
00001000  =00000002                 29  GSTINX1     EQU     2                       ; GHOST 1 INITIAL X
00001000  =00000002                 30  GSTINY1     EQU     2                       ; GHOST 1 INITIAL Y
00001000                            31  
00001000  =00FF0080                 32  GSTCOL2     EQU     $00FF0080               ; GHOST 2 CONTOUR COLOR PINK
00001000  =00000000                 33  GSTFCOL2    EQU     $00000000               ; GHOST 1 FILL COLOR
00001000  =00000002                 34  GSTINX2     EQU     2                       ; GHOST 2 INITIAL X
00001000  =0000001F                 35  GSTINY2     EQU     31                      ; GHOST 2 INITIAL Y
00001000                            36  
00001000  =00FFFF00                 37  GSTCOL3     EQU     $00FFFF00               ; GHOST 3 CONTOUR COLOR CYAN
00001000  =00000000                 38  GSTFCOL3    EQU     $00000000               ; GHOST 3 FILL COLOR
00001000  =0000001F                 39  GSTINX3     EQU     31                      ; GHOST 3 INITIAL X
00001000  =00000002                 40  GSTINY3     EQU     2                       ; GHOST 3 INITIAL Y
00001000                            41  
00001000  =000080FF                 42  GSTCOL4     EQU     $000080FF               ; GHOST 4 CONTOUR COLOR ORANGE
00001000  =00000000                 43  GSTFCOL4    EQU     $00000000               ; GHOST 4 FILL COLOR
00001000  =0000001F                 44  GSTINX4     EQU     31                      ; GHOST 4 INITIAL X
00001000  =0000001F                 45  GSTINY4     EQU     31                      ; GHOST 4 INITIAL Y 
00001000                            46  
00001000  =00800000                 47  GSTCOL5     EQU     $00800000               ; CONTOUR COLOR OF ATACKED MODE
00001000  =00000000                 48  GSTFCOL5    EQU     $00000000               ; FILL COLOR OF ATACKED MODE
00001000                            49  
00001000  =00000008                 50  GSTRAD      EQU     8                       ; GHOST RADIUS
00001000  =00000010                 51  GSTRNG      EQU     16                      ; GHOST DETECTING RANGE
00001000= 0001 0002 0003 0004       52  GSTDECVEC   DC.W    1,2,3,4                 ; GHOST MOVEMENT DECISSIONS
00001008                            53              
00001008                            54  ; --- SCOREBOARD RELATED CONSTANTS ---------------------------------------------
00001008                            55  ;MODIFICATE
00001008                            56  
00001008  =00000000                 57  SCOFCOL     EQU     $00000000               ; TEXT BACKGROUND COLOR
00001008  =00000101                 58  SCOLINE1    EQU     $0101                   ; FIRST TEXT LINE COORDINATES
00001008  =00000102                 59  SCOLINE2    EQU     $0102                   ; SECOND TEXT LINE COORDINATES
00001008                            60  
00001008                            61  ; --- MAP RELATED CONSTANTS ----------------------------------------------------
00001008                            62  
00001008= 01 01 01 01 01 01 ...     63  MAPMAT      DC.B    $1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
00001028= 01 02 02 02 02 02 ...     64              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
00001048= 01 02 01 01 01 01 ...     65              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
00001068= 01 03 01 01 01 01 ...     66              DC.B    $1,3,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,3,1
00001088= 01 02 02 02 02 02 ...     67              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000010A8= 01 02 01 01 01 01 ...     68              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000010C8= 01 02 01 01 01 01 ...     69              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000010E8= 01 02 02 02 02 02 ...     70              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
00001108= 01 02 01 01 01 01 ...     71              DC.B    $1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,2,1
00001128= 01 02 01 00 00 00 ...     72              DC.B    $1,2,1,0,0,0,1,2,1,0,1,2,1,1,1,1,1,1,1,1,2,1,0,1,2,1,0,0,0,1,2,1
00001148= 01 02 01 01 01 01 ...     73              DC.B    $1,2,1,1,1,1,1,2,1,0,1,2,2,2,2,1,1,2,2,2,2,1,0,1,2,1,1,1,1,1,2,1
00001168= 01 02 02 02 02 02 ...     74              DC.B    $1,2,2,2,2,2,2,2,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,2,2,2,2,2,2,2,1
00001188= 01 01 01 01 01 01 ...     75              DC.B    $1,1,1,1,1,1,1,2,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,2,1,1,1,1,1,1,1
000011A8= 01 00 00 00 00 00 ...     76              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,2,1,0,0,0,0,0,1
000011C8= 01 00 00 00 00 00 ...     77              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,1,1,1,0,0,1,1,1,0,1,0,1,2,1,0,0,0,0,0,1
000011E8= 01 01 01 01 01 01 ...     78              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,0,0,0,0,0,0,1,0,1,1,1,2,1,1,1,1,1,1,1
00001208= 04 00 00 00 00 00 ...     79              DC.B    $4,0,0,0,0,0,0,2,2,2,2,0,1,0,0,0,0,0,0,1,0,2,2,2,2,0,0,0,0,0,0,4
00001228= 01 01 01 01 01 01 ...     80              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,0,0,0,0,0,0,1,0,1,1,1,2,1,1,1,1,1,1,1
00001248= 01 00 00 00 00 00 ...     81              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,1,1,1,1,1,1,1,1,0,1,0,1,2,1,0,0,0,0,0,1
00001268= 01 00 00 00 00 00 ...     82              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,2,1,0,0,0,0,0,1
00001288= 01 01 01 01 01 01 ...     83              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,2,1,1,1,1,1,1,1
000012A8= 01 02 02 02 02 02 ...     84              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000012C8= 01 02 01 01 01 01 ...     85              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000012E8= 01 02 01 01 01 01 ...     86              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
00001308= 01 02 02 02 02 01 ...     87              DC.B    $1,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,1
00001328= 01 01 01 01 02 01 ...     88              DC.B    $1,1,1,1,2,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,2,1,1,1,1
00001348= 01 01 01 01 02 01 ...     89              DC.B    $1,1,1,1,2,1,1,2,1,0,1,2,1,1,1,1,1,1,1,1,2,1,0,1,2,1,1,2,1,1,1,1
00001368= 01 02 02 02 02 02 ...     90              DC.B    $1,2,2,2,2,2,2,2,1,0,1,2,2,2,2,1,1,2,2,2,2,1,0,1,2,2,2,2,2,2,2,1
00001388= 01 02 01 01 01 01 ...     91              DC.B    $1,2,1,1,1,1,1,1,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,1,1,1,1,1,1,2,1
000013A8= 01 03 01 01 01 01 ...     92              DC.B    $1,3,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,3,1
000013C8= 01 02 02 02 02 02 ...     93              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000013E8= 01 01 01 01 01 01 ...     94              DC.B    $1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
00001408                            95              
00001408                            96  ; --- STATE RELATED CONSTANTS --------------------------------------------------
00001408                            97  
00001408  =FFFFFFFF                 98  STANONE     EQU     -1                      ; NON-EXISTENT STATE NUMBER
00001408                            99  
00001408                           100  
00001408                           101  
00001408                           102  
00001408                           103  
00001408                           104  
00001408                           105  
00001408                           106  
00001408                           107  
00001408                           108  
00001408                           109  
00001408                           110  
00001408                           111  
00001408                           112  
00001408                           113  
00001408                           114  
00001408                           115  
00001408                           116  
00001408                           117  
00001408                           118  
00001408                           119  
00001408                           120  
00001408                           121  
00001408                           122  
00001408                           123  -------------------- end include --------------------
00001408                           124              INCLUDE "GHOST.X68"
00001408                           125  ; ==============================================================================
00001408                           126  ; GHOST MANAGEMENT
00001408                           127  ; ==============================================================================
00001408                           128              
00001408                           129  ; ------------------------------------------------------------------------------
00001408                           130  GSTINIT
00001408                           131  ; INITIALIZE GHOST.
00001408                           132  ; INPUT    : NONE 
00001408                           133  ; OUTPUT   : NONE
00001408                           134  ; MODIFIES : NONE
00001408                           135  ; ------------------------------------------------------------------------------
00001408  33FC 0058 0000352A       136              MOVE.W  #GSTINX1*16+64-8,(GSTPOSX)
00001410  33FC 0058 0000352C       137              MOVE.W  #GSTINY1*16+64-8,(GSTPOSY)
00001418  33FC 0002 0000352E       138              MOVE.W  #GSTSPEED,(GSTVELX)
00001420  33FC 0002 00003530       139              MOVE.W  #GSTSPEED,(GSTVELY)
00001428  13FC 0002 00003533       140              MOVE.B  #2,(GSTLAMO)
00001430  13FC 0000 00003537       141              MOVE.B  #0,(GSTCHDIR)
00001438  4E75                     142              RTS
0000143A                           143              
0000143A                           144  ; ------------------------------------------------------------------------------
0000143A                           145  GSTUPD
0000143A                           146  ; UPDATES THE GHOST.
0000143A                           147  ; INPUT    : NONE 
0000143A                           148  ; OUTPUT   : NONE
0000143A                           149  ; MODIFIES : NONE
0000143A                           150  ; ------------------------------------------------------------------------------
0000143A  48E7 FC00                151              MOVEM.L D0-D5,-(A7)
0000143E                           152              
0000143E                           153              ;MOVE.W  (PMPOSX)/16*(PMPOSX)/16+(PMPOSY)/16*(PMPOSY)/16,D0
0000143E  323C 0010                154              MOVE.W  #GSTRNG,D1
00001442  C2FC 0010                155              MULU.W  #GSTRNG,D1
00001446  9240                     156              SUB.W   D0,D1
00001448  303C 0002                157              MOVE.W  #GSTSPEED,D0
0000144C  6600 0016                158              BNE     .GSTINRNG
00001450                           159  .GSTNOTINRNG
00001450  4240                     160              CLR     D0
00001452  4241                     161              CLR     D1
00001454  383C 0000                162              MOVE.W  #0,D4
00001458  13FC 0001 00003534       163              MOVE.B  #1,(GSTINRNG)
00001460  6000 000E                164              BRA     .GSTMOVE
00001464                           165  .GSTINRNG
00001464  383C 0000                166              MOVE.W  #0,D4
00001468  13FC 0000 00003534       167              MOVE.B  #0,(GSTINRNG)
00001470                           168  .GSTMOVE
00001470  1439 00003537            169              MOVE.B  (GSTCHDIR),D2
00001476                           170              ;CMP.B   #1,D2
00001476                           171              ;BGE     .GSTNOTMULT
00001476  3439 0000352A            172              MOVE.W  (GSTPOSX),D2
0000147C  3639 0000352C            173              MOVE.W  (GSTPOSY),D3
00001482                           174              
00001482  5042                     175              ADDQ.W  #8,D2              
00001484  5043                     176              ADDQ.W  #8,D3
00001486                           177  
00001486                           178              ;MASK OF THE LAST NIBBLE        
00001486  C47C 000F                179              AND.W   #$000F,D2               ; COORDENADA X
0000148A  C67C 000F                180              AND.W   #$000F,D3               ; COORDENADA Y
0000148E                           181              
0000148E                           182              ;CHECK IF COORDS ARE MULTIPLES OF 16
0000148E  B47C 0000                183              CMP     #$0000,D2
00001492  6600 0134                184              BNE     .GSTNOTMULT
00001496  B67C 0000                185              CMP     #$0000,D3
0000149A  6600 012C                186              BNE     .GSTNOTMULT
0000149E                           187  .GSTMULT
0000149E  4279 00003536            188              CLR     (GSTPOSMV)
000014A4  13FC 0003 00003537       189              MOVE.B  #3,(GSTCHDIR)
000014AC                           190  .GSTMULTRIGHT
000014AC  4EB9 00001DCC            191              JSR     GSTCOLWALLRIGHT
000014B2  BA7C 0001                192              CMP     #1,D5
000014B6  6700 000A                193              BEQ     .GSTMULTLEFT
000014BA  5239 00003536            194              ADD.B   #1,(GSTPOSMV)
000014C0  5244                     195              ADDQ.W  #1,D4
000014C2                           196  .GSTMULTLEFT
000014C2  4EB9 00001E08            197              JSR     GSTCOLWALLLEFT
000014C8  BA7C 0001                198              CMP     #1,D5
000014CC  6700 000A                199              BEQ     .GSTMULTDOWN
000014D0  5439 00003536            200              ADD.B   #2,(GSTPOSMV)
000014D6  5244                     201              ADDQ.W  #1,D4
000014D8                           202  .GSTMULTDOWN
000014D8  4EB9 00001E44            203              JSR     GSTCOLWALLDOWN
000014DE  BA7C 0001                204              CMP     #1,D5
000014E2  6700 000A                205              BEQ     .GSTMULTUP
000014E6  5839 00003536            206              ADD.B   #4,(GSTPOSMV)
000014EC  5244                     207              ADDQ.W  #1,D4
000014EE                           208  .GSTMULTUP
000014EE  4EB9 00001E7A            209              JSR     GSTCOLWALLUP
000014F4  BA7C 0001                210              CMP     #1,D5
000014F8  6700 000A                211              BEQ     .GSTDECISSION
000014FC  5039 00003536            212              ADD.B   #8,(GSTPOSMV)
00001502  5244                     213              ADDQ.W  #1,D4
00001504                           214  .GSTDECISSION
00001504  B87C 0002                215              CMP     #2,D4
00001508  6F00 0032                216              BLE     .GST2MOVES
0000150C  4EB9 0000210C            217              JSR     UTLRAND
00001512  C0BC 00000006            218              AND.L   #$00000006,D0
00001518  43F8 1000                219              LEA     GSTDECVEC,A1
0000151C  3231 0000                220              MOVE.W  (A1,D0),D1
00001520  B27C 0001                221              CMP     #1,D1
00001524  6700 0062                222              BEQ     .GSTRANRIGHT
00001528  B27C 0002                223              CMP     #2,D1
0000152C  6700 006A                224              BEQ     .GSTRANLEFT
00001530  B27C 0003                225              CMP     #3,D1
00001534  6700 0072                226              BEQ     .GSTRANDOWN
00001538  6000 007E                227              BRA     .GSTRANUP
0000153C                           228  .GST2MOVES
0000153C  4EB9 000016A6            229              JSR     GST2DECISSIONS
00001542  B87C 0000                230              CMP     #0,D4
00001546  6600 0080                231              BNE     .GSTNOTMULT
0000154A  1839 00003533            232              MOVE.B  (GSTLAMO),D4
00001550  B87C 0001                233              CMP     #1,D4
00001554  6700 000E                234              BEQ     .2MLAMOX
00001558  B87C 0002                235              CMP     #2,D4
0000155C  6700 0006                236              BEQ     .2MLAMOX
00001560  6000 0014                237              BRA     .2MLAMOY
00001564                           238  .2MLAMOX
00001564  4EB9 00001E7A            239              JSR     GSTCOLWALLUP
0000156A  BA7C 0001                240              CMP     #1,D5
0000156E  6600 010C                241              BNE     .GSTUPMOVE
00001572  6000 00E4                242              BRA     .GSTDOWNMOVE
00001576                           243  .2MLAMOY
00001576  4EB9 00001DCC            244              JSR     GSTCOLWALLRIGHT
0000157C  BA7C 0001                245              CMP     #1,D5
00001580  6600 006E                246              BNE     .GSTRIGHTMOVE
00001584  6000 009E                247              BRA     .GSTLEFTMOVE
00001588                           248  
00001588                           249  .GSTRANRIGHT
00001588  0839 0000 00003536       250              BTST.B  #0,(GSTPOSMV)
00001590  6700 FF72                251              BEQ     .GSTDECISSION
00001594  6000 005A                252              BRA     .GSTRIGHTMOVE
00001598                           253  .GSTRANLEFT
00001598  0839 0001 00003536       254              BTST.B  #1,(GSTPOSMV)
000015A0  6700 FF62                255              BEQ     .GSTDECISSION
000015A4  6000 007E                256              BRA     .GSTLEFTMOVE
000015A8                           257  .GSTRANDOWN
000015A8  0839 0002 00003536       258              BTST.B  #2,(GSTPOSMV)
000015B0  6700 FF52                259              BEQ     .GSTDECISSION
000015B4  6000 00A2                260              BRA     .GSTDOWNMOVE
000015B8                           261  .GSTRANUP
000015B8  0839 0003 00003536       262              BTST.B  #3,(GSTPOSMV)
000015C0  6700 FF42                263              BEQ     .GSTDECISSION
000015C4  6000 00B6                264              BRA     .GSTUPMOVE
000015C8                           265  .GSTNOTMULT 
000015C8  5339 00003537            266              SUB.B   #1,(GSTCHDIR)
000015CE  1839 00003533            267              MOVE.B  (GSTLAMO),D4           
000015D4  B87C 0001                268              CMP     #1,D4
000015D8  6700 0016                269              BEQ     .GSTRIGHTMOVE
000015DC  B87C 0002                270              CMP     #2,D4
000015E0  6700 0042                271              BEQ     .GSTLEFTMOVE
000015E4  B87C 0003                272              CMP     #3,D4
000015E8  6700 006E                273              BEQ     .GSTDOWNMOVE
000015EC  6000 008E                274              BRA     .GSTUPMOVE
000015F0                           275  
000015F0                           276              ;UPDATE COORDS
000015F0                           277              
000015F0                           278  .GSTRIGHTMOVE
000015F0  4EB9 00001DCC            279              JSR     GSTCOLWALLRIGHT
000015F6  BA7C 0001                280              CMP     #1,D5
000015FA  6600 0006                281              BNE     .GSTNOTCOLISION
000015FE  303C 0000                282              MOVE.W  #0,D0
00001602                           283  .GSTNOTCOLISION
00001602  BA7C 0004                284              CMP     #4,D5
00001606  6600 000A                285              BNE     .GSTNOTTP
0000160A  0479 01E0 0000352A       286              SUB.W   #30*16,(GSTPOSX)
00001612                           287  .GSTNOTTP
00001612  D179 0000352A            288              ADD.W   D0,(GSTPOSX)
00001618  13FC 0001 00003533       289              MOVE.B  #1,(GSTLAMO)
00001620  6000 007E                290              BRA     .GSTDONE
00001624                           291  .GSTLEFTMOVE
00001624  4EB9 00001E08            292              JSR     GSTCOLWALLLEFT
0000162A  BA7C 0001                293              CMP     #1,D5
0000162E  6600 0006                294              BNE     .GSTNOTCOLISION2
00001632  303C 0000                295              MOVE.W  #0,D0
00001636                           296  .GSTNOTCOLISION2
00001636  BA7C 0004                297              CMP     #4,D5
0000163A  6600 000A                298              BNE     .GSTNOTTP2
0000163E  0679 01E0 0000352A       299              ADD.W   #30*16,(GSTPOSX)
00001646                           300  .GSTNOTTP2
00001646  9179 0000352A            301              SUB.W   D0,(GSTPOSX)
0000164C  13FC 0002 00003533       302              MOVE.B  #2,(GSTLAMO)
00001654  6000 004A                303              BRA     .GSTDONE
00001658                           304      
00001658                           305  .GSTDOWNMOVE
00001658  4EB9 00001E44            306              JSR     GSTCOLWALLDOWN
0000165E  BA7C 0001                307              CMP     #1,D5
00001662  6600 0006                308              BNE     .GSTNOTCOLISION3
00001666  303C 0000                309              MOVE.W  #0,D0
0000166A                           310  .GSTNOTCOLISION3
0000166A  D179 0000352C            311              ADD.W   D0,(GSTPOSY)
00001670  13FC 0003 00003533       312              MOVE.B  #3,(GSTLAMO)
00001678  6000 0026                313              BRA     .GSTDONE
0000167C                           314  .GSTUPMOVE    
0000167C  4EB9 00001E7A            315              JSR     GSTCOLWALLUP
00001682  BA7C 0001                316              CMP     #1,D5
00001686  6600 0006                317              BNE     .GSTNOTCOLISION4
0000168A  303C 0000                318              MOVE.W  #0,D0
0000168E                           319  .GSTNOTCOLISION4
0000168E  9179 0000352C            320              SUB.W   D0,(GSTPOSY)
00001694  13FC 0004 00003533       321              MOVE.B  #4,(GSTLAMO)
0000169C  6000 0002                322              BRA     .GSTDONE
000016A0                           323  
000016A0                           324  .GSTDONE
000016A0                           325  
000016A0  4CDF 003F                326              MOVEM.L (A7)+,D0-D5
000016A4                           327              
000016A4  4E75                     328              RTS
000016A6                           329              
000016A6                           330  ; SUBRUTINES FOR GHOST UPDATE --------------------------------------------------
000016A6                           331  
000016A6                           332  GST2DECISSIONS
000016A6                           333  
000016A6  48E7 8000                334              MOVEM.L D0,-(A7)
000016AA                           335              
000016AA  1039 00003533            336              MOVE.B  (GSTLAMO),D0
000016B0  B07C 0001                337              CMP     #1,D0
000016B4  6700 0016                338              BEQ     .LAMORIGHT
000016B8  B07C 0002                339              CMP     #2,D0
000016BC  6700 0022                340              BEQ     .LAMOLEFT
000016C0  B07C 0003                341              CMP     #3,D0
000016C4  6700 002E                342              BEQ     .LAMODOWN
000016C8  6000 003E                343              BRA     .LAMOUP
000016CC                           344              
000016CC                           345  .LAMORIGHT
000016CC  0839 0000 00003536       346              BTST.B  #0,(GSTPOSMV)
000016D4  6700 0046                347              BEQ     .RETURN0
000016D8  383C 0001                348              MOVE.W  #1,D4
000016DC  6000 0042                349              BRA     .GST2DECEND
000016E0                           350  .LAMOLEFT
000016E0  0839 0001 00003536       351              BTST.B  #1,(GSTPOSMV)
000016E8  6700 0032                352              BEQ     .RETURN0
000016EC  383C 0001                353              MOVE.W  #1,D4
000016F0  6000 002E                354              BRA     .GST2DECEND
000016F4                           355  .LAMODOWN
000016F4  0839 0002 00003536       356              BTST.B  #2,(GSTPOSMV)
000016FC  6700 001E                357              BEQ     .RETURN0
00001700  383C 0001                358              MOVE.W  #1,D4
00001704  6000 001A                359              BRA     .GST2DECEND
00001708                           360  .LAMOUP
00001708  0839 0003 00003536       361              BTST.B  #3,(GSTPOSMV)
00001710  6700 000A                362              BEQ     .RETURN0
00001714  383C 0001                363              MOVE.W  #1,D4
00001718  6000 0006                364              BRA     .GST2DECEND
0000171C                           365  .RETURN0
0000171C  383C 0000                366              MOVE.W  #0,D4
00001720                           367              
00001720                           368  .GST2DECEND
00001720                           369  
00001720  4CDF 0001                370              MOVEM.L (A7)+,D0
00001724  4E75                     371              RTS
00001726                           372  
00001726                           373              
00001726                           374  ; ------------------------------------------------------------------------------
00001726                           375  GSTPLOT
00001726                           376  ; PLOT THE GHOST.
00001726                           377  ; INPUT    : NONE 
00001726                           378  ; OUTPUT   : NONE
00001726                           379  ; MODIFIES : NONE
00001726                           380  ; ------------------------------------------------------------------------------
00001726  48E7 F800                381              MOVEM.L D0-D4,-(A7)
0000172A                           382              
0000172A                           383              ;SET PEN COLOR
0000172A  303C 0050                384              MOVE.W  #80,D0
0000172E  223C 000000FF            385              MOVE.L  #GSTCOL1,D1
00001734  4E4F                     386              TRAP    #15
00001736                           387              
00001736                           388              ;SET FILL COLOR
00001736  303C 0051                389              MOVE.W  #81,D0
0000173A  223C 00FFFFFF            390              MOVE.L  #GSTFCOL1,D1
00001740  4E4F                     391              TRAP    #15
00001742                           392              
00001742                           393              ;SET COORDS
00001742  3239 0000352A            394              MOVE.W  (GSTPOSX),D1
00001748  5141                     395              SUB.W   #GSTRAD,D1
0000174A  3439 0000352C            396              MOVE.W  (GSTPOSY),D2
00001750  5142                     397              SUB.W   #GSTRAD,D2
00001752                           398              
00001752  3601                     399              MOVE.W  D1,D3
00001754  0643 0010                400              ADD.W   #GSTRAD*2,D3
00001758  3802                     401              MOVE.W  D2,D4
0000175A  0644 0010                402              ADD.W   #GSTRAD*2,D4
0000175E                           403              
0000175E                           404              ;DRAW GHOST
0000175E  303C 0058                405              MOVE.W  #88,D0
00001762  4E4F                     406              TRAP    #15
00001764                           407              
00001764                           408              ;SET RANGE COORDS
00001764  3239 0000352A            409              MOVE.W  (GSTPOSX),D1
0000176A  0441 0100                410              SUB.W   #GSTRNG*16,D1
0000176E  3439 0000352C            411              MOVE.W  (GSTPOSY),D2
00001774  0442 0100                412              SUB.W   #GSTRNG*16,D2
00001778                           413              
00001778  3601                     414              MOVE.W  D1,D3
0000177A  0643 0200                415              ADD.W   #GSTRNG*16*2,D3
0000177E  3802                     416              MOVE.W  D2,D4
00001780  0644 0200                417              ADD.W   #GSTRNG*16*2,D4
00001784                           418              
00001784                           419              ;DRAW GHOST RANGE
00001784  303C 005B                420              MOVE.W  #91,D0
00001788  4E4F                     421              TRAP    #15
0000178A                           422              
0000178A  4CDF 001F                423              MOVEM.L (A7)+,D0-D4
0000178E                           424              
0000178E                           425  
0000178E  4E75                     426              RTS
00001790                           427  
00001790                           428  
00001790                           429  
00001790                           430  
00001790                           431  
00001790                           432  
00001790                           433  
00001790                           434  
00001790                           435  
00001790                           436  -------------------- end include --------------------
00001790                           437              INCLUDE "PAC-MAN.X68"
00001790                           438  ; ==============================================================================
00001790                           439  ; PAC-MAN MANAGEMENT
00001790                           440  ; ==============================================================================
00001790                           441              
00001790                           442  ; ------------------------------------------------------------------------------
00001790                           443  PMINIT
00001790                           444  ; INITIALIZE PAC-MAN.
00001790                           445  ; INPUT    : NONE 
00001790                           446  ; OUTPUT   : NONE
00001790                           447  ; MODIFIES : NONE
00001790                           448  ; ------------------------------------------------------------------------------
00001790                           449  
00001790  33FC 0140 00003520       450              MOVE.W  #SCRWIDTH/2,(PMPOSX)
00001798  33FC 0140 00003522       451              MOVE.W  #SCRHEIGH/2,(PMPOSY)
000017A0  5079 00003520            452              ADDQ.W  #8,(PMPOSX)
000017A6  5079 00003522            453              ADDQ.W  #8,(PMPOSY)
000017AC  33FC 0002 00003524       454              MOVE.W  #PMSPEED,(PMVELX)
000017B4  33FC 0002 00003526       455              MOVE.W  #PMSPEED,(PMVELY)
000017BC  4239 00003529            456              CLR.B   (PMLAMO)
000017C2                           457  
000017C2  4E75                     458              RTS
000017C4                           459              
000017C4                           460  ; ------------------------------------------------------------------------------
000017C4                           461  PMUPD
000017C4                           462  ; UPDATES THE PAC-MAN.
000017C4                           463  ; INPUT    : NONE 
000017C4                           464  ; OUTPUT   : NONE
000017C4                           465  ; MODIFIES : NONE
000017C4                           466  ; ------------------------------------------------------------------------------
000017C4                           467              
000017C4  48E7 FE00                468              MOVEM.L D0-D6,-(A7)
000017C8                           469              
000017C8  303C 0002                470              MOVE.W  #PMSPEED,D0
000017CC                           471              
000017CC                           472              
000017CC  3439 00003520            473              MOVE.W  (PMPOSX),D2
000017D2  3639 00003522            474              MOVE.W  (PMPOSY),D3
000017D8                           475              
000017D8  5042                     476              ADDQ.W  #8,D2              
000017DA  5043                     477              ADDQ.W  #8,D3  
000017DC                           478              
000017DC  1839 00003529            479              MOVE.B  (PMLAMO),D4
000017E2                           480              
000017E2                           481              ;MASK OF THE LAST NIBBLE        
000017E2  C47C 000F                482              AND.W   #$000F,D2               ; COORDENADA X
000017E6  C67C 000F                483              AND.W   #$000F,D3               ; COORDENADA Y
000017EA                           484              
000017EA                           485              ;CHECK IF COORDS ARE MULTIPLES OF 16
000017EA  B47C 0000                486              CMP     #$0000,D2
000017EE  6600 0116                487              BNE     .NOTMULT
000017F2  B67C 0000                488              CMP     #$0000,D3
000017F6  6600 010E                489              BNE     .NOTMULT
000017FA                           490              
000017FA                           491              ;BRA     .ACTYUP
000017FA                           492  
000017FA                           493              ;CHECK THE DIRECTION
000017FA  0839 0000 0000268E       494              BTST.B  #0,(KBDVAL)             ;CHECK LEFT
00001802  6700 000C                495              BEQ     .NOTLEFT
00001806  4204                     496              CLR.B   D4
00001808  183C 0000                497              MOVE.B  #0,D4
0000180C  6000 007C                498              BRA     .ACTXLEFT
00001810                           499  .NOTLEFT            
00001810  0839 0002 0000268E       500              BTST.B   #2,(KBDVAL)             ;CHECK RIGHT
00001818  6700 000C                501              BEQ     .NOTRIGHT
0000181C  4204                     502              CLR.B   D4
0000181E  183C 0001                503              MOVE.B   #1,D4
00001822  6000 0032                504              BRA     .ACTXRIGHT
00001826                           505  .NOTRIGHT            
00001826  0839 0001 0000268E       506              BTST.B   #1,(KBDVAL)             ;CHECK UP
0000182E  6700 000C                507              BEQ     .NOTUP
00001832  4204                     508              CLR.B   D4
00001834  183C 0002                509              MOVE.B  #2,D4
00001838  6000 00A8                510              BRA     .ACTYUP
0000183C                           511  .NOTUP            
0000183C  0839 0003 0000268E       512              BTST.B   #3,(KBDVAL)             ;CHECK DOWN
00001844  6700 000C                513              BEQ     .NOTDOWN
00001848  4204                     514              CLR.B   D4
0000184A  183C 0003                515              MOVE.B   #3,D4
0000184E  6000 006E                516              BRA     .ACTYDOWN
00001852                           517  .NOTDOWN
00001852  6000 00CA                518              BRA     .DONE
00001856                           519              
00001856                           520              
00001856                           521              ;UPDATE COORDS
00001856                           522              
00001856                           523  .ACTXRIGHT  
00001856  4EB9 00001CCE            524              JSR     COLWALLRIGHT
0000185C  BA7C 0001                525              CMP     #1,D5
00001860  6600 000E                526              BNE     .NOTCOLISION
00001864  13FC 0000 0000268E       527              MOVE.B  #0,(KBDVAL)
0000186C  303C 0000                528              MOVE.W  #0,D0
00001870                           529  .NOTCOLISION
00001870  BA7C 0004                530              CMP     #4,D5
00001874  6600 000A                531              BNE     .NOTTP
00001878  0479 01E0 00003520       532              SUB.W   #30*16,(PMPOSX)
00001880                           533  .NOTTP
00001880  D179 00003520            534              ADD.W   D0,(PMPOSX)
00001886  6000 0096                535              BRA     .DONE
0000188A                           536  .ACTXLEFT
0000188A  4EB9 00001D10            537              JSR     COLWALLLEFT
00001890  BA7C 0001                538              CMP     #1,D5
00001894  6600 000E                539              BNE     .NOTCOLISION2
00001898  13FC 0000 0000268E       540              MOVE.B  #0,(KBDVAL)
000018A0  303C 0000                541              MOVE.W  #0,D0
000018A4                           542  .NOTCOLISION2
000018A4  BA7C 0004                543              CMP     #4,D5
000018A8  6600 000A                544              BNE     .NOTTP2
000018AC  0679 01E0 00003520       545              ADD.W   #30*16,(PMPOSX)
000018B4                           546  .NOTTP2
000018B4  9179 00003520            547              SUB.W   D0,(PMPOSX)
000018BA  6000 0062                548              BRA     .DONE
000018BE                           549      
000018BE                           550  .ACTYDOWN
000018BE  4EB9 00001D52            551              JSR     COLWALLDOWN
000018C4  BA7C 0001                552              CMP     #1,D5
000018C8  6600 000E                553              BNE     .NOTCOLISION3
000018CC  13FC 0000 0000268E       554              MOVE.B  #0,(KBDVAL)
000018D4  303C 0000                555              MOVE.W  #0,D0
000018D8                           556  .NOTCOLISION3
000018D8  D179 00003522            557              ADD.W   D0,(PMPOSY)
000018DE  6000 003E                558              BRA     .DONE
000018E2                           559  .ACTYUP     
000018E2  4EB9 00001D8E            560              JSR     COLWALLUP
000018E8  BA7C 0001                561              CMP     #1,D5
000018EC  6600 000E                562              BNE     .NOTCOLISION4
000018F0  13FC 0000 0000268E       563              MOVE.B  #0,(KBDVAL)
000018F8  303C 0000                564              MOVE.W  #0,D0
000018FC                           565  .NOTCOLISION4
000018FC  9179 00003522            566              SUB.W   D0,(PMPOSY)
00001902  6000 001A                567              BRA     .DONE
00001906                           568              
00001906                           569              
00001906                           570              ;IF NOT MULT DO
00001906                           571  .NOTMULT     
00001906  B83C 0000                572              CMP.B     #0,D4
0000190A  6700 FF7E                573              BEQ     .ACTXLEFT
0000190E  B83C 0001                574              CMP.B     #1,D4
00001912  6700 FF42                575              BEQ     .ACTXRIGHT
00001916  B83C 0002                576              CMP.B     #2,D4
0000191A  67C6                     577              BEQ     .ACTYUP
0000191C  60A0                     578              BRA     .ACTYDOWN
0000191E                           579  .DONE
0000191E                           580              ;RESTORE
0000191E  4EB9 00001EB2            581              JSR     GETPOINTS
00001924  13C4 00003529            582              MOVE.B  D4,(PMLAMO)
0000192A                           583              
0000192A  4CDF 007F                584              MOVEM.L (A7)+,D0-D6
0000192E                           585              
0000192E  4E75                     586              RTS
00001930                           587                          
00001930                           588  ; ------------------------------------------------------------------------------
00001930                           589  PMPLOT
00001930                           590  ; PLOT THE BALL.
00001930                           591  ; INPUT    : NONE 
00001930                           592  ; OUTPUT   : NONE
00001930                           593  ; MODIFIES : NONE
00001930                           594  ; ------------------------------------------------------------------------------
00001930                           595  
00001930  48E7 FC00                596              MOVEM.L D0-D5,-(A7)
00001934                           597  
00001934                           598              ;SET PEN COLOR
00001934  303C 0050                599              MOVE.W  #80,D0
00001938  7200                     600              MOVE.L  #$0000,D1
0000193A  4E4F                     601              TRAP    #15
0000193C                           602              
0000193C                           603              ;SET FILL COLOR
0000193C  303C 0051                604              MOVE.W  #81,D0
00001940  223C 0000FFFF            605              MOVE.L  #PMFCOL,D1
00001946  4E4F                     606              TRAP    #15
00001948                           607              
00001948  0839 0003 00002691       608              BTST.B  #3,(SCRCYCCT)
00001950  6700 000C                609              BEQ     .MOUTHOPEN
00001954                           610              
00001954                           611              ;DRAW QUIET
00001954  4EB9 000019F2            612              JSR     .FULLDRAW
0000195A  6000 0090                613              BRA     .DDONE
0000195E                           614              
0000195E                           615  .MOUTHOPEN     
0000195E  4EB9 000019F2            616              JSR     .FULLDRAW       
00001964  1A39 0000268E            617              MOVE.B  (KBDVAL),D5
0000196A  CA3C 000F                618              AND.B   #$0F,D5
0000196E                           619   
0000196E                           620              ;CHECK KBDVAL
0000196E  BA3C 0000                621              CMP.B   #$0,D5
00001972  6700 0022                622              BEQ     .NOTMOVE
00001976  BA3C 0001                623              CMP.B  #$1,D5             ;LEFT
0000197A  6700 0038                624              BEQ     .DLEFT
0000197E  BA3C 0002                625              CMP.B  #$2,D5             ;UP
00001982  6700 0026                626              BEQ     .DUP
00001986  BA3C 0004                627              CMP.B  #$4,D5             ;RIGHT
0000198A  6700 0014                628              BEQ     .DRIGHT
0000198E  BA3C 0008                629              CMP.B  #$8,D5             ;DOWN
00001992  6700 002A                630              BEQ     .DDOWN
00001996                           631              
00001996                           632              ;DRAW MOVEMENT
00001996  4EB9 000019F2            633  .NOTMOVE    JSR     .FULLDRAW
0000199C  6000 004E                634              BRA     .DDONE
000019A0                           635  .DRIGHT
000019A0  4EB9 00001A48            636              JSR     .RIGHTDRAW
000019A6  6000 0034                637              BRA     .DRAW_MOUTH3
000019AA                           638  .DUP
000019AA  4EB9 00001A7A            639              JSR     .UPDRAW
000019B0  6000 0020                640              BRA     .DRAW_MOUTH2
000019B4                           641  
000019B4                           642  .DLEFT
000019B4  4EB9 00001A16            643              JSR     .LEFTDRAW
000019BA  6000 000C                644              BRA     .DRAW_MOUTH1
000019BE                           645  
000019BE                           646  .DDOWN
000019BE  4EB9 00001AAC            647              JSR     .DOWNDRAW
000019C4  6000 0020                648              BRA     .DRAW_MOUTH4
000019C8                           649              
000019C8                           650  .DRAW_MOUTH1            
000019C8  4EB9 00001ADE            651              JSR     .SET_MOUTHLEFT
000019CE  6000 001C                652              BRA     .DDONE
000019D2                           653  .DRAW_MOUTH2            
000019D2  4EB9 00001B1A            654              JSR     .SET_MOUTHUP
000019D8  6000 0012                655              BRA     .DDONE
000019DC                           656  .DRAW_MOUTH3            
000019DC  4EB9 00001AFC            657              JSR     .SET_MOUTHRIGHT
000019E2  6000 0008                658              BRA     .DDONE
000019E6                           659  .DRAW_MOUTH4            
000019E6  4EB9 00001B38            660              JSR     .SET_MOUTHDOWN
000019EC                           661  .DDONE
000019EC  4CDF 003F                662              MOVEM.L (A7)+,D0-D5
000019F0                           663              
000019F0  4E75                     664              RTS
000019F2                           665  
000019F2                           666  
000019F2                           667  ;INTERNAL SUBRUTINES FOR PACMAN PLOT-------------------------------------------------------------
000019F2                           668  
000019F2                           669  .FULLDRAW
000019F2                           670              ;SET COORDS
000019F2  3239 00003520            671              MOVE.W  (PMPOSX),D1
000019F8  5141                     672              SUB.W   #PMRAD,D1
000019FA  3439 00003522            673              MOVE.W  (PMPOSY),D2
00001A00  5142                     674              SUB.W   #PMRAD,D2
00001A02                           675              
00001A02  3601                     676              MOVE.W  D1,D3
00001A04  0643 0010                677              ADD.W   #PMRAD*2,D3
00001A08  3802                     678              MOVE.W  D2,D4
00001A0A  0644 0010                679              ADD.W   #PMRAD*2,D4
00001A0E                           680              
00001A0E                           681              ;DRAW PAC-MAN
00001A0E  303C 0058                682              MOVE.W  #88,D0
00001A12  4E4F                     683              TRAP    #15
00001A14                           684              
00001A14  4E75                     685              RTS
00001A16                           686  .LEFTDRAW
00001A16                           687              
00001A16                           688              
00001A16  303C 0054                689              MOVE.W  #84,D0
00001A1A  3239 00003520            690              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
00001A20  5141                     691              SUB.W   #PMRAD,D1
00001A22  3439 00003522            692              MOVE.W  (PMPOSY),D2
00001A28  5142                     693              SUB.W   #PMRAD,D2
00001A2A                           694              
00001A2A  3639 00003520            695              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
00001A30  3839 00003522            696              MOVE.W  (PMPOSY),D4
00001A36                           697              
00001A36  4E4F                     698              TRAP    #15
00001A38                           699             
00001A38  303C 0055                700              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001A3C                           701              
00001A3C  3203                     702              MOVE.W  D3,D1
00001A3E  3404                     703              MOVE.W  D4,D2
00001A40  5042                     704              ADD.W   #PMRAD,D2
00001A42  5141                     705              SUB.W   #PMRAD,D1
00001A44                           706              
00001A44  4E4F                     707              TRAP    #15
00001A46                           708              
00001A46                           709              
00001A46  4E75                     710              RTS
00001A48                           711              
00001A48                           712  .RIGHTDRAW
00001A48                           713              
00001A48                           714              
00001A48  303C 0054                715              MOVE.W  #84,D0
00001A4C  3239 00003520            716              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
00001A52  5041                     717              ADD.W   #PMRAD,D1
00001A54  3439 00003522            718              MOVE.W  (PMPOSY),D2
00001A5A  5042                     719              ADD.W   #PMRAD,D2
00001A5C                           720              
00001A5C  3639 00003520            721              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
00001A62  3839 00003522            722              MOVE.W  (PMPOSY),D4
00001A68                           723              
00001A68  4E4F                     724              TRAP    #15
00001A6A                           725             
00001A6A  303C 0055                726              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001A6E                           727              
00001A6E  3203                     728              MOVE.W  D3,D1
00001A70  3404                     729              MOVE.W  D4,D2
00001A72  5142                     730              SUB.W   #PMRAD,D2
00001A74  5041                     731              ADD.W   #PMRAD,D1
00001A76                           732              
00001A76  4E4F                     733              TRAP    #15
00001A78                           734              
00001A78                           735              
00001A78  4E75                     736              RTS
00001A7A                           737  .UPDRAW
00001A7A                           738              
00001A7A                           739              
00001A7A  303C 0054                740              MOVE.W  #84,D0
00001A7E  3239 00003520            741              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
00001A84  5141                     742              SUB.W   #PMRAD,D1
00001A86  3439 00003522            743              MOVE.W  (PMPOSY),D2
00001A8C  5142                     744              SUB.W   #PMRAD,D2
00001A8E                           745              
00001A8E  3639 00003520            746              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
00001A94  3839 00003522            747              MOVE.W  (PMPOSY),D4
00001A9A                           748              
00001A9A  4E4F                     749              TRAP    #15
00001A9C                           750             
00001A9C  303C 0055                751              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001AA0                           752              
00001AA0  3203                     753              MOVE.W  D3,D1
00001AA2  3404                     754              MOVE.W  D4,D2
00001AA4  5142                     755              SUB.W   #PMRAD,D2
00001AA6  5041                     756              ADD.W   #PMRAD,D1
00001AA8                           757              
00001AA8  4E4F                     758              TRAP    #15
00001AAA                           759              
00001AAA                           760              
00001AAA  4E75                     761              RTS
00001AAC                           762              
00001AAC                           763  .DOWNDRAW
00001AAC                           764              
00001AAC                           765              
00001AAC  303C 0054                766              MOVE.W  #84,D0
00001AB0  3239 00003520            767              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
00001AB6  5141                     768              SUB.W   #PMRAD,D1
00001AB8  3439 00003522            769              MOVE.W  (PMPOSY),D2
00001ABE  5042                     770              ADD.W   #PMRAD,D2
00001AC0                           771              
00001AC0  3639 00003520            772              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
00001AC6  3839 00003522            773              MOVE.W  (PMPOSY),D4
00001ACC                           774              
00001ACC  4E4F                     775              TRAP    #15
00001ACE                           776             
00001ACE  303C 0055                777              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001AD2                           778              
00001AD2  3203                     779              MOVE.W  D3,D1
00001AD4  3404                     780              MOVE.W  D4,D2
00001AD6  5042                     781              ADD.W   #PMRAD,D2
00001AD8  5041                     782              ADD.W   #PMRAD,D1
00001ADA                           783              
00001ADA  4E4F                     784              TRAP    #15
00001ADC                           785              
00001ADC                           786              
00001ADC  4E75                     787              RTS
00001ADE                           788  
00001ADE                           789              
00001ADE                           790  .SET_MOUTHLEFT
00001ADE                           791              
00001ADE  303C 0051                792              MOVE.W  #81,D0                         ;SET BLACK
00001AE2  7200                     793              MOVE.L  #$0000,D1
00001AE4  4E4F                     794              TRAP    #15
00001AE6                           795              
00001AE6  303C 0059                796              MOVE.W  #89,D0                         ;FILL
00001AEA  3239 00003520            797              MOVE.W  (PMPOSX),D1
00001AF0  5541                     798              SUBQ.W   #2,D1
00001AF2  3439 00003522            799              MOVE.W  (PMPOSY),D2
00001AF8  4E4F                     800              TRAP    #15
00001AFA                           801  
00001AFA  4E75                     802              RTS
00001AFC                           803              
00001AFC                           804  .SET_MOUTHRIGHT
00001AFC                           805              
00001AFC  303C 0051                806              MOVE.W  #81,D0                         ;SET BLACK
00001B00  7200                     807              MOVE.L  #$0000,D1
00001B02  4E4F                     808              TRAP    #15
00001B04                           809              
00001B04  303C 0059                810              MOVE.W  #89,D0                         ;FILL
00001B08  3239 00003520            811              MOVE.W  (PMPOSX),D1
00001B0E  5441                     812              ADDQ.W   #2,D1
00001B10  3439 00003522            813              MOVE.W  (PMPOSY),D2
00001B16  4E4F                     814              TRAP    #15
00001B18                           815  
00001B18  4E75                     816              RTS
00001B1A                           817  
00001B1A                           818  .SET_MOUTHUP
00001B1A                           819              
00001B1A  303C 0051                820              MOVE.W  #81,D0                         ;SET BLACK
00001B1E  7200                     821              MOVE.L  #$0000,D1
00001B20  4E4F                     822              TRAP    #15
00001B22                           823              
00001B22  303C 0059                824              MOVE.W  #89,D0                         ;FILL
00001B26  3239 00003520            825              MOVE.W  (PMPOSX),D1
00001B2C  3439 00003522            826              MOVE.W  (PMPOSY),D2
00001B32  5542                     827              SUBQ.W   #2,D2
00001B34  4E4F                     828              TRAP    #15
00001B36                           829  
00001B36  4E75                     830              RTS
00001B38                           831  
00001B38                           832  .SET_MOUTHDOWN
00001B38                           833              
00001B38  303C 0051                834              MOVE.W  #81,D0                         ;SET BLACK
00001B3C  7200                     835              MOVE.L  #$0000,D1
00001B3E  4E4F                     836              TRAP    #15
00001B40                           837              
00001B40  303C 0059                838              MOVE.W  #89,D0                         ;FILL
00001B44  3239 00003520            839              MOVE.W  (PMPOSX),D1
00001B4A  3439 00003522            840              MOVE.W  (PMPOSY),D2
00001B50  5442                     841              ADDQ.W   #2,D2
00001B52  4E4F                     842              TRAP    #15
00001B54                           843  
00001B54  4E75                     844              RTS
00001B56                           845  
00001B56                           846  
00001B56                           847  
00001B56                           848  
00001B56                           849  
00001B56                           850  
00001B56                           851  
00001B56                           852  
00001B56                           853  
00001B56                           854  
00001B56                           855  
00001B56                           856  
00001B56                           857  
00001B56                           858  
00001B56                           859  
00001B56                           860  
00001B56                           861  
00001B56                           862  
00001B56                           863  
00001B56                           864  
00001B56                           865  
00001B56                           866  
00001B56                           867  
00001B56                           868  
00001B56                           869  
00001B56                           870  
00001B56                           871  
00001B56                           872  -------------------- end include --------------------
00001B56                           873              INCLUDE "SCORE.X68"
00001B56                           874  ; ==============================================================================
00001B56                           875  ; SCOREBOARD MANAGEMENT
00001B56                           876  ; ==============================================================================
00001B56                           877              
00001B56                           878  ; ------------------------------------------------------------------------------
00001B56                           879  SCOINIT
00001B56                           880  ; INITIALIZE SCOREBOARD
00001B56                           881  ; INPUT    : NONE 
00001B56                           882  ; OUTPUT   : NONE
00001B56                           883  ; MODIFIES : NONE
00001B56                           884  ; ------------------------------------------------------------------------------
00001B56  4279 0000353A            885              CLR.W   (SCOPOINTS)
00001B5C  33FC 0003 00003538       886              MOVE.W  #3,(SCOLIFE)
00001B64  4E75                     887              RTS
00001B66                           888              
00001B66                           889  ; ------------------------------------------------------------------------------
00001B66                           890  SCOPLOT
00001B66                           891  ; PLOT THE SCOREBOARD
00001B66                           892  ; INPUT    : NONE 
00001B66                           893  ; OUTPUT   : NONE
00001B66                           894  ; MODIFIES : NONE
00001B66                           895  ; ------------------------------------------------------------------------------
00001B66                           896              
00001B66  48E7 C040                897               MOVEM.L D0-D1/A1,-(A7)
00001B6A                           898  
00001B6A                           899              ; SET BACKGROUND COLOR
00001B6A  103C 0051                900              MOVE.B  #81,D0
00001B6E  7200                     901              MOVE.L  #SCOFCOL,D1
00001B70  4E4F                     902              TRAP    #15
00001B72                           903              
00001B72                           904              ; SET FIRST LINE POSITION
00001B72  103C 000B                905              MOVE.B  #11,D0
00001B76  323C 0101                906              MOVE.W  #SCOLINE1,D1
00001B7A  4E4F                     907              TRAP    #15
00001B7C                           908  
00001B7C                           909              ; PRINT FIRST LINE
00001B7C  43F9 00001BB4            910              LEA     .TXT1,A1            ;PUT FIRST STRING IN A1
00001B82  4281                     911              CLR.L   D1
00001B84  3239 0000353A            912              MOVE.W  (SCOPOINTS),D1
00001B8A  103C 0011                913              MOVE.B  #17,D0
00001B8E  4E4F                     914              TRAP    #15
00001B90                           915  
00001B90                           916              ; SET SECOND LINE POSITION
00001B90  103C 000B                917              MOVE.B  #11,D0
00001B94  323C 0102                918              MOVE.W  #SCOLINE2,D1       
00001B98  4E4F                     919              TRAP    #15
00001B9A                           920  
00001B9A                           921              ; PRINT SECOND LINE
00001B9A  43F9 00001BBD            922              LEA     .TXT2,A1
00001BA0  4281                     923              CLR.L   D1
00001BA2  3239 00003538            924              MOVE.W  (SCOLIFE),D1
00001BA8  103C 0011                925              MOVE.B  #17,D0
00001BAC  4E4F                     926              TRAP    #15
00001BAE                           927              
00001BAE  4CDF 0203                928              MOVEM.L (A7)+,D0-D1/A1
00001BB2                           929              
00001BB2  4E75                     930              RTS
00001BB4                           931  
00001BB4= 50 4F 49 4E 54 53 ...    932  .TXT1       DC.B    'POINTS :',0      ;0 IS END OF STRING
00001BBD= 4C 49 46 45 53 20 ...    933  .TXT2       DC.B    'LIFES  :',0
00001BC6                           934  
00001BC6                           935  
00001BC6  4E75                     936              RTS
00001BC8                           937  
00001BC8                           938  
00001BC8                           939  -------------------- end include --------------------
00001BC8                           940              INCLUDE "SYSCONST.X68"
00001BC8                           941  ; ==============================================================================
00001BC8                           942  ; SYSTEM CONSTANTS
00001BC8                           943  ; ==============================================================================
00001BC8                           944  
00001BC8                           945  ; --- SCREEN RELATED CONSTANTS -------------------------------------------------
00001BC8                           946  
00001BC8  =00000280                947  SCRWIDTH    EQU     640                     ; SCREEN WIDTH
00001BC8  =00000280                948  SCRHEIGH    EQU     640                     ; SCREEN HEIGHT
00001BC8                           949  
00001BC8                           950  ;--- TITLE RELATED CONSTANTS ---------------------------------------------------
00001BC8= 74 69 74 6C 65 2E ...    951  FILENAME    DC.B    'title.txt',0
00001BD2  =00000A8C                952  FILESIZE    EQU     2700
00001BD2                           953              DS.B    0                       
00001BD2                           954  ;---KEYCODES--------------------------------------------------------------------
00001BD2                           955  
00001BD2  =00000025                956  KBDLEFT     EQU     $25
00001BD2  =00000026                957  KBDUP       EQU     $26
00001BD2  =00000027                958  KBDRIGHT    EQU     $27
00001BD2  =00000028                959  KBDDOWN     EQU     $28
00001BD2  =00000020                960  KBDFIRE1    EQU     ' '
00001BD2  =0000004D                961  KBDFIRE2    EQU     'M'                         
00001BD2  =00000010                962  KBDFIRE3    EQU     $10
00001BD2  =00000050                963  KBDPAUSE    EQU     'P'
00001BD2                           964  
00001BD2                           965  
00001BD2                           966  
00001BD2                           967  
00001BD2                           968  
00001BD2                           969  
00001BD2                           970  
00001BD2                           971  
00001BD2                           972  
00001BD2                           973  
00001BD2                           974  -------------------- end include --------------------
00001BD2                           975              INCLUDE "SYSTEM.X68"
00001BD2                           976  ; ==============================================================================
00001BD2                           977  ; SYSTEM
00001BD2                           978  ; ==============================================================================
00001BD2                           979              
00001BD2                           980  ; ------------------------------------------------------------------------------
00001BD2                           981  SYSINIT
00001BD2                           982  ; INITIALIZE SYSTEM.
00001BD2                           983  ; INPUT    : NONE
00001BD2                           984  ; OUTPUT   : NONE
00001BD2                           985  ; MODIFIES : NONE
00001BD2                           986  ; ------------------------------------------------------------------------------
00001BD2                           987              
00001BD2  21FC 00001C42 0080       988              MOVE.L  #SCRUPD,($80+0*4)          ;INSTALL SUBRUTINE TO TRAP #0
00001BDA  21FC 00001C78 0084       989              MOVE.L  #KBDUPD,($80+1*4)          ;INSTALL SUBRUTINE TO TRAP #1
00001BE2                           990              
00001BE2                           991              
00001BE2  21FC 00001C5C 0064       992              MOVE.L  #SCRTIM,($60+1*4)          ;INSTALL INTERRUPT #1
00001BEA                           993              
00001BEA  4EB9 00001BFE            994              JSR     SCRINIT
00001BF0  4EB9 00001C6A            995              JSR     KBDINIT
00001BF6                           996              
00001BF6                           997              
00001BF6  40E7                     998              MOVE.W  SR,-(A7)
00001BF8  0257 D8FF                999              ANDI.W  #$D8FF,(A7)                ;BIT SUPERVISOR TO O AND INTERRPUT MASK 000 (FOR REACTIVATE INTERRUPTIONS)             
00001BFC  4E73                    1000              RTE
00001BFE                          1001     
00001BFE                          1002  ; ------------------------------------------------------------------------------
00001BFE                          1003  SCRINIT
00001BFE                          1004  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN, ENABLE BUFFER
00001BFE                          1005  ; ENABLE TIMED INTERRUPTION
00001BFE                          1006  ; INPUT    : NONE
00001BFE                          1007  ; OUTPUT   : NONE
00001BFE                          1008  ; MODIFIES : NONE
00001BFE                          1009  ; ------------------------------------------------------------------------------
00001BFE                          1010  
00001BFE  48E7 C000               1011              MOVEM.L D0-D1,-(A7)                 ;SAFE REGISTERS IN STACK
00001C02                          1012  
00001C02                          1013              ; SET SCREEN RESOLUTION
00001C02  103C 0021               1014              MOVE.B  #33,D0
00001C06  223C 02800280           1015              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
00001C0C  4E4F                    1016              TRAP    #15
00001C0E                          1017              
00001C0E                          1018              ; SET WINDOWED MODE
00001C0E  7201                    1019              MOVE.L  #1,D1
00001C10  4E4F                    1020              TRAP    #15
00001C12                          1021              
00001C12                          1022              ; ENABLE DOUBLE BUFFER
00001C12  103C 005C               1023              MOVE.B  #92,D0
00001C16  123C 0011               1024              MOVE.B  #17,D1
00001C1A  4E4F                    1025              TRAP    #15
00001C1C                          1026              
00001C1C                          1027              ; CLEAR SCREEN
00001C1C  103C 000B               1028              MOVE.B  #11,D0
00001C20  323C FF00               1029              MOVE.W  #$FF00,D1
00001C24  4E4F                    1030              TRAP    #15
00001C26                          1031              
00001C26                          1032              ;ENABLE TIMED INTERRPUT
00001C26  303C 0020               1033              MOVE.W  #32,D0
00001C2A  123C 0006               1034              MOVE.B  #6,D1
00001C2E  143C 0081               1035              MOVE.B  #$81,D2                   ;INDICATE THAT INTERRUPT 1 IS ACTIVATED PERIODICALLY
00001C32  7614                    1036              MOVE.L  #20,D3                    ;INDICATE THE MILISECONDS FOR THAT PERIOD (20 ms == 50 FPS)
00001C34  4E4F                    1037              TRAP    #15
00001C36                          1038              
00001C36                          1039              ;CLEAR INTERRUPT COUNTER
00001C36  4239 00002690           1040              CLR.B   (SCRINTCT)
00001C3C                          1041              
00001C3C  4CDF 0003               1042              MOVEM.L (A7)+,D0-D1               ;RESTORE REGISTERS FROM STACK
00001C40                          1043              
00001C40  4E75                    1044              RTS
00001C42                          1045  
00001C42                          1046  
00001C42                          1047              
00001C42                          1048  ;------------------------------------------------------------------------------            
00001C42                          1049  SCRUPD
00001C42                          1050  ; UPDATES DOUBLE BUFFER
00001C42                          1051  ; INPUT    : NONE
00001C42                          1052  ; OUTPUT   : NONE
00001C42                          1053  ; MODIFIES : NONE
00001C42                          1054  ; ------------------------------------------------------------------------------
00001C42                          1055  
00001C42  48E7 C000               1056              MOVEM.L D0-D1,-(A7)
00001C46                          1057              
00001C46                          1058              ;SWITCH BUFFERS
00001C46  103C 005E               1059              MOVE.B #94,D0
00001C4A  4E4F                    1060              TRAP #15
00001C4C                          1061              
00001C4C                          1062              ;CLEAR HIDDEN BUFFER
00001C4C  103C 000B               1063              MOVE.B  #11,D0
00001C50  323C FF00               1064              MOVE.W  #$FF00,D1
00001C54  4E4F                    1065              TRAP    #15
00001C56                          1066              
00001C56  4CDF 0003               1067              MOVEM.L (A7)+,D0-D1
00001C5A                          1068              
00001C5A  4E73                    1069              RTE
00001C5C                          1070              
00001C5C                          1071  ; ------------------------------------------------------------------------------
00001C5C                          1072  SCRTIM
00001C5C                          1073  ; TIMED INTERRUPT SERVICE ROUTINE
00001C5C                          1074  ; INPUT    : NONE
00001C5C                          1075  ; OUTPUT   : NONE
00001C5C                          1076  ; MODIFIES : NONE
00001C5C                          1077  ; ------------------------------------------------------------------------------
00001C5C  5239 00002690           1078              ADDQ.B  #1,(SCRINTCT)
00001C62  5239 00002691           1079              ADDQ.B  #1,(SCRCYCCT)
00001C68  4E73                    1080              RTE
00001C6A                          1081              
00001C6A                          1082  ;------------------------------------------------------------------------------            
00001C6A                          1083  KBDINIT
00001C6A                          1084  ; INIT THE KEYBOARD
00001C6A                          1085  ; INPUT    : NONE
00001C6A                          1086  ; OUTPUT   : NONE
00001C6A                          1087  ; MODIFIES : NONE
00001C6A                          1088  ; ------------------------------------------------------------------------------
00001C6A                          1089  
00001C6A  4239 0000268E           1090              CLR.B   (KBDVAL)
00001C70  4239 0000268F           1091              CLR.B   (KBDEDGE)
00001C76                          1092  
00001C76  4E75                    1093              RTS
00001C78                          1094  
00001C78                          1095  ;------------------------------------------------------------------------------            
00001C78                          1096  KBDUPD
00001C78                          1097  ; UPDATES KEYBOARD INFO
00001C78                          1098  ; 3 -> DOWN     (HEX: 8)
00001C78                          1099  ; 2 -> RIGHT    (HEX: 4)
00001C78                          1100  ; 1 -> UP       (HEX: 2)
00001C78                          1101  ; 0 -> LEFT     (HEX: 1)
00001C78                          1102  ; ------------------------------------------------------------------------------
00001C78                          1103              
00001C78  48E7 F800               1104              MOVEM.L D0-D4,-(A7)
00001C7C                          1105              
00001C7C                          1106              ; READ FIRST PART
00001C7C  103C 0013               1107              MOVE.B  #19,D0
00001C80  223C 50104D20           1108              MOVE.L  #KBDPAUSE<<24|KBDFIRE3<<16|KBDFIRE2<<8|KBDFIRE1,D1
00001C86  4E4F                    1109              TRAP    #15
00001C88                          1110  
00001C88                          1111              ; CONVERT TO DESIRED FORMAT
00001C88  4EB9 00001CC0           1112              JSR     .CONVERT
00001C8E                          1113  
00001C8E                          1114              ; READ SECOND PART
00001C8E  223C 28272625           1115              MOVE.L  #KBDDOWN<<24|KBDRIGHT<<16|KBDUP<<8|KBDLEFT,D1
00001C94  4E4F                    1116              TRAP    #15
00001C96                          1117              
00001C96                          1118              ;CONVERT TO DESIRED FORMAT
00001C96  4EB9 00001CC0           1119              JSR .CONVERT
00001C9C                          1120  
00001C9C                          1121              ;GET KBDEDGE (IF SOME KEY HAVE CHANGED THE VALUE)
00001C9C  1039 0000268E           1122              MOVE.B  (KBDVAL),D0             ;D0 -> LAST KBDVAL
00001CA2  4600                    1123              NOT.B   D0                      ;D2 -> ACTUAL KBDVAL
00001CA4  C002                    1124              AND.B   D2,D0
00001CA6  13C0 0000268F           1125              MOVE.B  D0,(KBDEDGE)
00001CAC                          1126              
00001CAC                          1127         
00001CAC  B03C 0000               1128              CMP.B   #0,D0
00001CB0  6700 0008               1129              BEQ     .NOACT          
00001CB4                          1130              
00001CB4                          1131              ;STORE NEW KBDVAL
00001CB4  13C2 0000268E           1132              MOVE.B  D2,(KBDVAL)
00001CBA                          1133  .NOACT
00001CBA                          1134              
00001CBA  4CDF 001F               1135              MOVEM.L (A7)+,D0-D4
00001CBE                          1136              
00001CBE  4E73                    1137              RTE    
00001CC0                          1138              
00001CC0                          1139  .CONVERT 
00001CC0  363C 0003               1140              MOVE.W  #3,D3
00001CC4                          1141              
00001CC4  E189                    1142  .LOOP       LSL.L   #8,D1
00001CC6  E312                    1143              ROXL.B  #1,D2
00001CC8  51CB FFFA               1144              DBRA.W  D3,.LOOP
00001CCC  4E75                    1145              RTS
00001CCE                          1146             
00001CCE                          1147  
00001CCE                          1148  ;------------------------------------------------------------------------------            
00001CCE                          1149  COLWALLRIGHT
00001CCE                          1150  ; COLLISION PAC-MAN WITH WALL
00001CCE                          1151  ; INPUT    : NONE
00001CCE                          1152  ; OUTPUT   : NONE
00001CCE                          1153  ; MODIFIES : NONE
00001CCE                          1154  ; ------------------------------------------------------------------------------
00001CCE                          1155  
00001CCE  48E7 F800               1156              MOVEM.L D0-D4,-(A7)
00001CD2                          1157  
00001CD2  3039 00003520           1158              MOVE.W  (PMPOSX),D0
00001CD8  5140                    1159              SUB.W   #8,D0
00001CDA  3239 00003522           1160              MOVE.W  (PMPOSY),D1
00001CE0  5041                    1161              ADD.W   #8,D1
00001CE2                          1162              
00001CE2  81FC 0010               1163              DIVS.W  #16,D0
00001CE6  83FC 0010               1164              DIVS.W  #16,D1
00001CEA                          1165              
00001CEA  5940                    1166              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001CEC  5941                    1167              SUB.W   #4,D1
00001CEE                          1168              
00001CEE  41F9 00002692           1169              LEA.L   MAPVAR,A0
00001CF4                          1170              
00001CF4  5240                    1171              ADD.W   #1,D0
00001CF6  5341                    1172              SUB.W   #1,D1
00001CF8  C2FC 0020               1173              MULU.W  #32,D1
00001CFC  D041                    1174              ADD.W   D1,D0
00001CFE                          1175              
00001CFE  3240                    1176              MOVE.W  D0,A1
00001D00  13C0 00002A92           1177              MOVE.B  D0,POSCON
00001D06                          1178  
00001D06  1A29 2692               1179              MOVE.B  MAPVAR(A1),D5
00001D0A                          1180              
00001D0A  4CDF 001F               1181              MOVEM.L (A7)+,D0-D4
00001D0E                          1182              
00001D0E  4E75                    1183              RTS
00001D10                          1184  
00001D10                          1185  
00001D10                          1186  ;------------------------------------------------------------------------------            
00001D10                          1187  COLWALLLEFT
00001D10                          1188  ; COLLISION PAC-MAN WITH WALL
00001D10                          1189  ; INPUT    : NONE
00001D10                          1190  ; OUTPUT   : NONE
00001D10                          1191  ; MODIFIES : NONE
00001D10                          1192  ; ------------------------------------------------------------------------------
00001D10                          1193  
00001D10  48E7 F800               1194              MOVEM.L D0-D4,-(A7)
00001D14                          1195  
00001D14  3039 00003520           1196              MOVE.W  (PMPOSX),D0
00001D1A  5C40                    1197              ADD.W   #6,D0
00001D1C  3239 00003522           1198              MOVE.W  (PMPOSY),D1
00001D22  5041                    1199              ADD.W   #8,D1
00001D24                          1200              
00001D24  81FC 0010               1201              DIVS.W  #16,D0
00001D28  83FC 0010               1202              DIVS.W  #16,D1
00001D2C                          1203              
00001D2C  5940                    1204              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001D2E  5941                    1205              SUB.W   #4,D1
00001D30                          1206              
00001D30  41F9 00002692           1207              LEA.L   MAPVAR,A0
00001D36                          1208              
00001D36  5340                    1209              SUB.W   #1,D0
00001D38  5341                    1210              SUB.W   #1,D1
00001D3A  C2FC 0020               1211              MULU.W  #32,D1
00001D3E  D041                    1212              ADD.W   D1,D0
00001D40                          1213  
00001D40  3240                    1214              MOVE.W  D0,A1
00001D42  13C0 00002A92           1215              MOVE.B  D0,POSCON
00001D48                          1216  
00001D48  1A29 2692               1217              MOVE.B  MAPVAR(A1),D5               
00001D4C                          1218  
00001D4C                          1219              
00001D4C  4CDF 001F               1220              MOVEM.L (A7)+,D0-D4
00001D50                          1221              
00001D50  4E75                    1222              RTS
00001D52                          1223  
00001D52                          1224  ;------------------------------------------------------------------------------            
00001D52                          1225  COLWALLDOWN
00001D52                          1226  ; COLLISION PAC-MAN WITH WALL
00001D52                          1227  ; INPUT    : NONE
00001D52                          1228  ; OUTPUT   : NONE
00001D52                          1229  ; MODIFIES : NONE
00001D52                          1230  ; ------------------------------------------------------------------------------
00001D52                          1231  
00001D52  48E7 F800               1232              MOVEM.L D0-D4,-(A7)
00001D56                          1233  
00001D56  3039 00003520           1234              MOVE.W  (PMPOSX),D0
00001D5C                          1235              ;ADD.W   #8,D0
00001D5C  3239 00003522           1236              MOVE.W  (PMPOSY),D1
00001D62  5041                    1237              ADD.W   #8,D1
00001D64                          1238              
00001D64  81FC 0010               1239              DIVS.W  #16,D0
00001D68  83FC 0010               1240              DIVS.W  #16,D1
00001D6C                          1241              
00001D6C  5940                    1242              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001D6E  5941                    1243              SUB.W   #4,D1
00001D70                          1244              
00001D70  41F9 00002692           1245              LEA.L   MAPVAR,A0
00001D76                          1246              
00001D76  C2FC 0020               1247              MULU.W  #32,D1
00001D7A  D041                    1248              ADD.W   D1,D0
00001D7C                          1249  
00001D7C  3240                    1250              MOVE.W  D0,A1
00001D7E  13C0 00002A92           1251              MOVE.B  D0,POSCON
00001D84                          1252  
00001D84  1A29 2692               1253              MOVE.B  MAPVAR(A1),D5 
00001D88                          1254  
00001D88                          1255              
00001D88  4CDF 001F               1256              MOVEM.L (A7)+,D0-D4
00001D8C                          1257              
00001D8C  4E75                    1258              RTS
00001D8E                          1259  
00001D8E                          1260  
00001D8E                          1261  ;------------------------------------------------------------------------------            
00001D8E                          1262  COLWALLUP
00001D8E                          1263  ; COLLISION PAC-MAN WITH WALL
00001D8E                          1264  ; INPUT    : NONE
00001D8E                          1265  ; OUTPUT   : NONE
00001D8E                          1266  ; MODIFIES : NONE
00001D8E                          1267  ; ------------------------------------------------------------------------------
00001D8E                          1268  
00001D8E  48E7 F800               1269              MOVEM.L D0-D4,-(A7)
00001D92                          1270  
00001D92  3039 00003520           1271              MOVE.W  (PMPOSX),D0
00001D98                          1272              ;SUB.W   #8,D0
00001D98  3239 00003522           1273              MOVE.W  (PMPOSY),D1
00001D9E  5C41                    1274              ADD.W   #6,D1
00001DA0                          1275              
00001DA0                          1276              
00001DA0  81FC 0010               1277              DIVS.W  #16,D0
00001DA4  83FC 0010               1278              DIVS.W  #16,D1
00001DA8                          1279              
00001DA8  5940                    1280              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001DAA  5941                    1281              SUB.W   #4,D1
00001DAC                          1282              
00001DAC  41F9 00002692           1283              LEA.L   MAPVAR,A0
00001DB2                          1284              
00001DB2  5341                    1285              SUB.W   #1,D1
00001DB4                          1286              ;CMP     #1,D1
00001DB4                          1287              ;BLO     BUCLE4
00001DB4  C2FC 0020               1288              MULU.W  #32,D1
00001DB8  D041                    1289              ADD.W   D1,D0
00001DBA                          1290  
00001DBA                          1291  ;BUCLE4            
00001DBA  3240                    1292              MOVE.W  D0,A1
00001DBC  13C0 00002A92           1293              MOVE.B  D0,POSCON
00001DC2                          1294  
00001DC2  1A29 2692               1295              MOVE.B  MAPVAR(A1),D5 
00001DC6                          1296  
00001DC6                          1297              ;MOVE.B  #0,D5
00001DC6                          1298              
00001DC6  4CDF 001F               1299              MOVEM.L (A7)+,D0-D4
00001DCA                          1300              
00001DCA  4E75                    1301              RTS
00001DCC                          1302  
00001DCC                          1303  ;------------------------------------------------------------------------------            
00001DCC                          1304  GSTCOLWALLRIGHT
00001DCC                          1305  ; COLLISION PAC-MAN WITH WALL
00001DCC                          1306  ; INPUT    : NONE
00001DCC                          1307  ; OUTPUT   : NONE
00001DCC                          1308  ; MODIFIES : NONE
00001DCC                          1309  ; ------------------------------------------------------------------------------
00001DCC                          1310  
00001DCC  48E7 F800               1311              MOVEM.L D0-D4,-(A7)
00001DD0                          1312  
00001DD0  3039 0000352A           1313              MOVE.W  (GSTPOSX),D0
00001DD6  5140                    1314              SUB.W   #8,D0
00001DD8  3239 0000352C           1315              MOVE.W  (GSTPOSY),D1
00001DDE  5041                    1316              ADD.W   #8,D1
00001DE0                          1317              
00001DE0  81FC 0010               1318              DIVS.W  #16,D0
00001DE4  83FC 0010               1319              DIVS.W  #16,D1
00001DE8                          1320              
00001DE8  5940                    1321              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001DEA  5941                    1322              SUB.W   #4,D1
00001DEC                          1323              
00001DEC  41F9 00002692           1324              LEA.L   MAPVAR,A0
00001DF2                          1325              
00001DF2  5240                    1326              ADD.W   #1,D0
00001DF4  5341                    1327              SUB.W   #1,D1
00001DF6  C2FC 0020               1328              MULU.W  #32,D1
00001DFA  D041                    1329              ADD.W   D1,D0
00001DFC                          1330              
00001DFC  3240                    1331              MOVE.W  D0,A1
00001DFE                          1332  
00001DFE  1A29 2692               1333              MOVE.B  MAPVAR(A1),D5
00001E02                          1334              
00001E02  4CDF 001F               1335              MOVEM.L (A7)+,D0-D4
00001E06                          1336              
00001E06  4E75                    1337              RTS
00001E08                          1338  
00001E08                          1339  
00001E08                          1340  ;------------------------------------------------------------------------------            
00001E08                          1341  GSTCOLWALLLEFT
00001E08                          1342  ; COLLISION PAC-MAN WITH WALL
00001E08                          1343  ; INPUT    : NONE
00001E08                          1344  ; OUTPUT   : NONE
00001E08                          1345  ; MODIFIES : NONE
00001E08                          1346  ; ------------------------------------------------------------------------------
00001E08                          1347  
00001E08  48E7 F800               1348              MOVEM.L D0-D4,-(A7)
00001E0C                          1349  
00001E0C  3039 0000352A           1350              MOVE.W  (GSTPOSX),D0
00001E12  5C40                    1351              ADD.W   #6,D0
00001E14  3239 0000352C           1352              MOVE.W  (GSTPOSY),D1
00001E1A  5041                    1353              ADD.W   #8,D1
00001E1C                          1354              
00001E1C  81FC 0010               1355              DIVS.W  #16,D0
00001E20  83FC 0010               1356              DIVS.W  #16,D1
00001E24                          1357              
00001E24  5940                    1358              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001E26  5941                    1359              SUB.W   #4,D1
00001E28                          1360              
00001E28  41F9 00002692           1361              LEA.L   MAPVAR,A0
00001E2E                          1362              
00001E2E  5340                    1363              SUB.W   #1,D0
00001E30  5341                    1364              SUB.W   #1,D1
00001E32  C2FC 0020               1365              MULU.W  #32,D1
00001E36  D041                    1366              ADD.W   D1,D0
00001E38                          1367  
00001E38  3240                    1368              MOVE.W  D0,A1
00001E3A  1A29 2692               1369              MOVE.B  MAPVAR(A1),D5               
00001E3E                          1370  
00001E3E                          1371              
00001E3E  4CDF 001F               1372              MOVEM.L (A7)+,D0-D4
00001E42                          1373              
00001E42  4E75                    1374              RTS
00001E44                          1375  
00001E44                          1376  ;------------------------------------------------------------------------------            
00001E44                          1377  GSTCOLWALLDOWN
00001E44                          1378  ; COLLISION PAC-MAN WITH WALL
00001E44                          1379  ; INPUT    : NONE
00001E44                          1380  ; OUTPUT   : NONE
00001E44                          1381  ; MODIFIES : NONE
00001E44                          1382  ; ------------------------------------------------------------------------------
00001E44                          1383  
00001E44  48E7 F800               1384              MOVEM.L D0-D4,-(A7)
00001E48                          1385  
00001E48  3039 0000352A           1386              MOVE.W  (GSTPOSX),D0
00001E4E                          1387              ;ADD.W   #8,D0
00001E4E  3239 0000352C           1388              MOVE.W  (GSTPOSY),D1
00001E54  5041                    1389              ADD.W   #8,D1
00001E56                          1390              
00001E56  81FC 0010               1391              DIVS.W  #16,D0
00001E5A  83FC 0010               1392              DIVS.W  #16,D1
00001E5E                          1393              
00001E5E  5940                    1394              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001E60  5941                    1395              SUB.W   #4,D1
00001E62                          1396              
00001E62  41F9 00002692           1397              LEA.L   MAPVAR,A0
00001E68                          1398              
00001E68  C2FC 0020               1399              MULU.W  #32,D1
00001E6C  D041                    1400              ADD.W   D1,D0
00001E6E                          1401  
00001E6E  3240                    1402              MOVE.W  D0,A1
00001E70  1A29 2692               1403              MOVE.B  MAPVAR(A1),D5 
00001E74                          1404  
00001E74                          1405              
00001E74  4CDF 001F               1406              MOVEM.L (A7)+,D0-D4
00001E78                          1407              
00001E78  4E75                    1408              RTS
00001E7A                          1409  
00001E7A                          1410  
00001E7A                          1411  ;------------------------------------------------------------------------------            
00001E7A                          1412  GSTCOLWALLUP
00001E7A                          1413  ; COLLISION PAC-MAN WITH WALL
00001E7A                          1414  ; INPUT    : NONE
00001E7A                          1415  ; OUTPUT   : NONE
00001E7A                          1416  ; MODIFIES : NONE
00001E7A                          1417  ; ------------------------------------------------------------------------------
00001E7A                          1418  
00001E7A  48E7 F800               1419              MOVEM.L D0-D4,-(A7)
00001E7E                          1420  
00001E7E  3039 0000352A           1421              MOVE.W  (GSTPOSX),D0
00001E84                          1422              ;SUB.W   #8,D0
00001E84  3239 0000352C           1423              MOVE.W  (GSTPOSY),D1
00001E8A  5C41                    1424              ADD.W   #6,D1
00001E8C                          1425              
00001E8C                          1426              
00001E8C  81FC 0010               1427              DIVS.W  #16,D0
00001E90  83FC 0010               1428              DIVS.W  #16,D1
00001E94                          1429              
00001E94  5940                    1430              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001E96  5941                    1431              SUB.W   #4,D1
00001E98                          1432              
00001E98  41F9 00002692           1433              LEA.L   MAPVAR,A0
00001E9E                          1434              
00001E9E  5341                    1435              SUB.W   #1,D1
00001EA0                          1436  
00001EA0  C2FC 0020               1437              MULU.W  #32,D1
00001EA4  D041                    1438              ADD.W   D1,D0
00001EA6                          1439  
00001EA6  3240                    1440              MOVE.W  D0,A1
00001EA8                          1441  
00001EA8  1A29 2692               1442              MOVE.B  MAPVAR(A1),D5 
00001EAC                          1443  
00001EAC                          1444              ;MOVE.B  #0,D5
00001EAC                          1445              
00001EAC  4CDF 001F               1446              MOVEM.L (A7)+,D0-D4
00001EB0                          1447              
00001EB0  4E75                    1448              RTS
00001EB2                          1449  ;------------------------------------------------------------------------------            
00001EB2                          1450  GETPOINTS
00001EB2                          1451  ; COLLISION PAC-MAN WITH WALL
00001EB2                          1452  ; INPUT    : NONE
00001EB2                          1453  ; OUTPUT   : NONE
00001EB2                          1454  ; MODIFIES : NONE
00001EB2                          1455  ; ------------------------------------------------------------------------------
00001EB2                          1456  
00001EB2  48E7 F800               1457              MOVEM.L D0-D4,-(A7)
00001EB6                          1458  
00001EB6  3039 00003520           1459              MOVE.W  (PMPOSX),D0
00001EBC                          1460              ;SUB.W   #8,D0
00001EBC  3239 00003522           1461              MOVE.W  (PMPOSY),D1
00001EC2  0641 0010               1462              ADD.W   #16,D1
00001EC6                          1463              
00001EC6                          1464              
00001EC6  81FC 0010               1465              DIVS.W  #16,D0
00001ECA  83FC 0010               1466              DIVS.W  #16,D1
00001ECE                          1467              
00001ECE  5940                    1468              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001ED0  5941                    1469              SUB.W   #4,D1
00001ED2                          1470                          
00001ED2  5341                    1471              SUB.W   #1,D1
00001ED4  C2FC 0020               1472              MULU.W  #32,D1
00001ED8  D041                    1473              ADD.W   D1,D0
00001EDA                          1474  
00001EDA  3240                    1475              MOVE.W  D0,A1
00001EDC  1A29 2692               1476              MOVE.B  MAPVAR(A1),D5
00001EE0                          1477              
00001EE0  BA7C 0000               1478              CMP     #0,D5
00001EE4  6700 003A               1479              BEQ     .DONE
00001EE8  BA7C 0002               1480              CMP     #2,D5
00001EEC  6700 0020               1481              BEQ     .POINT
00001EF0  BA7C 0003               1482              CMP     #3,D5
00001EF4  6700 0006               1483              BEQ     .BPOINT
00001EF8  6600 0026               1484              BNE     .DONE
00001EFC                          1485  .BPOINT
00001EFC  137C 0000 2692          1486              MOVE.B  #0,MAPVAR(A1)
00001F02  0679 0032 0000353A      1487              ADD.W   #50,(SCOPOINTS)
00001F0A  6600 0014               1488              BNE     .DONE
00001F0E                          1489  .POINT
00001F0E  137C 0000 2692          1490              MOVE.B  #0,MAPVAR(A1)
00001F14  0679 000A 0000353A      1491              ADD.W   #10,(SCOPOINTS)
00001F1C  6600 0002               1492              BNE     .DONE            
00001F20                          1493  .DONE                        
00001F20  4CDF 001F               1494              MOVEM.L (A7)+,D0-D4
00001F24                          1495              
00001F24  4E75                    1496              RTS
00001F26                          1497  
00001F26                          1498  
00001F26                          1499  
00001F26                          1500  
00001F26                          1501  
00001F26                          1502  
00001F26                          1503  -------------------- end include --------------------
00001F26                          1504              INCLUDE "MAP.X68"
00001F26                          1505  
00001F26                          1506  ; ------------------------------------------------------------------------------
00001F26                          1507  MAPINIT
00001F26                          1508  ; INIT MAP
00001F26                          1509  ; INPUT    : NONE
00001F26                          1510  ; OUTPUT   : NONE
00001F26                          1511  ; MODIFIES : NONE
00001F26                          1512  ; ------------------------------------------------------------------------------            
00001F26                          1513              
00001F26                          1514              ;MOVE.L  #DIBFIGWALL,($80+2*4)          ;INSTALL SUBRUTINE TO TRAP #2
00001F26                          1515              ;MOVE.L  #DIBFIGPOINT,($80+3*4)          ;INSTALL SUBRUTINE TO TRAP #3
00001F26                          1516              ;MOVE.L  #DIBFIGBPOINT,($80+4*4)          ;INSTALL SUBRUTINE TO TRAP #4
00001F26                          1517              
00001F26  48E7 FE00               1518              MOVEM.L D0-D6,-(A7)
00001F2A  48E7 00C0               1519              MOVEM.L A0-A1,-(A7)
00001F2E                          1520              
00001F2E  41F8 1008               1521              LEA.L   MAPMAT,A0
00001F32  43F9 00002692           1522              LEA.L   MAPVAR,A1
00001F38  3C3C 0030               1523              MOVE.W  #48,D6
00001F3C  343C 001F               1524              MOVE.W  #31,D2
00001F40                          1525  BUCLE_FILA
00001F40  3A3C 0030               1526              MOVE.W  #48,D5
00001F44  323C 001F               1527              MOVE.W  #31,D1
00001F48  0646 0010               1528              ADD.W   #16,D6
00001F4C                          1529  
00001F4C                          1530  BUCLE_COLUMNA
00001F4C  0645 0010               1531              ADD.W   #16,D5
00001F50                          1532  
00001F50  1018                    1533              MOVE.B  (A0)+,D0
00001F52  12C0                    1534              MOVE.B  D0,(A1)+
00001F54                          1535               
00001F54  B07C 0000               1536              CMP     #0,D0
00001F58  6700 0034               1537              BEQ     ZERO
00001F5C  B07C 0004               1538              CMP     #4,D0
00001F60  6700 002C               1539              BEQ     ZERO
00001F64  B07C 0001               1540              CMP     #1,D0
00001F68  6600 0008               1541              BNE     NOTWALL
00001F6C  4EB9 00002014           1542              JSR     DIBFIGWALL
00001F72                          1543  NOTWALL
00001F72  B07C 0002               1544              CMP     #2,D0
00001F76  6600 0008               1545              BNE     NOTPOINT
00001F7A  4EB9 0000204C           1546              JSR     DIBFIGPOINT
00001F80                          1547  NOTPOINT
00001F80  B07C 0003               1548              CMP     #3,D0
00001F84  6600 0008               1549              BNE     ZERO
00001F88  4EB9 00002088           1550              JSR     DIBFIGBPOINT
00001F8E                          1551           
00001F8E                          1552  ZERO
00001F8E  51C9 FFBC               1553              DBRA    D1,BUCLE_COLUMNA  
00001F92  51CA FFAC               1554              DBRA    D2,BUCLE_FILA
00001F96                          1555              
00001F96  4CDF 0300               1556              MOVEM.L (A7)+,A0-A1
00001F9A  4CDF 007F               1557              MOVEM.L (A7)+,D0-D6
00001F9E                          1558  
00001F9E                          1559  
00001F9E                          1560              
00001F9E  4E75                    1561              RTS            
00001FA0                          1562  
00001FA0                          1563  ; ------------------------------------------------------------------------------
00001FA0                          1564  MAPPLOT
00001FA0                          1565  ; INIT MAP
00001FA0                          1566  ; INPUT    : NONE
00001FA0                          1567  ; OUTPUT   : NONE
00001FA0                          1568  ; MODIFIES : NONE
00001FA0                          1569  ; ------------------------------------------------------------------------------            
00001FA0                          1570  
00001FA0  48E7 FE00               1571              MOVEM.L D0-D6,-(A7)
00001FA4  48E7 0080               1572              MOVEM.L A0,-(A7)
00001FA8                          1573  
00001FA8  41F9 00002692           1574              LEA.L   MAPVAR,A0
00001FAE  3C3C 0030               1575              MOVE.W  #48,D6
00001FB2  343C 001F               1576              MOVE.W  #31,D2
00001FB6                          1577  BUCLE_FILA2
00001FB6  3A3C 0030               1578              MOVE.W  #48,D5
00001FBA  323C 001F               1579              MOVE.W  #31,D1
00001FBE  0646 0010               1580              ADD.W   #16,D6
00001FC2                          1581  
00001FC2                          1582  BUCLE_COLUMNA2
00001FC2  0645 0010               1583              ADD.W   #16,D5       
00001FC6                          1584  
00001FC6  1018                    1585              MOVE.B  (A0)+,D0
00001FC8                          1586  
00001FC8  B07C 0000               1587              CMP     #0,D0
00001FCC  6700 0034               1588              BEQ     ZERO2
00001FD0  B07C 0004               1589              CMP     #4,D0
00001FD4  6700 002C               1590              BEQ     ZERO2
00001FD8  B07C 0001               1591              CMP     #1,D0
00001FDC  6600 0008               1592              BNE     NOTWALL2
00001FE0  4EB9 00002014           1593              JSR     DIBFIGWALL
00001FE6                          1594  NOTWALL2
00001FE6  B07C 0002               1595              CMP     #2,D0
00001FEA  6600 0008               1596              BNE     NOTPOINT2
00001FEE  4EB9 0000204C           1597              JSR     DIBFIGPOINT
00001FF4                          1598  NOTPOINT2
00001FF4  B07C 0003               1599              CMP     #3,D0
00001FF8  6600 0008               1600              BNE     ZERO2
00001FFC  4EB9 00002088           1601              JSR     DIBFIGBPOINT
00002002                          1602  
00002002                          1603     
00002002                          1604  ZERO2
00002002  51C9 FFBE               1605              DBRA    D1,BUCLE_COLUMNA2
00002006                          1606              
00002006  51CA FFAE               1607              DBRA    D2,BUCLE_FILA2
0000200A                          1608              
0000200A  4CDF 0100               1609              MOVEM.L (A7)+,A0
0000200E  4CDF 007F               1610              MOVEM.L (A7)+,D0-D6
00002012                          1611              
00002012                          1612              
00002012  4E75                    1613              RTS 
00002014                          1614              
00002014                          1615  ; -----------------------------------------------------------------------------
00002014                          1616  DIBFIGWALL
00002014                          1617  ; SUBRUTINE DRAW MAP
00002014                          1618  ; INPUT    : D5=POSITION X, D6=POSITION Y
00002014                          1619  ; OUTPUT   : NONE
00002014                          1620  ; MODIFIES : NONE
00002014                          1621  ; -----------------------------------------------------------------------------
00002014  48E7 FE00               1622              MOVEM.L D0-D6,-(A7)
00002018                          1623              ; SET CONTOURN COLOR
00002018  103C 0050               1624              MOVE.B  #80,D0
0000201C  223C 00AA0000           1625              MOVE.L  #$00AA0000,D1
00002022  4E4F                    1626              TRAP    #15
00002024                          1627              
00002024                          1628              ; SET FILL COLOR
00002024  103C 0051               1629              MOVE.B  #81,D0
00002028  223C 00FF0000           1630              MOVE.L  #$00FF0000,D1
0000202E  4E4F                    1631              TRAP    #15
00002030                          1632              
00002030                          1633              ; DEFINE COORDINATES RECTANGLE
00002030  3205                    1634              MOVE.W  D5,D1
00002032  3406                    1635              MOVE.W  D6,D2
00002034  0645 0010               1636              ADD.W   #16,D5
00002038  0646 0010               1637              ADD.W   #16,D6
0000203C  3605                    1638              MOVE.W  D5,D3
0000203E  3806                    1639              MOVE.W  D6,D4
00002040                          1640              
00002040                          1641              ; DRAW RECTANGLE
00002040  103C 0057               1642              MOVE.B  #87,D0
00002044  4E4F                    1643              TRAP    #15
00002046                          1644              
00002046  4CDF 007F               1645              MOVEM.L (A7)+,D0-D6
0000204A                          1646  
0000204A  4E75                    1647              RTS
0000204C                          1648              
0000204C                          1649  ; -----------------------------------------------------------------------------
0000204C                          1650  DIBFIGPOINT
0000204C                          1651  ; SUBRUTINE DRAW MAP
0000204C                          1652  ; INPUT    : D5=POSITION X, D6=POSITION Y
0000204C                          1653  ; OUTPUT   : NONE
0000204C                          1654  ; MODIFIES : NONE
0000204C                          1655  ; -----------------------------------------------------------------------------
0000204C  48E7 FE00               1656              MOVEM.L D0-D6,-(A7)
00002050                          1657              ; SET CONTOURN COLOR
00002050  103C 0050               1658              MOVE.B  #80,D0
00002054  223C 0000AAAA           1659              MOVE.L  #$0000AAAA,D1
0000205A  4E4F                    1660              TRAP    #15
0000205C                          1661              
0000205C                          1662              ; SET FILL COLOR
0000205C  103C 0051               1663              MOVE.B  #81,D0
00002060  223C 0000FFFF           1664              MOVE.L  #$0000FFFF,D1
00002066  4E4F                    1665              TRAP    #15
00002068                          1666              
00002068                          1667              ; DEFINE COORDINATES RECTANGLE
00002068  3205                    1668              MOVE.W  D5,D1
0000206A  5041                    1669              ADD.W   #8,D1
0000206C  5541                    1670              SUB.W   #2,D1
0000206E  3406                    1671              MOVE.W  D6,D2
00002070  5042                    1672              ADD.W   #8,D2
00002072  5542                    1673              SUB.W   #2,D2
00002074                          1674              
00002074  3601                    1675              MOVE.W  D1,D3
00002076  5843                    1676              ADD.W   #2*2,D3
00002078  3802                    1677              MOVE.W  D2,D4
0000207A  5844                    1678              ADD.W   #2*2,D4
0000207C                          1679              
0000207C                          1680              ; DRAW POINT
0000207C  103C 0058               1681              MOVE.B  #88,D0
00002080  4E4F                    1682              TRAP    #15
00002082                          1683              
00002082  4CDF 007F               1684              MOVEM.L (A7)+,D0-D6
00002086                          1685              
00002086  4E75                    1686              RTS
00002088                          1687  
00002088                          1688  
00002088                          1689  ; -----------------------------------------------------------------------------
00002088                          1690  DIBFIGBPOINT
00002088                          1691  ; SUBRUTINE DRAW MAP
00002088                          1692  ; INPUT    : D5=POSITION X, D6=POSITION Y
00002088                          1693  ; OUTPUT   : NONE
00002088                          1694  ; MODIFIES : NONE
00002088                          1695  ; -----------------------------------------------------------------------------
00002088  48E7 FE00               1696              MOVEM.L D0-D6,-(A7)
0000208C                          1697              ; SET CONTOURN COLOR
0000208C  103C 0050               1698              MOVE.B  #80,D0
00002090  223C 0000AAAA           1699              MOVE.L  #$0000AAAA,D1
00002096  4E4F                    1700              TRAP    #15
00002098                          1701              
00002098                          1702              ; SET FILL COLOR
00002098  103C 0051               1703              MOVE.B  #81,D0
0000209C  223C 0000FFFF           1704              MOVE.L  #$0000FFFF,D1
000020A2  4E4F                    1705              TRAP    #15
000020A4                          1706              
000020A4                          1707              ; DEFINE COORDINATES RECTANGLE
000020A4  3205                    1708              MOVE.W  D5,D1
000020A6  5041                    1709              ADD.W   #8,D1
000020A8  5941                    1710              SUB.W   #4,D1
000020AA  3406                    1711              MOVE.W  D6,D2
000020AC  5042                    1712              ADD.W   #8,D2
000020AE  5942                    1713              SUB.W   #4,D2
000020B0                          1714              
000020B0  3601                    1715              MOVE.W  D1,D3
000020B2  5043                    1716              ADD.W   #4*2,D3
000020B4  3802                    1717              MOVE.W  D2,D4
000020B6  5044                    1718              ADD.W   #4*2,D4
000020B8                          1719              
000020B8                          1720              ; DRAW BIG POINT
000020B8  103C 0058               1721              MOVE.B  #88,D0
000020BC  4E4F                    1722              TRAP    #15
000020BE                          1723              
000020BE  4CDF 007F               1724              MOVEM.L (A7)+,D0-D6
000020C2                          1725              
000020C2  4E75                    1726              RTS
000020C4                          1727  
000020C4                          1728  
000020C4                          1729  
000020C4                          1730  
000020C4                          1731  
000020C4                          1732  
000020C4                          1733  
000020C4                          1734  
000020C4                          1735  
000020C4                          1736  
000020C4                          1737  
000020C4                          1738  
000020C4                          1739  -------------------- end include --------------------
000020C4                          1740              INCLUDE "LIB/UTLCONST.X68"
000020C4                          1741  ; ==============================================================================
000020C4                          1742  ; UTIL CONSTANTS
000020C4                          1743  ; ==============================================================================
000020C4                          1744  
000020C4  =00000008               1745  UTLCHRWD    EQU     8                       ; CHARACTER WIDTH IN PIXELS
000020C4                          1746  
000020C4                          1747  -------------------- end include --------------------
000020C4                          1748              INCLUDE "LIB/UTLCODE.X68"
000020C4                          1749  ; =============================================================================
000020C4                          1750  ; UTILITY CODE
000020C4                          1751  ; =============================================================================
000020C4                          1752  
000020C4                          1753  ; -----------------------------------------------------------------------------
000020C4                          1754  UTLINIT
000020C4                          1755  ; INITIALIZES UTILITY CODE
000020C4                          1756  ; INPUT    - NONE
000020C4                          1757  ; OUTPUT   - NONE
000020C4                          1758  ; MODIFIES - NONE
000020C4                          1759  ; -----------------------------------------------------------------------------
000020C4  48E7 C000               1760              MOVEM.L D0-D1,-(A7)
000020C8  103C 0008               1761              MOVE.B  #8,D0
000020CC  4E4F                    1762              TRAP    #15
000020CE  13C1 00003542           1763              MOVE.B  D1,(UTLRNDIX)
000020D4  4CDF 0003               1764              MOVEM.L (A7)+,D0-D1
000020D8  4E75                    1765              RTS
000020DA                          1766  
000020DA                          1767  ; -----------------------------------------------------------------------------
000020DA                          1768  UTLPRINT
000020DA                          1769  ; PRINT SCREEN CENTERED TEXT
000020DA                          1770  ; INPUT    : A0 POINTER TO ZERO-TERMINATED STRING
000020DA                          1771  ;            D0.B SCREEN ROW TO PRINT TEXT
000020DA                          1772  ; OUTPUT   : D0.B NEXT ROW
000020DA                          1773  ; MODIFIES : NONE (ASIDE OF OUTPUT)
000020DA                          1774  ; -----------------------------------------------------------------------------
000020DA  48E7 C0C0               1775              MOVEM.L D0-D1/A0-A1,-(A7)
000020DE  4201                    1776              CLR.B   D1
000020E0  2248                    1777              MOVE.L  A0,A1
000020E2  4A18                    1778  .LOOP       TST.B   (A0)+
000020E4  6700 0006               1779              BEQ     .ENDLOOP
000020E8  5201                    1780              ADDQ.B  #1,D1
000020EA  60F6                    1781              BRA     .LOOP
000020EC  E209                    1782  .ENDLOOP    LSR.B   #1,D1
000020EE  0401 0028               1783              SUB.B   #(SCRWIDTH/UTLCHRWD)/2,D1
000020F2  4401                    1784              NEG.B   D1
000020F4  E141                    1785              ASL.W   #8,D1
000020F6  8240                    1786              OR.W    D0,D1
000020F8  103C 000B               1787              MOVE.B  #11,D0
000020FC  4E4F                    1788              TRAP    #15
000020FE  103C 000D               1789              MOVE.B  #13,D0
00002102  4E4F                    1790              TRAP    #15
00002104  4CDF 0303               1791              MOVEM.L (A7)+,D0-D1/A0-A1
00002108  5200                    1792              ADDQ.B  #1,D0
0000210A  4E75                    1793              RTS
0000210C                          1794              
0000210C                          1795              
0000210C                          1796  
0000210C                          1797  
0000210C                          1798              ; (SCRWIDTH/UTLCHRWD)/2 - D1/2
0000210C                          1799  
0000210C                          1800  
0000210C                          1801  ; -----------------------------------------------------------------------------
0000210C                          1802  UTLRAND
0000210C                          1803  ; PROVIDES A PSEUDO-RANDOM BYTE
0000210C                          1804  ; INPUT    - NONE
0000210C                          1805  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
0000210C                          1806  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000210C                          1807  ; -----------------------------------------------------------------------------
0000210C  2F08                    1808              MOVE.L  A0,-(A7)
0000210E  41F9 0000212A           1809              LEA     .RANDVEC,A0
00002114  4280                    1810              CLR.L   D0
00002116  1039 00003542           1811              MOVE.B  (UTLRNDIX),D0
0000211C  1030 0800               1812              MOVE.B  (A0,D0.L),D0
00002120  5239 00003542           1813              ADDQ.B  #1,(UTLRNDIX)
00002126  205F                    1814              MOVE.L  (A7)+,A0
00002128  4E75                    1815              RTS
0000212A                          1816  
0000212A                          1817  
0000212A= A2 EE 9A 0C F5 24 ...   1818  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
00002132= 2A A3 51 26 E0 AC ...   1819              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
0000213A= 75 51 CA FD 33 EB ...   1820              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
00002142= 60 CC E7 B8 9A EB ...   1821              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
0000214A= 1D 76 B5 95 B0 89 ...   1822              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
00002152= 39 15 48 C9 6E CA ...   1823              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
0000215A= 43 E7 E2 7C 37 25 ...   1824              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
00002162= E9 94 CE E9 E4 52 ...   1825              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
0000216A= 37 6D 9A 84 A2 28 ...   1826              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
00002172= 19 E2 C6 77 80 D4 ...   1827              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
0000217A= 0A 5A 32 67 33 C2 ...   1828              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
00002182= 59 80 DC 0E 57 FC ...   1829              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
0000218A= 8A AB BC F7 07 4D ...   1830              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
00002192= EF D5 77 6E 1E BB ...   1831              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
0000219A= D6 E0 2A 8F BD 28 ...   1832              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
000021A2= 13 4F 66 EC 0A 64 ...   1833              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
000021AA= 56 52 9A 16 9B 90 ...   1834              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
000021B2= 06 8A A4 F7 01 DA ...   1835              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
000021BA= F2 E7 77 28 B1 76 ...   1836              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
000021C2= A4 42 E3 81 B1 67 ...   1837              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
000021CA= BF CE FA 16 BF 38 ...   1838              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
000021D2= D1 8B 50 0C 5F 49 ...   1839              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
000021DA= DE 4C 14 A2 40 DC ...   1840              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
000021E2= B6 9B 0A 38 5D AB ...   1841              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
000021EA= E2 1B DD 75 15 82 ...   1842              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
000021F2= 8A 26 51 30 9F 47 ...   1843              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
000021FA= 1E 8A BB 71 C6 6E ...   1844              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
00002202= 9F 47 E5 34 94 27 ...   1845              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
0000220A= 7D 06 D6 BA 30 0F ...   1846              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
00002212= EC 7F 7E 03 CF 2D ...   1847              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
0000221A= 94 5B 23 F2 8B CD ...   1848              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
00002222= 74 33 EC B9 0F D5 ...   1849              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
0000222A                          1850  
0000222A                          1851  
0000222A                          1852  
0000222A                          1853  
0000222A                          1854  -------------------- end include --------------------
0000222A                          1855              INCLUDE "INTRO.X68"
0000222A                          1856  ; ==============================================================================
0000222A                          1857  ; INTRO SCREEN
0000222A                          1858  ; ==============================================================================
0000222A                          1859  
0000222A                          1860  ; ------------------------------------------------------------------------------
0000222A                          1861  ISCINIT
0000222A                          1862  ; INTRO SCREEN INIT
0000222A                          1863  ; INPUT    : NONE
0000222A                          1864  ; OUTPUT   : NONE
0000222A                          1865  ; MODIFIES : NONE
0000222A                          1866  ; ------------------------------------------------------------------------------
0000222A  4279 0000353C           1867              CLR.W   (ISCTIMER)
00002230  4EB9 000022AA           1868              JSR     OPENFILE
00002236  4E75                    1869              RTS
00002238                          1870  
00002238                          1871  ; ------------------------------------------------------------------------------
00002238                          1872  ISCUPD
00002238                          1873  ; INTRO SCREEN UPDATE
00002238                          1874  ; INPUT    : NONE
00002238                          1875  ; OUTPUT   : NONE
00002238                          1876  ; MODIFIES : NONE
00002238                          1877  ; ------------------------------------------------------------------------------
00002238  0839 0004 0000268E      1878              BTST.B  #4,(KBDVAL)
00002240  6700 000A               1879              BEQ     .CONT
00002244  33FC 0001 00003540      1880              MOVE.W  #1,(STANEXT)
0000224C                          1881  .CONT       ;ADDQ.W  #1,(ISCTIMER)
0000224C                          1882  ;            CMP.W   #500,(ISCTIMER)
0000224C                          1883  ;            BLT     .DONE
0000224C                          1884  ;            MOVE.W  #1,(STANEXT)
0000224C  4E75                    1885  .DONE       RTS
0000224E                          1886  
0000224E                          1887  ; ------------------------------------------------------------------------------
0000224E                          1888  ISCPLOT
0000224E                          1889  ; INTRO SCREEN PLOT
0000224E                          1890  ; INPUT    : NONE
0000224E                          1891  ; OUTPUT   : NONE
0000224E                          1892  ; MODIFIES : NONE
0000224E                          1893  ; ------------------------------------------------------------------------------
0000224E  48E7 C080               1894              MOVEM.L D0-D1/A0,-(A7)
00002252                          1895              
00002252  4281                    1896              CLR.L   D1
00002254  103C 0051               1897              MOVE.B  #81,D0
00002258  4E4F                    1898              TRAP    #15
0000225A                          1899              
0000225A  4EB9 000022DC           1900              JSR     IMGPLOT
00002260                          1901              
00002260  0839 0004 00002691      1902              BTST.B  #4,(SCRCYCCT)
00002268  6700 0010               1903              BEQ     .DONE
0000226C                          1904              
0000226C  41F9 0000228E           1905              LEA     .TXT2,A0
00002272  103C 0019               1906              MOVE.B  #25,D0
00002276  4EB8 20DA               1907              JSR     UTLPRINT
0000227A                          1908              
0000227A  4CDF 0103               1909  .DONE       MOVEM.L (A7)+,D0-D1/A0
0000227E                          1910  
0000227E  4E75                    1911              RTS
00002280= 50 41 43 2D 4D 41 ...   1912  .TXT1       DC.B    'PAC-MAN 68000',0
0000228E= 50 52 45 53 53 20 ...   1913  .TXT2       DC.B    'PRESS SPACE BUTTON TO START',0
000022AA                          1914              DS.W    0
000022AA                          1915              
000022AA                          1916  ;------------------------------------------------------------------------
000022AA                          1917              
000022AA                          1918  OPENFILE                 
000022AA                          1919              ;OPEN FILE
000022AA  43F8 1BC8               1920              LEA     FILENAME,A1
000022AE  303C 0033               1921              MOVE    #51,D0
000022B2  4E4F                    1922              TRAP    #15
000022B4                          1923              
000022B4                          1924              ;READ FILE
000022B4  243C 00000A8C           1925              MOVE.L  #FILESIZE,D2
000022BA  43F9 00002A94           1926              LEA     BUFFER,A1
000022C0  303C 0035               1927              MOVE    #53,D0
000022C4  4E4F                    1928              TRAP    #15
000022C6                          1929              
000022C6  263C 00000A8C           1930              MOVE.L  #FILESIZE,D3
000022CC                          1931              
000022CC                          1932  .convert_loop 
000022CC  4A03                    1933              TST.B   D3
000022CE  6700 000A               1934              BEQ     .END
000022D2  0419 0030               1935              SUB.B   #$30,(A1)+
000022D6  5303                    1936              SUB.B   #1,D3
000022D8  60F2                    1937              BRA     .convert_loop           
000022DA                          1938  .END        
000022DA                          1939  
000022DA                          1940           
000022DA                          1941            
000022DA                          1942              
000022DA  4E75                    1943              RTS
000022DC                          1944  ; ------------------------------------------------------------------------------
000022DC                          1945  IMGPLOT
000022DC                          1946  ; TITLE IMAGE PLOT
000022DC                          1947  ; INPUT    : NONE
000022DC                          1948  ; OUTPUT   : NONE
000022DC                          1949  ; MODIFIES : NONE
000022DC                          1950  ; ------------------------------------------------------------------------------
000022DC  48E7 FE00               1951              MOVEM.L D0-D6,-(A7)
000022E0  48E7 00C0               1952              MOVEM.L A0-A1,-(A7)
000022E4                          1953              
000022E4                          1954              ;PLOT
000022E4                          1955   
000022E4  41F9 00002A94           1956              LEA.L   BUFFER,A0
000022EA  3C3C 00DC               1957              MOVE.W  #220,D6
000022EE  343C 001C               1958              MOVE.W  #28,D2
000022F2                          1959  BUCLE_FILA3
000022F2  3A3C 0064               1960              MOVE.W  #100,D5
000022F6  323C 0065               1961              MOVE.W  #101,D1
000022FA  5846                    1962              ADD.W   #4,D6
000022FC                          1963  
000022FC                          1964  BUCLE_COLUMNA3
000022FC  5845                    1965              ADD.W   #4,D5
000022FE                          1966  
000022FE  1018                    1967              MOVE.B  (A0)+,D0
00002300                          1968               
00002300  B07C 0001               1969              CMP     #1,D0
00002304  6700 000C               1970              BEQ     ZERO3
00002308  B07C 0000               1971              CMP     #0,D0
0000230C  4EB9 00002324           1972              JSR     DRAW
00002312                          1973  ZERO3
00002312  51C9 FFE8               1974              DBRA    D1,BUCLE_COLUMNA3
00002316  51CA FFDA               1975              DBRA    D2,BUCLE_FILA3
0000231A                          1976              
0000231A  4CDF 0300               1977              MOVEM.L (A7)+,A0-A1
0000231E  4CDF 007F               1978              MOVEM.L (A7)+,D0-D6
00002322                          1979          
00002322                          1980  
00002322  4E75                    1981              RTS
00002324                          1982  
00002324                          1983  
00002324                          1984  ; -----------------------------------------------------------------------------
00002324                          1985  DRAW
00002324                          1986  ; SUBRUTINE DRAW 
00002324                          1987  ; INPUT    : D5=POSITION X, D6=POSITION Y
00002324                          1988  ; OUTPUT   : NONE
00002324                          1989  ; MODIFIES : NONE
00002324                          1990  ; -----------------------------------------------------------------------------
00002324  48E7 FE00               1991              MOVEM.L D0-D6,-(A7)
00002328                          1992              ; SET CONTOURN COLOR
00002328  103C 0050               1993              MOVE.B  #80,D0
0000232C  223C 00AA0000           1994              MOVE.L  #$00AA0000,D1
00002332  4E4F                    1995              TRAP    #15
00002334                          1996              
00002334                          1997              ; SET FILL COLOR
00002334  103C 0051               1998              MOVE.B  #81,D0
00002338  223C 00FF0000           1999              MOVE.L  #$00FF0000,D1
0000233E  4E4F                    2000              TRAP    #15
00002340                          2001              
00002340                          2002              ; DEFINE COORDINATES RECTANGLE
00002340  3205                    2003              MOVE.W  D5,D1
00002342  3406                    2004              MOVE.W  D6,D2
00002344  5845                    2005              ADD.W   #4,D5
00002346  5846                    2006              ADD.W   #4,D6
00002348  3605                    2007              MOVE.W  D5,D3
0000234A  3806                    2008              MOVE.W  D6,D4
0000234C                          2009              
0000234C                          2010              ; DRAW RECTANGLE
0000234C  103C 0057               2011              MOVE.B  #87,D0
00002350  4E4F                    2012              TRAP    #15
00002352                          2013              
00002352  4CDF 007F               2014              MOVEM.L (A7)+,D0-D6
00002356                          2015  
00002356  4E75                    2016              RTS
00002358                          2017  
00002358                          2018  
00002358                          2019  
00002358                          2020  
00002358                          2021  
00002358                          2022  
00002358                          2023  -------------------- end include --------------------
00002358                          2024              INCLUDE "INSTRUCTIONS.X68"
00002358                          2025  ; ==============================================================================
00002358                          2026  ; INSTRUCTIONS SCREEN
00002358                          2027  ; ==============================================================================
00002358                          2028  
00002358                          2029  ; ------------------------------------------------------------------------------
00002358                          2030  INSINIT
00002358                          2031  ; INSTRUCTIONS SCREEN INIT
00002358                          2032  ; INPUT    : NONE
00002358                          2033  ; OUTPUT   : NONE
00002358                          2034  ; MODIFIES : NONE
00002358                          2035  ; ------------------------------------------------------------------------------
00002358  4E75                    2036              RTS
0000235A                          2037  
0000235A                          2038  ; ------------------------------------------------------------------------------
0000235A                          2039  INSUPD
0000235A                          2040  ; INSTRUCTIONS SCREEN UPDATE
0000235A                          2041  ; INPUT    : NONE
0000235A                          2042  ; OUTPUT   : NONE
0000235A                          2043  ; MODIFIES : NONE
0000235A                          2044  ; ------------------------------------------------------------------------------
0000235A  4E75                    2045              RTS
0000235C                          2046  
0000235C                          2047  ; ------------------------------------------------------------------------------
0000235C                          2048  INSPLOT
0000235C                          2049  ; INSTRUCTIONS SCREEN PLOT
0000235C                          2050  ; INPUT    : NONE
0000235C                          2051  ; OUTPUT   : NONE
0000235C                          2052  ; MODIFIES : NONE
0000235C                          2053  ; ------------------------------------------------------------------------------
0000235C                          2054  
0000235C  48E7 C0C0               2055              MOVEM.L D0-D1/A0-A1,-(A7)
00002360  4281                    2056              CLR.L   D1
00002362  103C 0051               2057              MOVE.B  #81,D0
00002366  4E4F                    2058              TRAP    #15
00002368  103C 000B               2059              MOVE.B  #11,D0
0000236C  43F9 000024CE           2060              LEA     .TXTLST,A1
00002372  2219                    2061  .LOOP       MOVE.L  (A1)+,D1
00002374  6700 000A               2062              BEQ     .DONE
00002378  2041                    2063              MOVE.L  D1,A0
0000237A  4EB8 20DA               2064              JSR     UTLPRINT
0000237E  60F2                    2065              BRA     .LOOP
00002380  4CDF 0303               2066  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1
00002384  4E75                    2067              RTS
00002386= 57 45 4C 43 4F 4D ...   2068  .TXT1       DC.B    'WELCOME TO THE WORLD OF MULTI-PONG 68000!',0
000023B0= 59 4F 55 52 20 47 ...   2069  .TXT2       DC.B    'YOUR GOAL IN THIS GAME IS TO AVOID MISSING THE BALLS',0
000023E5= 54 4F 20 54 48 49 ...   2070  .TXT3       DC.B    'TO THIS END, MOVE THE PAD USING THE KEYBOARD',0
00002412= 48 4F 57 20 54 4F ...   2071  .TXT4       DC.B    'HOW TO DO IT? YOU MAY ASK.',0
0000242D= 49 54 20 49 53 20 ...   2072  .TXT5       DC.B    'IT IS EASY: JUST USE THE UP KEY TO MOVE THE PAD...',0
00002460= 55 50 21 00             2073  .TXT6       DC.B    'UP!',0
00002464= 41 4E 44 20 55 53 ...   2074  .TXT7       DC.B    'AND USE THE DOWN KEY TO MOVE THE PAD DOWN.',0
0000248F= 57 48 41 54 20 41 ...   2075  .TXT8       DC.B    'WHAT ABOUT LEFT AND RIGHT?',0
000024AA= 4E 4F 2E 20 54 48 ...   2076  .TXT9       DC.B    'NO. THESE ARE FORBIDDEN DIRECTIONS',0
000024CE                          2077              DS.W    0
000024CE= 00002386 000023B0 ...   2078  .TXTLST     DC.L    .TXT1,.TXT2,.TXT3,.TXT4,.TXT5,.TXT6,.TXT7,.TXT8,.TXT9,0
000024F6                          2079  
000024F6                          2080  
000024F6                          2081  -------------------- end include --------------------
000024F6                          2082              INCLUDE "WIN.X68"
000024F6                          2083  ; ==============================================================================
000024F6                          2084  ; VICTORY SCREEN
000024F6                          2085  ; ==============================================================================
000024F6                          2086  
000024F6                          2087  ; ------------------------------------------------------------------------------
000024F6                          2088  WININIT
000024F6                          2089  ; VICTORY SCREEN INIT
000024F6                          2090  ; INPUT    : NONE
000024F6                          2091  ; OUTPUT   : NONE
000024F6                          2092  ; MODIFIES : NONE
000024F6                          2093  ; ------------------------------------------------------------------------------
000024F6  4E75                    2094              RTS
000024F8                          2095  
000024F8                          2096  ; ------------------------------------------------------------------------------
000024F8                          2097  WINUPD
000024F8                          2098  ; VICTORY SCREEN UPDATE
000024F8                          2099  ; INPUT    : NONE
000024F8                          2100  ; OUTPUT   : NONE
000024F8                          2101  ; MODIFIES : NONE
000024F8                          2102  ; ------------------------------------------------------------------------------
000024F8  4E75                    2103              RTS
000024FA                          2104  
000024FA                          2105  ; ------------------------------------------------------------------------------
000024FA                          2106  WINPLOT
000024FA                          2107  ; VICTORY SCREEN PLOT
000024FA                          2108  ; INPUT    : NONE
000024FA                          2109  ; OUTPUT   : NONE
000024FA                          2110  ; MODIFIES : NONE
000024FA                          2111  ; ------------------------------------------------------------------------------
000024FA  48E7 C080               2112              MOVEM.L D0-D1/A0,-(A7)
000024FE                          2113              
000024FE  4281                    2114              CLR.L   D1
00002500  103C 0051               2115              MOVE.B  #81,D0
00002504  4E4F                    2116              TRAP    #15
00002506                          2117              
00002506  41F9 00002534           2118              LEA     .TXT1,A0
0000250C  103C 000A               2119              MOVE.B  #10,D0
00002510  4EB8 20DA               2120              JSR     UTLPRINT
00002514                          2121              
00002514  0839 0004 00002691      2122              BTST.B  #4,(SCRCYCCT)
0000251C  6700 0010               2123              BEQ     .DONE
00002520                          2124              
00002520  41F9 0000253D           2125              LEA     .TXT2,A0
00002526  103C 0019               2126              MOVE.B  #25,D0
0000252A  4EB8 20DA               2127              JSR     UTLPRINT
0000252E                          2128              
0000252E  4CDF 0103               2129  .DONE       MOVEM.L (A7)+,D0-D1/A0
00002532                          2130  
00002532  4E75                    2131              RTS
00002534= 59 4F 55 20 57 4F ...   2132  .TXT1       DC.B    'YOU WON!',0
0000253D= 50 52 45 53 53 20 ...   2133  .TXT2       DC.B    'PRESS FIRE1 TO CONTINUE',0
00002556                          2134              DS.W    0
00002556                          2135  
00002556                          2136  
00002556                          2137  
00002556                          2138  -------------------- end include --------------------
00002556                          2139              INCLUDE "GOVER.X68"
00002556                          2140  ; ==============================================================================
00002556                          2141  ; GAME OVER SCREEN
00002556                          2142  ; ==============================================================================
00002556                          2143  
00002556                          2144  ; ------------------------------------------------------------------------------
00002556                          2145  GOVINIT
00002556                          2146  ; GAME OVER SCREEN INIT
00002556                          2147  ; INPUT    : NONE
00002556                          2148  ; OUTPUT   : NONE
00002556                          2149  ; MODIFIES : NONE
00002556                          2150  ; ------------------------------------------------------------------------------
00002556  4E75                    2151              RTS
00002558                          2152  
00002558                          2153  ; ------------------------------------------------------------------------------
00002558                          2154  GOVUPD
00002558                          2155  ; GAME OVER SCREEN UPDATE
00002558                          2156  ; INPUT    : NONE
00002558                          2157  ; OUTPUT   : NONE
00002558                          2158  ; MODIFIES : NONE
00002558                          2159  ; ------------------------------------------------------------------------------
00002558  4E75                    2160              RTS
0000255A                          2161  
0000255A                          2162  ; ------------------------------------------------------------------------------
0000255A                          2163  GOVPLOT
0000255A                          2164  ; GAME OVER SCREEN PLOT
0000255A                          2165  ; INPUT    : NONE
0000255A                          2166  ; OUTPUT   : NONE
0000255A                          2167  ; MODIFIES : NONE
0000255A                          2168  ; ------------------------------------------------------------------------------
0000255A  48E7 C080               2169              MOVEM.L D0-D1/A0,-(A7)
0000255E                          2170              
0000255E  4281                    2171              CLR.L   D1
00002560  103C 0051               2172              MOVE.B  #81,D0
00002564  4E4F                    2173              TRAP    #15
00002566                          2174              
00002566  41F9 00002594           2175              LEA     .TXT1,A0
0000256C  103C 000A               2176              MOVE.B  #10,D0
00002570  4EB8 20DA               2177              JSR     UTLPRINT
00002574                          2178              
00002574  0839 0004 00002691      2179              BTST.B  #4,(SCRCYCCT)
0000257C  6700 0010               2180              BEQ     .DONE
00002580                          2181              
00002580  41F9 0000259E           2182              LEA     .TXT2,A0
00002586  103C 0019               2183              MOVE.B  #25,D0
0000258A  4EB8 20DA               2184              JSR     UTLPRINT
0000258E                          2185              
0000258E  4CDF 0103               2186  .DONE       MOVEM.L (A7)+,D0-D1/A0
00002592                          2187  
00002592  4E75                    2188              RTS
00002594= 47 41 4D 45 20 4F ...   2189  .TXT1       DC.B    'GAME OVER',0
0000259E= 50 52 45 53 53 20 ...   2190  .TXT2       DC.B    'PRESS FIRE1 TO CONTINUE',0
000025B6                          2191              DS.W    0
000025B6                          2192  
000025B6                          2193  
000025B6                          2194  -------------------- end include --------------------
000025B6                          2195              INCLUDE "STATES.X68"
000025B6                          2196  ; =============================================================================
000025B6                          2197  ; GAME STATE MANAGEMENT
000025B6                          2198  ; =============================================================================
000025B6                          2199  
000025B6                          2200  ; -----------------------------------------------------------------------------
000025B6                          2201  STAINIT
000025B6                          2202  ; INITALIZES THE STATE MANAGER
000025B6                          2203  ; INPUT    - NONE
000025B6                          2204  ; OUTPUT   - NONE
000025B6                          2205  ; MODIFIES - NONE
000025B6                          2206  ; -----------------------------------------------------------------------------
000025B6  33FC FFFF 0000353E      2207              MOVE.W  #STANONE,(STACUR)
000025BE  4279 00003540           2208              CLR.W   (STANEXT)
000025C4  4E75                    2209              RTS
000025C6                          2210  
000025C6                          2211  ; -----------------------------------------------------------------------------
000025C6                          2212  STAUPD
000025C6                          2213  ; PERFORMS STATE UPDATE AND INIT IF NECESSARY
000025C6                          2214  ; INPUT    - NONE
000025C6                          2215  ; OUTPUT   - NONE
000025C6                          2216  ; MODIFIES - NONE
000025C6                          2217  ; -----------------------------------------------------------------------------
000025C6  48E7 8080               2218              MOVEM.L D0/A0,-(A7)
000025CA  4280                    2219              CLR.L   D0
000025CC  3039 00003540           2220              MOVE.W  (STANEXT),D0
000025D2  B079 0000353E           2221              CMP.W   (STACUR),D0
000025D8  6700 0012               2222              BEQ     .DOUPD
000025DC  33C0 0000353E           2223              MOVE.W  D0,(STACUR)             ; IF STATE CHANGED, DO INIT
000025E2  E588                    2224              LSL.L   #2,D0
000025E4  2040                    2225              MOVE.L  D0,A0
000025E6  2068 2604               2226              MOVE.L  .INITBL(A0),A0
000025EA  4E90                    2227              JSR     (A0)
000025EC  4280                    2228  .DOUPD      CLR.L   D0                      ; IN ANY CASE, DO UPDATE
000025EE  3039 0000353E           2229              MOVE.W  (STACUR),D0
000025F4  E588                    2230              LSL.L   #2,D0
000025F6  2040                    2231              MOVE.L  D0,A0
000025F8  2068 260C               2232              MOVE.L  .UPDTBL(A0),A0
000025FC  4E90                    2233              JSR     (A0)
000025FE  4CDF 0101               2234              MOVEM.L (A7)+,D0/A0
00002602  4E75                    2235              RTS
00002604= 0000222A                2236  .INITBL     DC.L    ISCINIT
00002608= 0000263A                2237              DC.L    GAMINIT
0000260C= 00002238                2238  .UPDTBL     DC.L    ISCUPD
00002610= 0000264A                2239              DC.L    GAMUPD
00002614                          2240  
00002614                          2241  ; -----------------------------------------------------------------------------
00002614                          2242  STAPLOT
00002614                          2243  ; PERFORMS STATE PLOT
00002614                          2244  ; INPUT    - NONE
00002614                          2245  ; OUTPUT   - NONE
00002614                          2246  ; MODIFIES - NONE
00002614                          2247  ; -----------------------------------------------------------------------------
00002614  48E7 8080               2248              MOVEM.L D0/A0,-(A7)
00002618  4280                    2249              CLR.L   D0
0000261A  3039 0000353E           2250              MOVE.W  (STACUR),D0
00002620  E588                    2251              LSL.L   #2,D0
00002622  2040                    2252              MOVE.L  D0,A0
00002624  2068 2630               2253              MOVE.L  .PLTTBL(A0),A0
00002628  4E90                    2254              JSR     (A0)
0000262A  4CDF 0101               2255              MOVEM.L (A7)+,D0/A0
0000262E  4E75                    2256              RTS
00002630= 0000224E                2257  .PLTTBL     DC.L    ISCPLOT
00002634= 00002652                2258              DC.L    GAMPLOT
00002638                          2259  
00002638                          2260  ; -----------------------------------------------------------------------------
00002638                          2261  STAEMPTY
00002638                          2262  ; EMPTY SUBROUTINE FOR CASES WITH NOTHING TO DO
00002638                          2263  ; INPUT    - NONE
00002638                          2264  ; OUTPUT   - NONE
00002638                          2265  ; MODIFIES - NONE
00002638                          2266  ; NOTE     - JUST A PLACEHOLDER. NOTHING TO DO.
00002638                          2267  ; -----------------------------------------------------------------------------
00002638  4E75                    2268              RTS
0000263A                          2269  
0000263A                          2270  
0000263A                          2271  
0000263A                          2272  
0000263A                          2273  
0000263A                          2274  
0000263A                          2275  
0000263A                          2276  
0000263A                          2277  
0000263A                          2278  
0000263A                          2279  -------------------- end include --------------------
0000263A                          2280              INCLUDE "GAME.X68"
0000263A                          2281  ; ==============================================================================
0000263A                          2282  ; GAME MANAGEMENT
0000263A                          2283  ; ==============================================================================
0000263A                          2284  
0000263A                          2285  ; ------------------------------------------------------------------------------
0000263A                          2286  GAMINIT
0000263A                          2287  ; INITIALIZES GAME.
0000263A                          2288  ; INPUT    : NONE
0000263A                          2289  ; OUTPUT   : NONE
0000263A                          2290  ; MODIFIES : NONE
0000263A                          2291  ; ------------------------------------------------------------------------------
0000263A  4EB8 1790               2292              JSR     PMINIT
0000263E  4EB8 1F26               2293              JSR     MAPINIT
00002642  4EB8 1408               2294              JSR     GSTINIT
00002646  6000 F50E               2295              BRA     SCOINIT
0000264A                          2296  
0000264A                          2297  ; ------------------------------------------------------------------------------
0000264A                          2298  GAMUPD
0000264A                          2299  ; UPDATES THE GAME
0000264A                          2300  ; INPUT    : NONE
0000264A                          2301  ; OUTPUT   : NONE
0000264A                          2302  ; MODIFIES : NONE
0000264A                          2303  ; ------------------------------------------------------------------------------
0000264A                          2304              
0000264A  4EB8 143A               2305              JSR     GSTUPD
0000264E  6000 F174               2306              BRA     PMUPD
00002652                          2307              
00002652                          2308  ; ------------------------------------------------------------------------------
00002652                          2309  GAMPLOT
00002652                          2310  ; PLOTS THE GAME
00002652                          2311  ; INPUT    : NONE
00002652                          2312  ; OUTPUT   : NONE
00002652                          2313  ; MODIFIES : NONE
00002652                          2314  ; ------------------------------------------------------------------------------
00002652  4EB8 1FA0               2315              JSR     MAPPLOT
00002656  4EB8 1B66               2316              JSR     SCOPLOT
0000265A  4EB8 1930               2317              JSR     PMPLOT
0000265E  6000 F0C6               2318              BRA     GSTPLOT
00002662                          2319  
00002662                          2320  
00002662                          2321  
00002662                          2322  -------------------- end include --------------------
00002662                          2323        
00002662                          2324              
00002662                          2325      
00002662                          2326  START:
00002662                          2327  
00002662                          2328  ;--- INITIALIZATION -----------------------------------------------------------
00002662                          2329  
00002662  007C 0700               2330              ORI.W   #$0700,SR               ;DISABLE INTERRUPTIONS
00002666                          2331  
00002666  4EB8 1BD2               2332              JSR     SYSINIT
0000266A  4EB8 25B6               2333              JSR     STAINIT
0000266E                          2334  
0000266E                          2335  .LOOP
0000266E                          2336  
0000266E                          2337  ; --- UPDATE -------------------------------------------------------------------
0000266E                          2338  
0000266E                          2339  ; READ INPUT DEVICES
0000266E                          2340  
0000266E  4E41                    2341              TRAP    #1
00002670                          2342  
00002670                          2343  ; UPDATE GAME LOGIC
00002670                          2344  
00002670  4EB8 25C6               2345             JSR     STAUPD
00002674                          2346  
00002674                          2347  ; --- SYNC ---------------------------------------------------------------------
00002674                          2348              ;WHILE THERES NO INTERRUPTS IN THE COUNTER THE PROGRAM WILL BE IN
00002674                          2349              ;THE BUCLE
00002674                          2350              
00002674  4A39 00002690           2351  .WAITINIT   TST.B   (SCRINTCT)
0000267A  67F8                    2352              BEQ     .WAITINIT
0000267C  4239 00002690           2353              CLR.B   (SCRINTCT)
00002682                          2354  
00002682                          2355  ; --- PLOT ---------------------------------------------------------------------
00002682                          2356              
00002682  4EB8 2614               2357              JSR     STAPLOT
00002686                          2358              
00002686                          2359              
00002686  4E40                    2360              TRAP    #0                      ;CHANGE BUFFER
00002688                          2361  
00002688  60E4                    2362              BRA     .LOOP
0000268A                          2363  
0000268A  FFFF FFFF               2364              SIMHALT  
0000268E                          2365             
0000268E                          2366              INCLUDE "SYSVARS.X68"
0000268E                          2367  ; ==============================================================================
0000268E                          2368  ; SYSTEM VARIABLES
0000268E                          2369  ; ==============================================================================
0000268E                          2370   
0000268E                          2371  ; --- KEYBOARD RELATED VARIABLES -----------------------------------------------
0000268E                          2372  
0000268E                          2373  KBDVAL      DS.B    1                       ; KEY STATE
0000268F                          2374  KBDEDGE     DS.B    1                       ; KEY EDGE
00002690                          2375              DS.W    0 
00002690                          2376  
00002690                          2377  ; --- TIMED INTERRUPT RELATED VARIABLES ----------------------------------------
00002690                          2378  
00002690                          2379  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
00002691                          2380  SCRCYCCT    DS.B    1                       ; CYCLE COUNTER
00002692                          2381              DS.W    0        
00002692                          2382              
00002692                          2383  ; --- MAP RELATED VARIABLE -----------------------------------------------------
00002692                          2384  
00002692                          2385  MAPVAR      DS.B    1024
00002A92                          2386  
00002A92                          2387              DS.B    0
00002A92                          2388  
00002A92                          2389  POSCON      DS.W    1
00002A94                          2390  
00002A94                          2391  ; --- TITLE RELATED VARIABLE -----------------------------------------------------
00002A94                          2392  
00002A94                          2393  BUFFER      DS.B    2700
00003520                          2394              DS.B    0
00003520                          2395              
00003520                          2396  
00003520                          2397  
00003520                          2398  
00003520                          2399  
00003520                          2400  
00003520                          2401  
00003520                          2402  
00003520                          2403  -------------------- end include --------------------
00003520                          2404              INCLUDE "VARS.X68"
00003520                          2405  ; ==============================================================================
00003520                          2406  ; GAME VARIABLES
00003520                          2407  ; ==============================================================================
00003520                          2408  
00003520                          2409  ; --- PAC-MAN RELATED VARIABLES ------------------------------------------------
00003520                          2410  
00003520                          2411  PMPOSX      DS.W    1                       ; PM X COORDINATE
00003522                          2412  PMPOSY      DS.W    1                       ; PM Y COORDINATE
00003524                          2413  PMVELX      DS.W    1                       ; PM X VELOCITY
00003526                          2414  PMVELY      DS.W    1                       ; PM Y VELOCITY
00003528                          2415  PMEAT       DS.B    1                       ; PM BOOLEAN EAT GST
00003529                          2416  PMLAMO      DS.B    1                       ; PM SAVE LAST MOVEMENT X O Y
0000352A                          2417              DS.B    0
0000352A                          2418  
0000352A                          2419  ; --- GHOST RELATED VARIABLES --------------------------------------------------
0000352A                          2420  
0000352A                          2421  GSTPOSX     DS.W    1                       ; GST X COORDINATE
0000352C                          2422  GSTPOSY     DS.W    1                       ; GST Y COORDINATE
0000352E                          2423  GSTVELX     DS.W    1                       ; GST X VELOCITY
00003530                          2424  GSTVELY     DS.W    1                       ; GST Y VELOCITY
00003532                          2425  GSTDEAD     DS.B    1                       ; GST BOOLEAN DEAD
00003533                          2426  GSTLAMO     DS.B    1                       ; GST LAST MOVEMENT (X OR Y)
00003534                          2427  GSTINRNG    DS.B    1                       ; GST IS IN RANGE
00003535                          2428  GSTTARG     DS.B    1                       ; GST TARGET (0-PACMAN, 1-RANDOM)
00003536                          2429  GSTPOSMV    DS.B    1                       ; GST POSSIBLE MOVEMENTS (R,L,U,D)
00003537                          2430  GSTCHDIR    DS.B    1                       ; GST HAS CHANGED DIR IN LAST FRAME
00003538                          2431              DS.B    0
00003538                          2432  
00003538                          2433  ; --- SCOREBOARD RELATED VARIABLES ---------------------------------------------
00003538                          2434  
00003538                          2435  SCOLIFE     DS.W    1                       ; NUMBER OF LIFES
0000353A                          2436  SCOPOINTS   DS.W    1                       ; NUMBER OF POINTS
0000353C                          2437  
0000353C                          2438  ; --- INTRO STATE RELATED VARIABLES --------------------------------------------
0000353C                          2439  
0000353C                          2440  ISCTIMER    DS.W    1                       ; INTRO TIMER
0000353E                          2441  
0000353E                          2442  ; --- STATE RELATED VARIABLES --------------------------------------------------
0000353E                          2443  
0000353E                          2444  STACUR      DS.W    1                       ; CURRENT STATE
00003540                          2445  STANEXT     DS.W    1                       ; NEXT STATE
00003542                          2446  
00003542                          2447  
00003542                          2448  
00003542                          2449  
00003542                          2450  
00003542                          2451  
00003542                          2452  
00003542                          2453  
00003542                          2454  
00003542                          2455  
00003542                          2456  -------------------- end include --------------------
00003542                          2457              INCLUDE "LIB/UTLVARS.X68"
00003542                          2458  ; =============================================================================
00003542                          2459  ; UTILITY VARIABLES
00003542                          2460  ; =============================================================================
00003542                          2461  
00003542                          2462  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
00003544                          2463              DS.W    0
00003544                          2464  -------------------- end include --------------------
00003544                          2465              
00003544                          2466              END    START        

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
BUCLE_COLUMNA       1F4C
BUCLE_COLUMNA2      1FC2
BUCLE_COLUMNA3      22FC
BUCLE_FILA          1F40
BUCLE_FILA2         1FB6
BUCLE_FILA3         22F2
BUFFER              2A94
COLWALLDOWN         1D52
COLWALLLEFT         1D10
COLWALLRIGHT        1CCE
COLWALLUP           1D8E
DIBFIGBPOINT        2088
DIBFIGPOINT         204C
DIBFIGWALL          2014
DRAW                2324
FILENAME            1BC8
FILESIZE            A8C
GAMINIT             263A
GAMPLOT             2652
GAMUPD              264A
GETPOINTS           1EB2
GETPOINTS:BPOINT    1EFC
GETPOINTS:DONE      1F20
GETPOINTS:POINT     1F0E
GOVINIT             2556
GOVPLOT             255A
GOVPLOT:DONE        258E
GOVPLOT:TXT1        2594
GOVPLOT:TXT2        259E
GOVUPD              2558
GST2DECISSIONS      16A6
GST2DECISSIONS:GST2DECEND  1720
GST2DECISSIONS:LAMODOWN  16F4
GST2DECISSIONS:LAMOLEFT  16E0
GST2DECISSIONS:LAMORIGHT  16CC
GST2DECISSIONS:LAMOUP  1708
GST2DECISSIONS:RETURN0  171C
GSTCHDIR            3537
GSTCOL1             FF
GSTCOL2             FF0080
GSTCOL3             FFFF00
GSTCOL4             80FF
GSTCOL5             800000
GSTCOLWALLDOWN      1E44
GSTCOLWALLLEFT      1E08
GSTCOLWALLRIGHT     1DCC
GSTCOLWALLUP        1E7A
GSTDEAD             3532
GSTDECVEC           1000
GSTFCOL1            FFFFFF
GSTFCOL2            0
GSTFCOL3            0
GSTFCOL4            0
GSTFCOL5            0
GSTINIT             1408
GSTINRNG            3534
GSTINX1             2
GSTINX2             2
GSTINX3             1F
GSTINX4             1F
GSTINY1             2
GSTINY2             1F
GSTINY3             2
GSTINY4             1F
GSTLAMO             3533
GSTPLOT             1726
GSTPOSMV            3536
GSTPOSX             352A
GSTPOSY             352C
GSTRAD              8
GSTRNG              10
GSTSPEED            2
GSTSPEED2           5
GSTTARG             3535
GSTUPD              143A
GSTUPD:2MLAMOX      1564
GSTUPD:2MLAMOY      1576
GSTUPD:GST2MOVES    153C
GSTUPD:GSTDECISSION  1504
GSTUPD:GSTDONE      16A0
GSTUPD:GSTDOWNMOVE  1658
GSTUPD:GSTINRNG     1464
GSTUPD:GSTLEFTMOVE  1624
GSTUPD:GSTMOVE      1470
GSTUPD:GSTMULT      149E
GSTUPD:GSTMULTDOWN  14D8
GSTUPD:GSTMULTLEFT  14C2
GSTUPD:GSTMULTRIGHT  14AC
GSTUPD:GSTMULTUP    14EE
GSTUPD:GSTNOTCOLISION  1602
GSTUPD:GSTNOTCOLISION2  1636
GSTUPD:GSTNOTCOLISION3  166A
GSTUPD:GSTNOTCOLISION4  168E
GSTUPD:GSTNOTINRNG  1450
GSTUPD:GSTNOTMULT   15C8
GSTUPD:GSTNOTTP     1612
GSTUPD:GSTNOTTP2    1646
GSTUPD:GSTRANDOWN   15A8
GSTUPD:GSTRANLEFT   1598
GSTUPD:GSTRANRIGHT  1588
GSTUPD:GSTRANUP     15B8
GSTUPD:GSTRIGHTMOVE  15F0
GSTUPD:GSTUPMOVE    167C
GSTVELX             352E
GSTVELY             3530
IMGPLOT             22DC
INSINIT             2358
INSPLOT             235C
INSPLOT:DONE        2380
INSPLOT:LOOP        2372
INSPLOT:TXT1        2386
INSPLOT:TXT2        23B0
INSPLOT:TXT3        23E5
INSPLOT:TXT4        2412
INSPLOT:TXT5        242D
INSPLOT:TXT6        2460
INSPLOT:TXT7        2464
INSPLOT:TXT8        248F
INSPLOT:TXT9        24AA
INSPLOT:TXTLST      24CE
INSUPD              235A
ISCINIT             222A
ISCPLOT             224E
ISCPLOT:DONE        227A
ISCPLOT:TXT1        2280
ISCPLOT:TXT2        228E
ISCTIMER            353C
ISCUPD              2238
ISCUPD:CONT         224C
ISCUPD:DONE         224C
KBDDOWN             28
KBDEDGE             268F
KBDFIRE1            20
KBDFIRE2            4D
KBDFIRE3            10
KBDINIT             1C6A
KBDLEFT             25
KBDPAUSE            50
KBDRIGHT            27
KBDUP               26
KBDUPD              1C78
KBDUPD:CONVERT      1CC0
KBDUPD:LOOP         1CC4
KBDUPD:NOACT        1CBA
KBDVAL              268E
MAPINIT             1F26
MAPMAT              1008
MAPPLOT             1FA0
MAPVAR              2692
NOTPOINT            1F80
NOTPOINT2           1FF4
NOTWALL             1F72
NOTWALL2            1FE6
OPENFILE            22AA
OPENFILE:CONVERT_LOOP  22CC
OPENFILE:END        22DA
PMEAT               3528
PMFCOL              FFFF
PMINIT              1790
PMLAMO              3529
PMPCOL              FFFF
PMPLOT              1930
PMPLOT:DDONE        19EC
PMPLOT:DDOWN        19BE
PMPLOT:DLEFT        19B4
PMPLOT:DOWNDRAW     1AAC
PMPLOT:DRAW_MOUTH1  19C8
PMPLOT:DRAW_MOUTH2  19D2
PMPLOT:DRAW_MOUTH3  19DC
PMPLOT:DRAW_MOUTH4  19E6
PMPLOT:DRIGHT       19A0
PMPLOT:DUP          19AA
PMPLOT:FULLDRAW     19F2
PMPLOT:LEFTDRAW     1A16
PMPLOT:MOUTHOPEN    195E
PMPLOT:NOTMOVE      1996
PMPLOT:RIGHTDRAW    1A48
PMPLOT:SET_MOUTHDOWN  1B38
PMPLOT:SET_MOUTHLEFT  1ADE
PMPLOT:SET_MOUTHRIGHT  1AFC
PMPLOT:SET_MOUTHUP  1B1A
PMPLOT:UPDRAW       1A7A
PMPOSX              3520
PMPOSY              3522
PMRAD               8
PMSPEED             2
PMUPD               17C4
PMUPD:ACTXLEFT      188A
PMUPD:ACTXRIGHT     1856
PMUPD:ACTYDOWN      18BE
PMUPD:ACTYUP        18E2
PMUPD:DONE          191E
PMUPD:NOTCOLISION   1870
PMUPD:NOTCOLISION2  18A4
PMUPD:NOTCOLISION3  18D8
PMUPD:NOTCOLISION4  18FC
PMUPD:NOTDOWN       1852
PMUPD:NOTLEFT       1810
PMUPD:NOTMULT       1906
PMUPD:NOTRIGHT      1826
PMUPD:NOTTP         1880
PMUPD:NOTTP2        18B4
PMUPD:NOTUP         183C
PMVELX              3524
PMVELY              3526
POSCON              2A92
SCOFCOL             0
SCOINIT             1B56
SCOLIFE             3538
SCOLINE1            101
SCOLINE2            102
SCOPLOT             1B66
SCOPLOT:TXT1        1BB4
SCOPLOT:TXT2        1BBD
SCOPOINTS           353A
SCRCYCCT            2691
SCRHEIGH            280
SCRINIT             1BFE
SCRINTCT            2690
SCRTIM              1C5C
SCRUPD              1C42
SCRWIDTH            280
STACUR              353E
STAEMPTY            2638
STAINIT             25B6
STANEXT             3540
STANONE             FFFFFFFF
STAPLOT             2614
STAPLOT:PLTTBL      2630
START               2662
START:LOOP          266E
START:WAITINIT      2674
STAUPD              25C6
STAUPD:DOUPD        25EC
STAUPD:INITBL       2604
STAUPD:UPDTBL       260C
SYSINIT             1BD2
UTLCHRWD            8
UTLINIT             20C4
UTLPRINT            20DA
UTLPRINT:ENDLOOP    20EC
UTLPRINT:LOOP       20E2
UTLRAND             210C
UTLRAND:RANDVEC     212A
UTLRNDIX            3542
WININIT             24F6
WINPLOT             24FA
WINPLOT:DONE        252E
WINPLOT:TXT1        2534
WINPLOT:TXT2        253D
WINUPD              24F8
ZERO                1F8E
ZERO2               2002
ZERO3               2312
