0000258E Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 26/12/2022 11:28:23

00000000                             1  ; ==============================================================================
00000000                             2  ; TITLE       : PAC-MAN 68000
00000000                             3  ; DESCRIPTION : GAME IN MOTOROLA 68000 BASED ON PAC-MAN GAME
00000000                             4  ; AUTHOR      : JORDI FLORIT ENSENYAT
00000000                             5  ;               JOSEP GABRIEL FORNES REYNES
00000000                             6  ;               PAU GIRON RODRIGUEZ
00000000                             7  ; ==============================================================================
00001000                             8              ORG    $1000
00001000                             9  
00001000                            10              INCLUDE "CONST.X68"
00001000                            11  ; ==============================================================================
00001000                            12  ; GAME CONSTANTS
00001000                            13  ; ==============================================================================
00001000                            14  
00001000                            15  ; --- PAC-MAN RELATED CONTANTS ----------------------------------------------------
00001000                            16  
00001000  =0000FFFF                 17  PMPCOL      EQU     $0000FFFF               ; PAC-MAN CONTOUR COLOR
00001000  =0000FFFF                 18  PMFCOL      EQU     $0000FFFF               ; PAC-MAN FILL COLOR
00001000  =00000002                 19  PMSPEED     EQU     2                       ; MAGNITUDE OF THE X AND Y VEL.
00001000  =00000008                 20  PMRAD       EQU     8                       ; PAC-MAN RADIUS
00001000                            21  
00001000                            22  ; --- GHOST RELATED CONSTANTS ----------------------------------------------------
00001000                            23  
00001000  =00000002                 24  GSTSPEED    EQU     2                       ; MAGNITUDE OF THE NORMAL DISPLACEMENT
00001000  =00000005                 25  GSTSPEED2   EQU     5                       ; MAGNITUDE OF THE ATACKED DISPLACEMENT
00001000                            26  
00001000  =000000FF                 27  GSTCOL1     EQU     $000000FF               ; GHOST 1 CONTOUR COLOR RED
00001000  =00FFFFFF                 28  GSTFCOL1    EQU     $00FFFFFF               ; GHOST 1 FILL COLOR WHITE
00001000  =00000002                 29  GSTINX1     EQU     2                       ; GHOST 1 INITIAL X
00001000  =00000002                 30  GSTINY1     EQU     2                       ; GHOST 1 INITIAL Y
00001000                            31  
00001000  =00FF0080                 32  GSTCOL2     EQU     $00FF0080               ; GHOST 2 CONTOUR COLOR PINK
00001000  =00000000                 33  GSTFCOL2    EQU     $00000000               ; GHOST 1 FILL COLOR
00001000  =00000002                 34  GSTINX2     EQU     2                       ; GHOST 2 INITIAL X
00001000  =0000001F                 35  GSTINY2     EQU     31                      ; GHOST 2 INITIAL Y
00001000                            36  
00001000  =00FFFF00                 37  GSTCOL3     EQU     $00FFFF00               ; GHOST 3 CONTOUR COLOR CYAN
00001000  =00000000                 38  GSTFCOL3    EQU     $00000000               ; GHOST 3 FILL COLOR
00001000  =0000001F                 39  GSTINX3     EQU     31                      ; GHOST 3 INITIAL X
00001000  =00000002                 40  GSTINY3     EQU     2                       ; GHOST 3 INITIAL Y
00001000                            41  
00001000  =000080FF                 42  GSTCOL4     EQU     $000080FF               ; GHOST 4 CONTOUR COLOR ORANGE
00001000  =00000000                 43  GSTFCOL4    EQU     $00000000               ; GHOST 4 FILL COLOR
00001000  =0000001F                 44  GSTINX4     EQU     31                      ; GHOST 4 INITIAL X
00001000  =0000001F                 45  GSTINY4     EQU     31                      ; GHOST 4 INITIAL Y 
00001000                            46  
00001000  =00800000                 47  GSTCOL5     EQU     $00800000               ; CONTOUR COLOR OF ATACKED MODE
00001000  =00000000                 48  GSTFCOL5    EQU     $00000000               ; FILL COLOR OF ATACKED MODE
00001000                            49  
00001000  =00000008                 50  GSTRAD      EQU     8                       ; GHOST RADIUS
00001000  =00000010                 51  GSTRNG      EQU     16                      ; GHOST DETECTING RANGE
00001000= 0001 0002 0003 0004       52  GSTDECVEC   DC.W    1,2,3,4                 ; GHOST MOVEMENT DECISSIONS
00001008                            53              
00001008                            54  ; --- SCOREBOARD RELATED CONSTANTS ---------------------------------------------
00001008                            55  ;MODIFICATE
00001008                            56  
00001008  =00000000                 57  SCOFCOL     EQU     $00000000               ; TEXT BACKGROUND COLOR
00001008  =00000101                 58  SCOLINE1    EQU     $0101                   ; FIRST TEXT LINE COORDINATES
00001008  =00000102                 59  SCOLINE2    EQU     $0102                   ; SECOND TEXT LINE COORDINATES
00001008                            60  
00001008                            61  ; --- MAP RELATED CONSTANTS ----------------------------------------------------
00001008                            62  
00001008= 01 01 01 01 01 01 ...     63  MAPMAT      DC.B    $1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
00001028= 01 02 02 02 02 02 ...     64              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
00001048= 01 02 01 01 01 01 ...     65              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
00001068= 01 03 01 01 01 01 ...     66              DC.B    $1,3,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,3,1
00001088= 01 02 02 02 02 02 ...     67              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000010A8= 01 02 01 01 01 01 ...     68              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000010C8= 01 02 01 01 01 01 ...     69              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000010E8= 01 02 02 02 02 02 ...     70              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
00001108= 01 02 01 01 01 01 ...     71              DC.B    $1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,2,1
00001128= 01 02 01 00 00 00 ...     72              DC.B    $1,2,1,0,0,0,1,2,1,0,1,2,1,1,1,1,1,1,1,1,2,1,0,1,2,1,0,0,0,1,2,1
00001148= 01 02 01 01 01 01 ...     73              DC.B    $1,2,1,1,1,1,1,2,1,0,1,2,2,2,2,1,1,2,2,2,2,1,0,1,2,1,1,1,1,1,2,1
00001168= 01 02 02 02 02 02 ...     74              DC.B    $1,2,2,2,2,2,2,2,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,2,2,2,2,2,2,2,1
00001188= 01 01 01 01 01 01 ...     75              DC.B    $1,1,1,1,1,1,1,2,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,2,1,1,1,1,1,1,1
000011A8= 01 00 00 00 00 00 ...     76              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,2,1,0,0,0,0,0,1
000011C8= 01 00 00 00 00 00 ...     77              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,1,1,1,0,0,1,1,1,0,1,0,1,2,1,0,0,0,0,0,1
000011E8= 01 01 01 01 01 01 ...     78              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,0,0,0,0,0,0,1,0,1,1,1,2,1,1,1,1,1,1,1
00001208= 04 00 00 00 00 00 ...     79              DC.B    $4,0,0,0,0,0,0,2,2,2,2,0,1,0,0,0,0,0,0,1,0,2,2,2,2,0,0,0,0,0,0,4
00001228= 01 01 01 01 01 01 ...     80              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,0,0,0,0,0,0,1,0,1,1,1,2,1,1,1,1,1,1,1
00001248= 01 00 00 00 00 00 ...     81              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,1,1,1,1,1,1,1,1,0,1,0,1,2,1,0,0,0,0,0,1
00001268= 01 00 00 00 00 00 ...     82              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,2,1,0,0,0,0,0,1
00001288= 01 01 01 01 01 01 ...     83              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,2,1,1,1,1,1,1,1
000012A8= 01 02 02 02 02 02 ...     84              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000012C8= 01 02 01 01 01 01 ...     85              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000012E8= 01 02 01 01 01 01 ...     86              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
00001308= 01 02 02 02 02 01 ...     87              DC.B    $1,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,1
00001328= 01 01 01 01 02 01 ...     88              DC.B    $1,1,1,1,2,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,2,1,1,1,1
00001348= 01 01 01 01 02 01 ...     89              DC.B    $1,1,1,1,2,1,1,2,1,0,1,2,1,1,1,1,1,1,1,1,2,1,0,1,2,1,1,2,1,1,1,1
00001368= 01 02 02 02 02 02 ...     90              DC.B    $1,2,2,2,2,2,2,2,1,0,1,2,2,2,2,1,1,2,2,2,2,1,0,1,2,2,2,2,2,2,2,1
00001388= 01 02 01 01 01 01 ...     91              DC.B    $1,2,1,1,1,1,1,1,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,1,1,1,1,1,1,2,1
000013A8= 01 03 01 01 01 01 ...     92              DC.B    $1,3,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,3,1
000013C8= 01 02 02 02 02 02 ...     93              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000013E8= 01 01 01 01 01 01 ...     94              DC.B    $1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
00001408                            95              
00001408                            96  ; --- STATE RELATED CONSTANTS --------------------------------------------------
00001408                            97  
00001408  =FFFFFFFF                 98  STANONE     EQU     -1                      ; NON-EXISTENT STATE NUMBER
00001408                            99  
00001408                           100  
00001408                           101  
00001408                           102  
00001408                           103  
00001408                           104  
00001408                           105  
00001408                           106  
00001408                           107  
00001408                           108  
00001408                           109  
00001408                           110  
00001408                           111  
00001408                           112  
00001408                           113  
00001408                           114  
00001408                           115  
00001408                           116  
00001408                           117  
00001408                           118  
00001408                           119  
00001408                           120  
00001408                           121  
00001408                           122  
00001408                           123  -------------------- end include --------------------
00001408                           124              INCLUDE "GHOST.X68"
00001408                           125  ; ==============================================================================
00001408                           126  ; GHOST MANAGEMENT
00001408                           127  ; ==============================================================================
00001408                           128              
00001408                           129  ; ------------------------------------------------------------------------------
00001408                           130  GSTINIT
00001408                           131  ; INITIALIZE GHOST.
00001408                           132  ; INPUT    : NONE 
00001408                           133  ; OUTPUT   : NONE
00001408                           134  ; MODIFIES : NONE
00001408                           135  ; ------------------------------------------------------------------------------
00001408  33FC 0058 00003456       136              MOVE.W  #GSTINX1*16+64-8,(GSTPOSX)
00001410  33FC 0058 00003458       137              MOVE.W  #GSTINY1*16+64-8,(GSTPOSY)
00001418  33FC 0002 0000345A       138              MOVE.W  #GSTSPEED,(GSTVELX)
00001420  33FC 0002 0000345C       139              MOVE.W  #GSTSPEED,(GSTVELY)
00001428  13FC 0001 0000345F       140              MOVE.B  #1,(GSTLAMO)
00001430  13FC 0000 00003463       141              MOVE.B  #0,(GSTCHDIR)
00001438  4E75                     142              RTS
0000143A                           143              
0000143A                           144  ; ------------------------------------------------------------------------------
0000143A                           145  GSTUPD
0000143A                           146  ; UPDATES THE GHOST.
0000143A                           147  ; INPUT    : NONE 
0000143A                           148  ; OUTPUT   : NONE
0000143A                           149  ; MODIFIES : NONE
0000143A                           150  ; ------------------------------------------------------------------------------
0000143A  48E7 FC00                151              MOVEM.L D0-D5,-(A7)
0000143E                           152              
0000143E                           153              ;MOVE.W  (PMPOSX)/16*(PMPOSX)/16+(PMPOSY)/16*(PMPOSY)/16,D0
0000143E  323C 0010                154              MOVE.W  #GSTRNG,D1
00001442  C2FC 0010                155              MULU.W  #GSTRNG,D1
00001446  9240                     156              SUB.W   D0,D1
00001448  303C 0002                157              MOVE.W  #GSTSPEED,D0
0000144C  6600 0016                158              BNE     .GSTINRNG
00001450                           159  .GSTNOTINRNG
00001450  4240                     160              CLR     D0
00001452  4241                     161              CLR     D1
00001454  383C 0000                162              MOVE.W  #0,D4
00001458  13FC 0001 00003460       163              MOVE.B  #1,(GSTINRNG)
00001460  6000 000E                164              BRA     .GSTMOVE
00001464                           165  .GSTINRNG
00001464  383C 0000                166              MOVE.W  #0,D4
00001468  13FC 0000 00003460       167              MOVE.B  #0,(GSTINRNG)
00001470                           168  .GSTMOVE
00001470  1439 00003463            169              MOVE.B  (GSTCHDIR),D2
00001476                           170              ;CMP.B   #1,D2
00001476                           171              ;BGE     .GSTNOTMULT
00001476  3439 00003456            172              MOVE.W  (GSTPOSX),D2
0000147C  3639 00003458            173              MOVE.W  (GSTPOSY),D3
00001482                           174              
00001482  5042                     175              ADDQ.W  #8,D2              
00001484  5043                     176              ADDQ.W  #8,D3
00001486                           177  
00001486                           178              ;MASK OF THE LAST NIBBLE        
00001486  C47C 000F                179              AND.W   #$000F,D2               ; COORDENADA X
0000148A  C67C 000F                180              AND.W   #$000F,D3               ; COORDENADA Y
0000148E                           181              
0000148E                           182              ;CHECK IF COORDS ARE MULTIPLES OF 16
0000148E  B47C 0000                183              CMP     #$0000,D2
00001492  6600 00E0                184              BNE     .GSTNOTMULT
00001496  B67C 0000                185              CMP     #$0000,D3
0000149A  6600 00D8                186              BNE     .GSTNOTMULT
0000149E                           187  .GSTMULT
0000149E  4279 00003462            188              CLR     (GSTPOSMV)
000014A4  13FC 0003 00003463       189              MOVE.B  #3,(GSTCHDIR)
000014AC                           190  .GSTMULTRIGHT
000014AC  4EB9 00001CF8            191              JSR     GSTCOLWALLRIGHT
000014B2  BA7C 0001                192              CMP     #1,D5
000014B6  6700 000A                193              BEQ     .GSTMULTLEFT
000014BA  5239 00003462            194              ADD.B   #1,(GSTPOSMV)
000014C0  5244                     195              ADDQ.W  #1,D4
000014C2                           196  .GSTMULTLEFT
000014C2  4EB9 00001D34            197              JSR     GSTCOLWALLLEFT
000014C8  BA7C 0001                198              CMP     #1,D5
000014CC  6700 000A                199              BEQ     .GSTMULTDOWN
000014D0  5439 00003462            200              ADD.B   #2,(GSTPOSMV)
000014D6  5244                     201              ADDQ.W  #1,D4
000014D8                           202  .GSTMULTDOWN
000014D8  4EB9 00001D70            203              JSR     GSTCOLWALLDOWN
000014DE  BA7C 0001                204              CMP     #1,D5
000014E2  6700 000A                205              BEQ     .GSTMULTUP
000014E6  5839 00003462            206              ADD.B   #4,(GSTPOSMV)
000014EC  5244                     207              ADDQ.W  #1,D4
000014EE                           208  .GSTMULTUP
000014EE  4EB9 00001DA6            209              JSR     GSTCOLWALLUP
000014F4  BA7C 0001                210              CMP     #1,D5
000014F8  6700 000A                211              BEQ     .GSTDECISSION
000014FC  5039 00003462            212              ADD.B   #8,(GSTPOSMV)
00001502  5244                     213              ADDQ.W  #1,D4
00001504                           214  .GSTDECISSION
00001504  B87C 0002                215              CMP     #2,D4
00001508  6F00 006A                216              BLE     .GSTNOTMULT
0000150C  4EB9 00002038            217              JSR     UTLRAND
00001512  C0BC 00000006            218              AND.L   #$00000006,D0
00001518  43F8 1000                219              LEA     GSTDECVEC,A1
0000151C  3231 0000                220              MOVE.W  (A1,D0),D1
00001520  B27C 0001                221              CMP     #1,D1
00001524  6700 0016                222              BEQ     .GSTRANRIGHT
00001528  B27C 0002                223              CMP     #2,D1
0000152C  6700 001C                224              BEQ     .GSTRANLEFT
00001530  B27C 0003                225              CMP     #3,D1
00001534  6700 0022                226              BEQ     .GSTRANDOWN
00001538  6000 002C                227              BRA     .GSTRANUP          
0000153C                           228  .GSTRANRIGHT
0000153C  0839 0000 00003462       229              BTST.B  #0,(GSTPOSMV)
00001544  67BE                     230              BEQ     .GSTDECISSION
00001546  6000 0054                231              BRA     .GSTRIGHTMOVE
0000154A                           232  .GSTRANLEFT
0000154A  0839 0001 00003462       233              BTST.B  #1,(GSTPOSMV)
00001552  67B0                     234              BEQ     .GSTDECISSION
00001554  6000 007A                235              BRA     .GSTLEFTMOVE
00001558                           236  .GSTRANDOWN
00001558  0839 0002 00003462       237              BTST.B  #2,(GSTPOSMV)
00001560  67A2                     238              BEQ     .GSTDECISSION
00001562  6000 00A0                239              BRA     .GSTDOWNMOVE
00001566                           240  .GSTRANUP
00001566  0839 0003 00003462       241              BTST.B  #3,(GSTPOSMV)
0000156E  6794                     242              BEQ     .GSTDECISSION
00001570  6000 00B6                243              BRA     .GSTUPMOVE
00001574                           244  .GSTNOTMULT 
00001574  5339 00003463            245              SUB.B   #1,(GSTCHDIR)
0000157A  1839 0000345F            246              MOVE.B  (GSTLAMO),D4           
00001580  B87C 0001                247              CMP     #1,D4
00001584  6700 0016                248              BEQ     .GSTRIGHTMOVE
00001588  B87C 0002                249              CMP     #2,D4
0000158C  6700 0042                250              BEQ     .GSTLEFTMOVE
00001590  B87C 0003                251              CMP     #3,D4
00001594  6700 006E                252              BEQ     .GSTDOWNMOVE
00001598  6000 008E                253              BRA     .GSTUPMOVE
0000159C                           254  
0000159C                           255              ;UPDATE COORDS
0000159C                           256              
0000159C                           257  .GSTRIGHTMOVE
0000159C  4EB9 00001CF8            258              JSR     GSTCOLWALLRIGHT
000015A2  BA7C 0001                259              CMP     #1,D5
000015A6  6600 0006                260              BNE     .GSTNOTCOLISION
000015AA  303C 0000                261              MOVE.W  #0,D0
000015AE                           262  .GSTNOTCOLISION
000015AE  BA7C 0004                263              CMP     #4,D5
000015B2  6600 000A                264              BNE     .GSTNOTTP
000015B6  0479 01E0 00003456       265              SUB.W   #30*16,(GSTPOSX)
000015BE                           266  .GSTNOTTP
000015BE  D179 00003456            267              ADD.W   D0,(GSTPOSX)
000015C4  13FC 0001 0000345F       268              MOVE.B  #1,(GSTLAMO)
000015CC  6000 007E                269              BRA     .GSTDONE
000015D0                           270  .GSTLEFTMOVE
000015D0  4EB9 00001D34            271              JSR     GSTCOLWALLLEFT
000015D6  BA7C 0001                272              CMP     #1,D5
000015DA  6600 0006                273              BNE     .GSTNOTCOLISION2
000015DE  303C 0000                274              MOVE.W  #0,D0
000015E2                           275  .GSTNOTCOLISION2
000015E2  BA7C 0004                276              CMP     #4,D5
000015E6  6600 000A                277              BNE     .GSTNOTTP2
000015EA  0679 01E0 00003456       278              ADD.W   #30*16,(GSTPOSX)
000015F2                           279  .GSTNOTTP2
000015F2  9179 00003456            280              SUB.W   D0,(GSTPOSX)
000015F8  13FC 0002 0000345F       281              MOVE.B  #2,(GSTLAMO)
00001600  6000 004A                282              BRA     .GSTDONE
00001604                           283      
00001604                           284  .GSTDOWNMOVE
00001604  4EB9 00001D70            285              JSR     GSTCOLWALLDOWN
0000160A  BA7C 0001                286              CMP     #1,D5
0000160E  6600 0006                287              BNE     .GSTNOTCOLISION3
00001612  303C 0000                288              MOVE.W  #0,D0
00001616                           289  .GSTNOTCOLISION3
00001616  D179 00003458            290              ADD.W   D0,(GSTPOSY)
0000161C  13FC 0003 0000345F       291              MOVE.B  #3,(GSTLAMO)
00001624  6000 0026                292              BRA     .GSTDONE
00001628                           293  .GSTUPMOVE    
00001628  4EB9 00001DA6            294              JSR     GSTCOLWALLUP
0000162E  BA7C 0001                295              CMP     #1,D5
00001632  6600 0006                296              BNE     .GSTNOTCOLISION4
00001636  303C 0000                297              MOVE.W  #0,D0
0000163A                           298  .GSTNOTCOLISION4
0000163A  9179 00003458            299              SUB.W   D0,(GSTPOSY)
00001640  13FC 0004 0000345F       300              MOVE.B  #4,(GSTLAMO)
00001648  6000 0002                301              BRA     .GSTDONE
0000164C                           302  
0000164C                           303  .GSTDONE
0000164C                           304  
0000164C  4CDF 003F                305              MOVEM.L (A7)+,D0-D5
00001650                           306              
00001650  4E75                     307              RTS
00001652                           308              
00001652                           309  ; ------------------------------------------------------------------------------
00001652                           310  GSTPLOT
00001652                           311  ; PLOT THE GHOST.
00001652                           312  ; INPUT    : NONE 
00001652                           313  ; OUTPUT   : NONE
00001652                           314  ; MODIFIES : NONE
00001652                           315  ; ------------------------------------------------------------------------------
00001652  48E7 F800                316              MOVEM.L D0-D4,-(A7)
00001656                           317              
00001656                           318              ;SET PEN COLOR
00001656  303C 0050                319              MOVE.W  #80,D0
0000165A  223C 000000FF            320              MOVE.L  #GSTCOL1,D1
00001660  4E4F                     321              TRAP    #15
00001662                           322              
00001662                           323              ;SET FILL COLOR
00001662  303C 0051                324              MOVE.W  #81,D0
00001666  223C 00FFFFFF            325              MOVE.L  #GSTFCOL1,D1
0000166C  4E4F                     326              TRAP    #15
0000166E                           327              
0000166E                           328              ;SET COORDS
0000166E  3239 00003456            329              MOVE.W  (GSTPOSX),D1
00001674  5141                     330              SUB.W   #GSTRAD,D1
00001676  3439 00003458            331              MOVE.W  (GSTPOSY),D2
0000167C  5142                     332              SUB.W   #GSTRAD,D2
0000167E                           333              
0000167E  3601                     334              MOVE.W  D1,D3
00001680  0643 0010                335              ADD.W   #GSTRAD*2,D3
00001684  3802                     336              MOVE.W  D2,D4
00001686  0644 0010                337              ADD.W   #GSTRAD*2,D4
0000168A                           338              
0000168A                           339              ;DRAW GHOST
0000168A  303C 0058                340              MOVE.W  #88,D0
0000168E  4E4F                     341              TRAP    #15
00001690                           342              
00001690                           343              ;SET RANGE COORDS
00001690  3239 00003456            344              MOVE.W  (GSTPOSX),D1
00001696  0441 0100                345              SUB.W   #GSTRNG*16,D1
0000169A  3439 00003458            346              MOVE.W  (GSTPOSY),D2
000016A0  0442 0100                347              SUB.W   #GSTRNG*16,D2
000016A4                           348              
000016A4  3601                     349              MOVE.W  D1,D3
000016A6  0643 0200                350              ADD.W   #GSTRNG*16*2,D3
000016AA  3802                     351              MOVE.W  D2,D4
000016AC  0644 0200                352              ADD.W   #GSTRNG*16*2,D4
000016B0                           353              
000016B0                           354              ;DRAW GHOST RANGE
000016B0  303C 005B                355              MOVE.W  #91,D0
000016B4  4E4F                     356              TRAP    #15
000016B6                           357              
000016B6  4CDF 001F                358              MOVEM.L (A7)+,D0-D4
000016BA                           359              
000016BA                           360  
000016BA  4E75                     361              RTS
000016BC                           362  
000016BC                           363  
000016BC                           364  
000016BC                           365  
000016BC                           366  
000016BC                           367  
000016BC                           368  
000016BC                           369  
000016BC                           370  -------------------- end include --------------------
000016BC                           371              INCLUDE "PAC-MAN.X68"
000016BC                           372  ; ==============================================================================
000016BC                           373  ; PAC-MAN MANAGEMENT
000016BC                           374  ; ==============================================================================
000016BC                           375              
000016BC                           376  ; ------------------------------------------------------------------------------
000016BC                           377  PMINIT
000016BC                           378  ; INITIALIZE PAC-MAN.
000016BC                           379  ; INPUT    : NONE 
000016BC                           380  ; OUTPUT   : NONE
000016BC                           381  ; MODIFIES : NONE
000016BC                           382  ; ------------------------------------------------------------------------------
000016BC                           383  
000016BC  33FC 0140 0000344C       384              MOVE.W  #SCRWIDTH/2,(PMPOSX)
000016C4  33FC 0140 0000344E       385              MOVE.W  #SCRHEIGH/2,(PMPOSY)
000016CC  5079 0000344C            386              ADDQ.W  #8,(PMPOSX)
000016D2  5079 0000344E            387              ADDQ.W  #8,(PMPOSY)
000016D8  33FC 0002 00003450       388              MOVE.W  #PMSPEED,(PMVELX)
000016E0  33FC 0002 00003452       389              MOVE.W  #PMSPEED,(PMVELY)
000016E8  4239 00003455            390              CLR.B   (PMLAMO)
000016EE                           391  
000016EE  4E75                     392              RTS
000016F0                           393              
000016F0                           394  ; ------------------------------------------------------------------------------
000016F0                           395  PMUPD
000016F0                           396  ; UPDATES THE PAC-MAN.
000016F0                           397  ; INPUT    : NONE 
000016F0                           398  ; OUTPUT   : NONE
000016F0                           399  ; MODIFIES : NONE
000016F0                           400  ; ------------------------------------------------------------------------------
000016F0                           401              
000016F0  48E7 FE00                402              MOVEM.L D0-D6,-(A7)
000016F4                           403              
000016F4  303C 0002                404              MOVE.W  #PMSPEED,D0
000016F8                           405              
000016F8                           406              
000016F8  3439 0000344C            407              MOVE.W  (PMPOSX),D2
000016FE  3639 0000344E            408              MOVE.W  (PMPOSY),D3
00001704                           409              
00001704  5042                     410              ADDQ.W  #8,D2              
00001706  5043                     411              ADDQ.W  #8,D3  
00001708                           412              
00001708  1839 00003455            413              MOVE.B  (PMLAMO),D4
0000170E                           414              
0000170E                           415              ;MASK OF THE LAST NIBBLE        
0000170E  C47C 000F                416              AND.W   #$000F,D2               ; COORDENADA X
00001712  C67C 000F                417              AND.W   #$000F,D3               ; COORDENADA Y
00001716                           418              
00001716                           419              ;CHECK IF COORDS ARE MULTIPLES OF 16
00001716  B47C 0000                420              CMP     #$0000,D2
0000171A  6600 0116                421              BNE     .NOTMULT
0000171E  B67C 0000                422              CMP     #$0000,D3
00001722  6600 010E                423              BNE     .NOTMULT
00001726                           424              
00001726                           425              ;BRA     .ACTYUP
00001726                           426  
00001726                           427              ;CHECK THE DIRECTION
00001726  0839 0000 000025BA       428              BTST.B  #0,(KBDVAL)             ;CHECK LEFT
0000172E  6700 000C                429              BEQ     .NOTLEFT
00001732  4204                     430              CLR.B   D4
00001734  183C 0000                431              MOVE.B  #0,D4
00001738  6000 007C                432              BRA     .ACTXLEFT
0000173C                           433  .NOTLEFT            
0000173C  0839 0002 000025BA       434              BTST.B   #2,(KBDVAL)             ;CHECK RIGHT
00001744  6700 000C                435              BEQ     .NOTRIGHT
00001748  4204                     436              CLR.B   D4
0000174A  183C 0001                437              MOVE.B   #1,D4
0000174E  6000 0032                438              BRA     .ACTXRIGHT
00001752                           439  .NOTRIGHT            
00001752  0839 0001 000025BA       440              BTST.B   #1,(KBDVAL)             ;CHECK UP
0000175A  6700 000C                441              BEQ     .NOTUP
0000175E  4204                     442              CLR.B   D4
00001760  183C 0002                443              MOVE.B  #2,D4
00001764  6000 00A8                444              BRA     .ACTYUP
00001768                           445  .NOTUP            
00001768  0839 0003 000025BA       446              BTST.B   #3,(KBDVAL)             ;CHECK DOWN
00001770  6700 000C                447              BEQ     .NOTDOWN
00001774  4204                     448              CLR.B   D4
00001776  183C 0003                449              MOVE.B   #3,D4
0000177A  6000 006E                450              BRA     .ACTYDOWN
0000177E                           451  .NOTDOWN
0000177E  6000 00CA                452              BRA     .DONE
00001782                           453              
00001782                           454              
00001782                           455              ;UPDATE COORDS
00001782                           456              
00001782                           457  .ACTXRIGHT  
00001782  4EB9 00001BFA            458              JSR     COLWALLRIGHT
00001788  BA7C 0001                459              CMP     #1,D5
0000178C  6600 000E                460              BNE     .NOTCOLISION
00001790  13FC 0000 000025BA       461              MOVE.B  #0,(KBDVAL)
00001798  303C 0000                462              MOVE.W  #0,D0
0000179C                           463  .NOTCOLISION
0000179C  BA7C 0004                464              CMP     #4,D5
000017A0  6600 000A                465              BNE     .NOTTP
000017A4  0479 01E0 0000344C       466              SUB.W   #30*16,(PMPOSX)
000017AC                           467  .NOTTP
000017AC  D179 0000344C            468              ADD.W   D0,(PMPOSX)
000017B2  6000 0096                469              BRA     .DONE
000017B6                           470  .ACTXLEFT
000017B6  4EB9 00001C3C            471              JSR     COLWALLLEFT
000017BC  BA7C 0001                472              CMP     #1,D5
000017C0  6600 000E                473              BNE     .NOTCOLISION2
000017C4  13FC 0000 000025BA       474              MOVE.B  #0,(KBDVAL)
000017CC  303C 0000                475              MOVE.W  #0,D0
000017D0                           476  .NOTCOLISION2
000017D0  BA7C 0004                477              CMP     #4,D5
000017D4  6600 000A                478              BNE     .NOTTP2
000017D8  0679 01E0 0000344C       479              ADD.W   #30*16,(PMPOSX)
000017E0                           480  .NOTTP2
000017E0  9179 0000344C            481              SUB.W   D0,(PMPOSX)
000017E6  6000 0062                482              BRA     .DONE
000017EA                           483      
000017EA                           484  .ACTYDOWN
000017EA  4EB9 00001C7E            485              JSR     COLWALLDOWN
000017F0  BA7C 0001                486              CMP     #1,D5
000017F4  6600 000E                487              BNE     .NOTCOLISION3
000017F8  13FC 0000 000025BA       488              MOVE.B  #0,(KBDVAL)
00001800  303C 0000                489              MOVE.W  #0,D0
00001804                           490  .NOTCOLISION3
00001804  D179 0000344E            491              ADD.W   D0,(PMPOSY)
0000180A  6000 003E                492              BRA     .DONE
0000180E                           493  .ACTYUP     
0000180E  4EB9 00001CBA            494              JSR     COLWALLUP
00001814  BA7C 0001                495              CMP     #1,D5
00001818  6600 000E                496              BNE     .NOTCOLISION4
0000181C  13FC 0000 000025BA       497              MOVE.B  #0,(KBDVAL)
00001824  303C 0000                498              MOVE.W  #0,D0
00001828                           499  .NOTCOLISION4
00001828  9179 0000344E            500              SUB.W   D0,(PMPOSY)
0000182E  6000 001A                501              BRA     .DONE
00001832                           502              
00001832                           503              
00001832                           504              ;IF NOT MULT DO
00001832                           505  .NOTMULT     
00001832  B83C 0000                506              CMP.B     #0,D4
00001836  6700 FF7E                507              BEQ     .ACTXLEFT
0000183A  B83C 0001                508              CMP.B     #1,D4
0000183E  6700 FF42                509              BEQ     .ACTXRIGHT
00001842  B83C 0002                510              CMP.B     #2,D4
00001846  67C6                     511              BEQ     .ACTYUP
00001848  60A0                     512              BRA     .ACTYDOWN
0000184A                           513  .DONE
0000184A                           514              ;RESTORE
0000184A  4EB9 00001DDE            515              JSR     GETPOINTS
00001850  13C4 00003455            516              MOVE.B  D4,(PMLAMO)
00001856                           517              
00001856  4CDF 007F                518              MOVEM.L (A7)+,D0-D6
0000185A                           519              
0000185A  4E75                     520              RTS
0000185C                           521                          
0000185C                           522  ; ------------------------------------------------------------------------------
0000185C                           523  PMPLOT
0000185C                           524  ; PLOT THE BALL.
0000185C                           525  ; INPUT    : NONE 
0000185C                           526  ; OUTPUT   : NONE
0000185C                           527  ; MODIFIES : NONE
0000185C                           528  ; ------------------------------------------------------------------------------
0000185C                           529  
0000185C  48E7 FC00                530              MOVEM.L D0-D5,-(A7)
00001860                           531  
00001860                           532              ;SET PEN COLOR
00001860  303C 0050                533              MOVE.W  #80,D0
00001864  7200                     534              MOVE.L  #$0000,D1
00001866  4E4F                     535              TRAP    #15
00001868                           536              
00001868                           537              ;SET FILL COLOR
00001868  303C 0051                538              MOVE.W  #81,D0
0000186C  223C 0000FFFF            539              MOVE.L  #PMFCOL,D1
00001872  4E4F                     540              TRAP    #15
00001874                           541              
00001874  0839 0003 000025BD       542              BTST.B  #3,(SCRCYCCT)
0000187C  6700 000C                543              BEQ     .MOUTHOPEN
00001880                           544              
00001880                           545              ;DRAW QUIET
00001880  4EB9 0000191E            546              JSR     .FULLDRAW
00001886  6000 0090                547              BRA     .DDONE
0000188A                           548              
0000188A                           549  .MOUTHOPEN     
0000188A  4EB9 0000191E            550              JSR     .FULLDRAW       
00001890  1A39 000025BA            551              MOVE.B  (KBDVAL),D5
00001896  CA3C 000F                552              AND.B   #$0F,D5
0000189A                           553   
0000189A                           554              ;CHECK KBDVAL
0000189A  BA3C 0000                555              CMP.B   #$0,D5
0000189E  6700 0022                556              BEQ     .NOTMOVE
000018A2  BA3C 0001                557              CMP.B  #$1,D5             ;LEFT
000018A6  6700 0038                558              BEQ     .DLEFT
000018AA  BA3C 0002                559              CMP.B  #$2,D5             ;UP
000018AE  6700 0026                560              BEQ     .DUP
000018B2  BA3C 0004                561              CMP.B  #$4,D5             ;RIGHT
000018B6  6700 0014                562              BEQ     .DRIGHT
000018BA  BA3C 0008                563              CMP.B  #$8,D5             ;DOWN
000018BE  6700 002A                564              BEQ     .DDOWN
000018C2                           565              
000018C2                           566              ;DRAW MOVEMENT
000018C2  4EB9 0000191E            567  .NOTMOVE    JSR     .FULLDRAW
000018C8  6000 004E                568              BRA     .DDONE
000018CC                           569  .DRIGHT
000018CC  4EB9 00001974            570              JSR     .RIGHTDRAW
000018D2  6000 0034                571              BRA     .DRAW_MOUTH3
000018D6                           572  .DUP
000018D6  4EB9 000019A6            573              JSR     .UPDRAW
000018DC  6000 0020                574              BRA     .DRAW_MOUTH2
000018E0                           575  
000018E0                           576  .DLEFT
000018E0  4EB9 00001942            577              JSR     .LEFTDRAW
000018E6  6000 000C                578              BRA     .DRAW_MOUTH1
000018EA                           579  
000018EA                           580  .DDOWN
000018EA  4EB9 000019D8            581              JSR     .DOWNDRAW
000018F0  6000 0020                582              BRA     .DRAW_MOUTH4
000018F4                           583              
000018F4                           584  .DRAW_MOUTH1            
000018F4  4EB9 00001A0A            585              JSR     .SET_MOUTHLEFT
000018FA  6000 001C                586              BRA     .DDONE
000018FE                           587  .DRAW_MOUTH2            
000018FE  4EB9 00001A46            588              JSR     .SET_MOUTHUP
00001904  6000 0012                589              BRA     .DDONE
00001908                           590  .DRAW_MOUTH3            
00001908  4EB9 00001A28            591              JSR     .SET_MOUTHRIGHT
0000190E  6000 0008                592              BRA     .DDONE
00001912                           593  .DRAW_MOUTH4            
00001912  4EB9 00001A64            594              JSR     .SET_MOUTHDOWN
00001918                           595  .DDONE
00001918  4CDF 003F                596              MOVEM.L (A7)+,D0-D5
0000191C                           597              
0000191C  4E75                     598              RTS
0000191E                           599  
0000191E                           600  
0000191E                           601  ;INTERNAL SUBRUTINES FOR PACMAN PLOT-------------------------------------------------------------
0000191E                           602  
0000191E                           603  .FULLDRAW
0000191E                           604              ;SET COORDS
0000191E  3239 0000344C            605              MOVE.W  (PMPOSX),D1
00001924  5141                     606              SUB.W   #PMRAD,D1
00001926  3439 0000344E            607              MOVE.W  (PMPOSY),D2
0000192C  5142                     608              SUB.W   #PMRAD,D2
0000192E                           609              
0000192E  3601                     610              MOVE.W  D1,D3
00001930  0643 0010                611              ADD.W   #PMRAD*2,D3
00001934  3802                     612              MOVE.W  D2,D4
00001936  0644 0010                613              ADD.W   #PMRAD*2,D4
0000193A                           614              
0000193A                           615              ;DRAW PAC-MAN
0000193A  303C 0058                616              MOVE.W  #88,D0
0000193E  4E4F                     617              TRAP    #15
00001940                           618              
00001940  4E75                     619              RTS
00001942                           620  .LEFTDRAW
00001942                           621              
00001942                           622              
00001942  303C 0054                623              MOVE.W  #84,D0
00001946  3239 0000344C            624              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
0000194C  5141                     625              SUB.W   #PMRAD,D1
0000194E  3439 0000344E            626              MOVE.W  (PMPOSY),D2
00001954  5142                     627              SUB.W   #PMRAD,D2
00001956                           628              
00001956  3639 0000344C            629              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
0000195C  3839 0000344E            630              MOVE.W  (PMPOSY),D4
00001962                           631              
00001962  4E4F                     632              TRAP    #15
00001964                           633             
00001964  303C 0055                634              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001968                           635              
00001968  3203                     636              MOVE.W  D3,D1
0000196A  3404                     637              MOVE.W  D4,D2
0000196C  5042                     638              ADD.W   #PMRAD,D2
0000196E  5141                     639              SUB.W   #PMRAD,D1
00001970                           640              
00001970  4E4F                     641              TRAP    #15
00001972                           642              
00001972                           643              
00001972  4E75                     644              RTS
00001974                           645              
00001974                           646  .RIGHTDRAW
00001974                           647              
00001974                           648              
00001974  303C 0054                649              MOVE.W  #84,D0
00001978  3239 0000344C            650              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
0000197E  5041                     651              ADD.W   #PMRAD,D1
00001980  3439 0000344E            652              MOVE.W  (PMPOSY),D2
00001986  5042                     653              ADD.W   #PMRAD,D2
00001988                           654              
00001988  3639 0000344C            655              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
0000198E  3839 0000344E            656              MOVE.W  (PMPOSY),D4
00001994                           657              
00001994  4E4F                     658              TRAP    #15
00001996                           659             
00001996  303C 0055                660              MOVE.W  #85,D0                        ;DRAW SECOND LINE
0000199A                           661              
0000199A  3203                     662              MOVE.W  D3,D1
0000199C  3404                     663              MOVE.W  D4,D2
0000199E  5142                     664              SUB.W   #PMRAD,D2
000019A0  5041                     665              ADD.W   #PMRAD,D1
000019A2                           666              
000019A2  4E4F                     667              TRAP    #15
000019A4                           668              
000019A4                           669              
000019A4  4E75                     670              RTS
000019A6                           671  .UPDRAW
000019A6                           672              
000019A6                           673              
000019A6  303C 0054                674              MOVE.W  #84,D0
000019AA  3239 0000344C            675              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
000019B0  5141                     676              SUB.W   #PMRAD,D1
000019B2  3439 0000344E            677              MOVE.W  (PMPOSY),D2
000019B8  5142                     678              SUB.W   #PMRAD,D2
000019BA                           679              
000019BA  3639 0000344C            680              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
000019C0  3839 0000344E            681              MOVE.W  (PMPOSY),D4
000019C6                           682              
000019C6  4E4F                     683              TRAP    #15
000019C8                           684             
000019C8  303C 0055                685              MOVE.W  #85,D0                        ;DRAW SECOND LINE
000019CC                           686              
000019CC  3203                     687              MOVE.W  D3,D1
000019CE  3404                     688              MOVE.W  D4,D2
000019D0  5142                     689              SUB.W   #PMRAD,D2
000019D2  5041                     690              ADD.W   #PMRAD,D1
000019D4                           691              
000019D4  4E4F                     692              TRAP    #15
000019D6                           693              
000019D6                           694              
000019D6  4E75                     695              RTS
000019D8                           696              
000019D8                           697  .DOWNDRAW
000019D8                           698              
000019D8                           699              
000019D8  303C 0054                700              MOVE.W  #84,D0
000019DC  3239 0000344C            701              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
000019E2  5141                     702              SUB.W   #PMRAD,D1
000019E4  3439 0000344E            703              MOVE.W  (PMPOSY),D2
000019EA  5042                     704              ADD.W   #PMRAD,D2
000019EC                           705              
000019EC  3639 0000344C            706              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
000019F2  3839 0000344E            707              MOVE.W  (PMPOSY),D4
000019F8                           708              
000019F8  4E4F                     709              TRAP    #15
000019FA                           710             
000019FA  303C 0055                711              MOVE.W  #85,D0                        ;DRAW SECOND LINE
000019FE                           712              
000019FE  3203                     713              MOVE.W  D3,D1
00001A00  3404                     714              MOVE.W  D4,D2
00001A02  5042                     715              ADD.W   #PMRAD,D2
00001A04  5041                     716              ADD.W   #PMRAD,D1
00001A06                           717              
00001A06  4E4F                     718              TRAP    #15
00001A08                           719              
00001A08                           720              
00001A08  4E75                     721              RTS
00001A0A                           722  
00001A0A                           723              
00001A0A                           724  .SET_MOUTHLEFT
00001A0A                           725              
00001A0A  303C 0051                726              MOVE.W  #81,D0                         ;SET BLACK
00001A0E  7200                     727              MOVE.L  #$0000,D1
00001A10  4E4F                     728              TRAP    #15
00001A12                           729              
00001A12  303C 0059                730              MOVE.W  #89,D0                         ;FILL
00001A16  3239 0000344C            731              MOVE.W  (PMPOSX),D1
00001A1C  5541                     732              SUBQ.W   #2,D1
00001A1E  3439 0000344E            733              MOVE.W  (PMPOSY),D2
00001A24  4E4F                     734              TRAP    #15
00001A26                           735  
00001A26  4E75                     736              RTS
00001A28                           737              
00001A28                           738  .SET_MOUTHRIGHT
00001A28                           739              
00001A28  303C 0051                740              MOVE.W  #81,D0                         ;SET BLACK
00001A2C  7200                     741              MOVE.L  #$0000,D1
00001A2E  4E4F                     742              TRAP    #15
00001A30                           743              
00001A30  303C 0059                744              MOVE.W  #89,D0                         ;FILL
00001A34  3239 0000344C            745              MOVE.W  (PMPOSX),D1
00001A3A  5441                     746              ADDQ.W   #2,D1
00001A3C  3439 0000344E            747              MOVE.W  (PMPOSY),D2
00001A42  4E4F                     748              TRAP    #15
00001A44                           749  
00001A44  4E75                     750              RTS
00001A46                           751  
00001A46                           752  .SET_MOUTHUP
00001A46                           753              
00001A46  303C 0051                754              MOVE.W  #81,D0                         ;SET BLACK
00001A4A  7200                     755              MOVE.L  #$0000,D1
00001A4C  4E4F                     756              TRAP    #15
00001A4E                           757              
00001A4E  303C 0059                758              MOVE.W  #89,D0                         ;FILL
00001A52  3239 0000344C            759              MOVE.W  (PMPOSX),D1
00001A58  3439 0000344E            760              MOVE.W  (PMPOSY),D2
00001A5E  5542                     761              SUBQ.W   #2,D2
00001A60  4E4F                     762              TRAP    #15
00001A62                           763  
00001A62  4E75                     764              RTS
00001A64                           765  
00001A64                           766  .SET_MOUTHDOWN
00001A64                           767              
00001A64  303C 0051                768              MOVE.W  #81,D0                         ;SET BLACK
00001A68  7200                     769              MOVE.L  #$0000,D1
00001A6A  4E4F                     770              TRAP    #15
00001A6C                           771              
00001A6C  303C 0059                772              MOVE.W  #89,D0                         ;FILL
00001A70  3239 0000344C            773              MOVE.W  (PMPOSX),D1
00001A76  3439 0000344E            774              MOVE.W  (PMPOSY),D2
00001A7C  5442                     775              ADDQ.W   #2,D2
00001A7E  4E4F                     776              TRAP    #15
00001A80                           777  
00001A80  4E75                     778              RTS
00001A82                           779  
00001A82                           780  
00001A82                           781  
00001A82                           782  
00001A82                           783  
00001A82                           784  
00001A82                           785  
00001A82                           786  
00001A82                           787  
00001A82                           788  
00001A82                           789  
00001A82                           790  
00001A82                           791  
00001A82                           792  
00001A82                           793  
00001A82                           794  
00001A82                           795  
00001A82                           796  
00001A82                           797  
00001A82                           798  
00001A82                           799  
00001A82                           800  
00001A82                           801  
00001A82                           802  
00001A82                           803  
00001A82                           804  
00001A82                           805  
00001A82                           806  -------------------- end include --------------------
00001A82                           807              INCLUDE "SCORE.X68"
00001A82                           808  ; ==============================================================================
00001A82                           809  ; SCOREBOARD MANAGEMENT
00001A82                           810  ; ==============================================================================
00001A82                           811              
00001A82                           812  ; ------------------------------------------------------------------------------
00001A82                           813  SCOINIT
00001A82                           814  ; INITIALIZE SCOREBOARD
00001A82                           815  ; INPUT    : NONE 
00001A82                           816  ; OUTPUT   : NONE
00001A82                           817  ; MODIFIES : NONE
00001A82                           818  ; ------------------------------------------------------------------------------
00001A82  4279 00003466            819              CLR.W   (SCOPOINTS)
00001A88  33FC 0003 00003464       820              MOVE.W  #3,(SCOLIFE)
00001A90  4E75                     821              RTS
00001A92                           822              
00001A92                           823  ; ------------------------------------------------------------------------------
00001A92                           824  SCOPLOT
00001A92                           825  ; PLOT THE SCOREBOARD
00001A92                           826  ; INPUT    : NONE 
00001A92                           827  ; OUTPUT   : NONE
00001A92                           828  ; MODIFIES : NONE
00001A92                           829  ; ------------------------------------------------------------------------------
00001A92                           830              
00001A92  48E7 C040                831               MOVEM.L D0-D1/A1,-(A7)
00001A96                           832  
00001A96                           833              ; SET BACKGROUND COLOR
00001A96  103C 0051                834              MOVE.B  #81,D0
00001A9A  7200                     835              MOVE.L  #SCOFCOL,D1
00001A9C  4E4F                     836              TRAP    #15
00001A9E                           837              
00001A9E                           838              ; SET FIRST LINE POSITION
00001A9E  103C 000B                839              MOVE.B  #11,D0
00001AA2  323C 0101                840              MOVE.W  #SCOLINE1,D1
00001AA6  4E4F                     841              TRAP    #15
00001AA8                           842  
00001AA8                           843              ; PRINT FIRST LINE
00001AA8  43F9 00001AE0            844              LEA     .TXT1,A1            ;PUT FIRST STRING IN A1
00001AAE  4281                     845              CLR.L   D1
00001AB0  3239 00003466            846              MOVE.W  (SCOPOINTS),D1
00001AB6  103C 0011                847              MOVE.B  #17,D0
00001ABA  4E4F                     848              TRAP    #15
00001ABC                           849  
00001ABC                           850              ; SET SECOND LINE POSITION
00001ABC  103C 000B                851              MOVE.B  #11,D0
00001AC0  323C 0102                852              MOVE.W  #SCOLINE2,D1       
00001AC4  4E4F                     853              TRAP    #15
00001AC6                           854  
00001AC6                           855              ; PRINT SECOND LINE
00001AC6  43F9 00001AE9            856              LEA     .TXT2,A1
00001ACC  4281                     857              CLR.L   D1
00001ACE  3239 00003464            858              MOVE.W  (SCOLIFE),D1
00001AD4  103C 0011                859              MOVE.B  #17,D0
00001AD8  4E4F                     860              TRAP    #15
00001ADA                           861              
00001ADA  4CDF 0203                862              MOVEM.L (A7)+,D0-D1/A1
00001ADE                           863              
00001ADE  4E75                     864              RTS
00001AE0                           865  
00001AE0= 50 4F 49 4E 54 53 ...    866  .TXT1       DC.B    'POINTS :',0      ;0 IS END OF STRING
00001AE9= 4C 49 46 45 53 20 ...    867  .TXT2       DC.B    'LIFES  :',0
00001AF2                           868  
00001AF2                           869  
00001AF2  4E75                     870              RTS
00001AF4                           871  
00001AF4                           872  
00001AF4                           873  -------------------- end include --------------------
00001AF4                           874              INCLUDE "SYSCONST.X68"
00001AF4                           875  ; ==============================================================================
00001AF4                           876  ; SYSTEM CONSTANTS
00001AF4                           877  ; ==============================================================================
00001AF4                           878  
00001AF4                           879  ; --- SCREEN RELATED CONSTANTS -------------------------------------------------
00001AF4                           880  
00001AF4  =00000280                881  SCRWIDTH    EQU     640                     ; SCREEN WIDTH
00001AF4  =00000280                882  SCRHEIGH    EQU     640                     ; SCREEN HEIGHT
00001AF4                           883  
00001AF4                           884  ;--- TITLE RELATED CONSTANTS ---------------------------------------------------
00001AF4= 74 69 74 6C 65 2E ...    885  FILENAME    DC.B    'title.txt',0
00001AFE  =00000A8C                886  FILESIZE    EQU     2700
00001AFE                           887              DS.B    0                       
00001AFE                           888  ;---KEYCODES--------------------------------------------------------------------
00001AFE                           889  
00001AFE  =00000025                890  KBDLEFT     EQU     $25
00001AFE  =00000026                891  KBDUP       EQU     $26
00001AFE  =00000027                892  KBDRIGHT    EQU     $27
00001AFE  =00000028                893  KBDDOWN     EQU     $28
00001AFE  =00000020                894  KBDFIRE1    EQU     ' '
00001AFE  =0000004D                895  KBDFIRE2    EQU     'M'                         
00001AFE  =00000010                896  KBDFIRE3    EQU     $10
00001AFE  =00000050                897  KBDPAUSE    EQU     'P'
00001AFE                           898  
00001AFE                           899  
00001AFE                           900  
00001AFE                           901  
00001AFE                           902  
00001AFE                           903  
00001AFE                           904  
00001AFE                           905  
00001AFE                           906  
00001AFE                           907  
00001AFE                           908  -------------------- end include --------------------
00001AFE                           909              INCLUDE "SYSTEM.X68"
00001AFE                           910  ; ==============================================================================
00001AFE                           911  ; SYSTEM
00001AFE                           912  ; ==============================================================================
00001AFE                           913              
00001AFE                           914  ; ------------------------------------------------------------------------------
00001AFE                           915  SYSINIT
00001AFE                           916  ; INITIALIZE SYSTEM.
00001AFE                           917  ; INPUT    : NONE
00001AFE                           918  ; OUTPUT   : NONE
00001AFE                           919  ; MODIFIES : NONE
00001AFE                           920  ; ------------------------------------------------------------------------------
00001AFE                           921              
00001AFE  21FC 00001B6E 0080       922              MOVE.L  #SCRUPD,($80+0*4)          ;INSTALL SUBRUTINE TO TRAP #0
00001B06  21FC 00001BA4 0084       923              MOVE.L  #KBDUPD,($80+1*4)          ;INSTALL SUBRUTINE TO TRAP #1
00001B0E                           924              
00001B0E                           925              
00001B0E  21FC 00001B88 0064       926              MOVE.L  #SCRTIM,($60+1*4)          ;INSTALL INTERRUPT #1
00001B16                           927              
00001B16  4EB9 00001B2A            928              JSR     SCRINIT
00001B1C  4EB9 00001B96            929              JSR     KBDINIT
00001B22                           930              
00001B22                           931              
00001B22  40E7                     932              MOVE.W  SR,-(A7)
00001B24  0257 D8FF                933              ANDI.W  #$D8FF,(A7)                ;BIT SUPERVISOR TO O AND INTERRPUT MASK 000 (FOR REACTIVATE INTERRUPTIONS)             
00001B28  4E73                     934              RTE
00001B2A                           935     
00001B2A                           936  ; ------------------------------------------------------------------------------
00001B2A                           937  SCRINIT
00001B2A                           938  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN, ENABLE BUFFER
00001B2A                           939  ; ENABLE TIMED INTERRUPTION
00001B2A                           940  ; INPUT    : NONE
00001B2A                           941  ; OUTPUT   : NONE
00001B2A                           942  ; MODIFIES : NONE
00001B2A                           943  ; ------------------------------------------------------------------------------
00001B2A                           944  
00001B2A  48E7 C000                945              MOVEM.L D0-D1,-(A7)                 ;SAFE REGISTERS IN STACK
00001B2E                           946  
00001B2E                           947              ; SET SCREEN RESOLUTION
00001B2E  103C 0021                948              MOVE.B  #33,D0
00001B32  223C 02800280            949              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
00001B38  4E4F                     950              TRAP    #15
00001B3A                           951              
00001B3A                           952              ; SET WINDOWED MODE
00001B3A  7201                     953              MOVE.L  #1,D1
00001B3C  4E4F                     954              TRAP    #15
00001B3E                           955              
00001B3E                           956              ; ENABLE DOUBLE BUFFER
00001B3E  103C 005C                957              MOVE.B  #92,D0
00001B42  123C 0011                958              MOVE.B  #17,D1
00001B46  4E4F                     959              TRAP    #15
00001B48                           960              
00001B48                           961              ; CLEAR SCREEN
00001B48  103C 000B                962              MOVE.B  #11,D0
00001B4C  323C FF00                963              MOVE.W  #$FF00,D1
00001B50  4E4F                     964              TRAP    #15
00001B52                           965              
00001B52                           966              ;ENABLE TIMED INTERRPUT
00001B52  303C 0020                967              MOVE.W  #32,D0
00001B56  123C 0006                968              MOVE.B  #6,D1
00001B5A  143C 0081                969              MOVE.B  #$81,D2                   ;INDICATE THAT INTERRUPT 1 IS ACTIVATED PERIODICALLY
00001B5E  7614                     970              MOVE.L  #20,D3                    ;INDICATE THE MILISECONDS FOR THAT PERIOD (20 ms == 50 FPS)
00001B60  4E4F                     971              TRAP    #15
00001B62                           972              
00001B62                           973              ;CLEAR INTERRUPT COUNTER
00001B62  4239 000025BC            974              CLR.B   (SCRINTCT)
00001B68                           975              
00001B68  4CDF 0003                976              MOVEM.L (A7)+,D0-D1               ;RESTORE REGISTERS FROM STACK
00001B6C                           977              
00001B6C  4E75                     978              RTS
00001B6E                           979  
00001B6E                           980  
00001B6E                           981              
00001B6E                           982  ;------------------------------------------------------------------------------            
00001B6E                           983  SCRUPD
00001B6E                           984  ; UPDATES DOUBLE BUFFER
00001B6E                           985  ; INPUT    : NONE
00001B6E                           986  ; OUTPUT   : NONE
00001B6E                           987  ; MODIFIES : NONE
00001B6E                           988  ; ------------------------------------------------------------------------------
00001B6E                           989  
00001B6E  48E7 C000                990              MOVEM.L D0-D1,-(A7)
00001B72                           991              
00001B72                           992              ;SWITCH BUFFERS
00001B72  103C 005E                993              MOVE.B #94,D0
00001B76  4E4F                     994              TRAP #15
00001B78                           995              
00001B78                           996              ;CLEAR HIDDEN BUFFER
00001B78  103C 000B                997              MOVE.B  #11,D0
00001B7C  323C FF00                998              MOVE.W  #$FF00,D1
00001B80  4E4F                     999              TRAP    #15
00001B82                          1000              
00001B82  4CDF 0003               1001              MOVEM.L (A7)+,D0-D1
00001B86                          1002              
00001B86  4E73                    1003              RTE
00001B88                          1004              
00001B88                          1005  ; ------------------------------------------------------------------------------
00001B88                          1006  SCRTIM
00001B88                          1007  ; TIMED INTERRUPT SERVICE ROUTINE
00001B88                          1008  ; INPUT    : NONE
00001B88                          1009  ; OUTPUT   : NONE
00001B88                          1010  ; MODIFIES : NONE
00001B88                          1011  ; ------------------------------------------------------------------------------
00001B88  5239 000025BC           1012              ADDQ.B  #1,(SCRINTCT)
00001B8E  5239 000025BD           1013              ADDQ.B  #1,(SCRCYCCT)
00001B94  4E73                    1014              RTE
00001B96                          1015              
00001B96                          1016  ;------------------------------------------------------------------------------            
00001B96                          1017  KBDINIT
00001B96                          1018  ; INIT THE KEYBOARD
00001B96                          1019  ; INPUT    : NONE
00001B96                          1020  ; OUTPUT   : NONE
00001B96                          1021  ; MODIFIES : NONE
00001B96                          1022  ; ------------------------------------------------------------------------------
00001B96                          1023  
00001B96  4239 000025BA           1024              CLR.B   (KBDVAL)
00001B9C  4239 000025BB           1025              CLR.B   (KBDEDGE)
00001BA2                          1026  
00001BA2  4E75                    1027              RTS
00001BA4                          1028  
00001BA4                          1029  ;------------------------------------------------------------------------------            
00001BA4                          1030  KBDUPD
00001BA4                          1031  ; UPDATES KEYBOARD INFO
00001BA4                          1032  ; 3 -> DOWN     (HEX: 8)
00001BA4                          1033  ; 2 -> RIGHT    (HEX: 4)
00001BA4                          1034  ; 1 -> UP       (HEX: 2)
00001BA4                          1035  ; 0 -> LEFT     (HEX: 1)
00001BA4                          1036  ; ------------------------------------------------------------------------------
00001BA4                          1037              
00001BA4  48E7 F800               1038              MOVEM.L D0-D4,-(A7)
00001BA8                          1039              
00001BA8                          1040              ; READ FIRST PART
00001BA8  103C 0013               1041              MOVE.B  #19,D0
00001BAC  223C 50104D20           1042              MOVE.L  #KBDPAUSE<<24|KBDFIRE3<<16|KBDFIRE2<<8|KBDFIRE1,D1
00001BB2  4E4F                    1043              TRAP    #15
00001BB4                          1044  
00001BB4                          1045              ; CONVERT TO DESIRED FORMAT
00001BB4  4EB9 00001BEC           1046              JSR     .CONVERT
00001BBA                          1047  
00001BBA                          1048              ; READ SECOND PART
00001BBA  223C 28272625           1049              MOVE.L  #KBDDOWN<<24|KBDRIGHT<<16|KBDUP<<8|KBDLEFT,D1
00001BC0  4E4F                    1050              TRAP    #15
00001BC2                          1051              
00001BC2                          1052              ;CONVERT TO DESIRED FORMAT
00001BC2  4EB9 00001BEC           1053              JSR .CONVERT
00001BC8                          1054  
00001BC8                          1055              ;GET KBDEDGE (IF SOME KEY HAVE CHANGED THE VALUE)
00001BC8  1039 000025BA           1056              MOVE.B  (KBDVAL),D0             ;D0 -> LAST KBDVAL
00001BCE  4600                    1057              NOT.B   D0                      ;D2 -> ACTUAL KBDVAL
00001BD0  C002                    1058              AND.B   D2,D0
00001BD2  13C0 000025BB           1059              MOVE.B  D0,(KBDEDGE)
00001BD8                          1060              
00001BD8                          1061         
00001BD8  B03C 0000               1062              CMP.B   #0,D0
00001BDC  6700 0008               1063              BEQ     .NOACT          
00001BE0                          1064              
00001BE0                          1065              ;STORE NEW KBDVAL
00001BE0  13C2 000025BA           1066              MOVE.B  D2,(KBDVAL)
00001BE6                          1067  .NOACT
00001BE6                          1068              
00001BE6  4CDF 001F               1069              MOVEM.L (A7)+,D0-D4
00001BEA                          1070              
00001BEA  4E73                    1071              RTE    
00001BEC                          1072              
00001BEC                          1073  .CONVERT 
00001BEC  363C 0003               1074              MOVE.W  #3,D3
00001BF0                          1075              
00001BF0  E189                    1076  .LOOP       LSL.L   #8,D1
00001BF2  E312                    1077              ROXL.B  #1,D2
00001BF4  51CB FFFA               1078              DBRA.W  D3,.LOOP
00001BF8  4E75                    1079              RTS
00001BFA                          1080             
00001BFA                          1081  
00001BFA                          1082  ;------------------------------------------------------------------------------            
00001BFA                          1083  COLWALLRIGHT
00001BFA                          1084  ; COLLISION PAC-MAN WITH WALL
00001BFA                          1085  ; INPUT    : NONE
00001BFA                          1086  ; OUTPUT   : NONE
00001BFA                          1087  ; MODIFIES : NONE
00001BFA                          1088  ; ------------------------------------------------------------------------------
00001BFA                          1089  
00001BFA  48E7 F800               1090              MOVEM.L D0-D4,-(A7)
00001BFE                          1091  
00001BFE  3039 0000344C           1092              MOVE.W  (PMPOSX),D0
00001C04  5140                    1093              SUB.W   #8,D0
00001C06  3239 0000344E           1094              MOVE.W  (PMPOSY),D1
00001C0C  5041                    1095              ADD.W   #8,D1
00001C0E                          1096              
00001C0E  81FC 0010               1097              DIVS.W  #16,D0
00001C12  83FC 0010               1098              DIVS.W  #16,D1
00001C16                          1099              
00001C16  5940                    1100              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001C18  5941                    1101              SUB.W   #4,D1
00001C1A                          1102              
00001C1A  41F9 000025BE           1103              LEA.L   MAPVAR,A0
00001C20                          1104              
00001C20  5240                    1105              ADD.W   #1,D0
00001C22  5341                    1106              SUB.W   #1,D1
00001C24  C2FC 0020               1107              MULU.W  #32,D1
00001C28  D041                    1108              ADD.W   D1,D0
00001C2A                          1109              
00001C2A  3240                    1110              MOVE.W  D0,A1
00001C2C  13C0 000029BE           1111              MOVE.B  D0,POSCON
00001C32                          1112  
00001C32  1A29 25BE               1113              MOVE.B  MAPVAR(A1),D5
00001C36                          1114              
00001C36  4CDF 001F               1115              MOVEM.L (A7)+,D0-D4
00001C3A                          1116              
00001C3A  4E75                    1117              RTS
00001C3C                          1118  
00001C3C                          1119  
00001C3C                          1120  ;------------------------------------------------------------------------------            
00001C3C                          1121  COLWALLLEFT
00001C3C                          1122  ; COLLISION PAC-MAN WITH WALL
00001C3C                          1123  ; INPUT    : NONE
00001C3C                          1124  ; OUTPUT   : NONE
00001C3C                          1125  ; MODIFIES : NONE
00001C3C                          1126  ; ------------------------------------------------------------------------------
00001C3C                          1127  
00001C3C  48E7 F800               1128              MOVEM.L D0-D4,-(A7)
00001C40                          1129  
00001C40  3039 0000344C           1130              MOVE.W  (PMPOSX),D0
00001C46  5C40                    1131              ADD.W   #6,D0
00001C48  3239 0000344E           1132              MOVE.W  (PMPOSY),D1
00001C4E  5041                    1133              ADD.W   #8,D1
00001C50                          1134              
00001C50  81FC 0010               1135              DIVS.W  #16,D0
00001C54  83FC 0010               1136              DIVS.W  #16,D1
00001C58                          1137              
00001C58  5940                    1138              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001C5A  5941                    1139              SUB.W   #4,D1
00001C5C                          1140              
00001C5C  41F9 000025BE           1141              LEA.L   MAPVAR,A0
00001C62                          1142              
00001C62  5340                    1143              SUB.W   #1,D0
00001C64  5341                    1144              SUB.W   #1,D1
00001C66  C2FC 0020               1145              MULU.W  #32,D1
00001C6A  D041                    1146              ADD.W   D1,D0
00001C6C                          1147  
00001C6C  3240                    1148              MOVE.W  D0,A1
00001C6E  13C0 000029BE           1149              MOVE.B  D0,POSCON
00001C74                          1150  
00001C74  1A29 25BE               1151              MOVE.B  MAPVAR(A1),D5               
00001C78                          1152  
00001C78                          1153              
00001C78  4CDF 001F               1154              MOVEM.L (A7)+,D0-D4
00001C7C                          1155              
00001C7C  4E75                    1156              RTS
00001C7E                          1157  
00001C7E                          1158  ;------------------------------------------------------------------------------            
00001C7E                          1159  COLWALLDOWN
00001C7E                          1160  ; COLLISION PAC-MAN WITH WALL
00001C7E                          1161  ; INPUT    : NONE
00001C7E                          1162  ; OUTPUT   : NONE
00001C7E                          1163  ; MODIFIES : NONE
00001C7E                          1164  ; ------------------------------------------------------------------------------
00001C7E                          1165  
00001C7E  48E7 F800               1166              MOVEM.L D0-D4,-(A7)
00001C82                          1167  
00001C82  3039 0000344C           1168              MOVE.W  (PMPOSX),D0
00001C88                          1169              ;ADD.W   #8,D0
00001C88  3239 0000344E           1170              MOVE.W  (PMPOSY),D1
00001C8E  5041                    1171              ADD.W   #8,D1
00001C90                          1172              
00001C90  81FC 0010               1173              DIVS.W  #16,D0
00001C94  83FC 0010               1174              DIVS.W  #16,D1
00001C98                          1175              
00001C98  5940                    1176              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001C9A  5941                    1177              SUB.W   #4,D1
00001C9C                          1178              
00001C9C  41F9 000025BE           1179              LEA.L   MAPVAR,A0
00001CA2                          1180              
00001CA2  C2FC 0020               1181              MULU.W  #32,D1
00001CA6  D041                    1182              ADD.W   D1,D0
00001CA8                          1183  
00001CA8  3240                    1184              MOVE.W  D0,A1
00001CAA  13C0 000029BE           1185              MOVE.B  D0,POSCON
00001CB0                          1186  
00001CB0  1A29 25BE               1187              MOVE.B  MAPVAR(A1),D5 
00001CB4                          1188  
00001CB4                          1189              
00001CB4  4CDF 001F               1190              MOVEM.L (A7)+,D0-D4
00001CB8                          1191              
00001CB8  4E75                    1192              RTS
00001CBA                          1193  
00001CBA                          1194  
00001CBA                          1195  ;------------------------------------------------------------------------------            
00001CBA                          1196  COLWALLUP
00001CBA                          1197  ; COLLISION PAC-MAN WITH WALL
00001CBA                          1198  ; INPUT    : NONE
00001CBA                          1199  ; OUTPUT   : NONE
00001CBA                          1200  ; MODIFIES : NONE
00001CBA                          1201  ; ------------------------------------------------------------------------------
00001CBA                          1202  
00001CBA  48E7 F800               1203              MOVEM.L D0-D4,-(A7)
00001CBE                          1204  
00001CBE  3039 0000344C           1205              MOVE.W  (PMPOSX),D0
00001CC4                          1206              ;SUB.W   #8,D0
00001CC4  3239 0000344E           1207              MOVE.W  (PMPOSY),D1
00001CCA  5C41                    1208              ADD.W   #6,D1
00001CCC                          1209              
00001CCC                          1210              
00001CCC  81FC 0010               1211              DIVS.W  #16,D0
00001CD0  83FC 0010               1212              DIVS.W  #16,D1
00001CD4                          1213              
00001CD4  5940                    1214              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001CD6  5941                    1215              SUB.W   #4,D1
00001CD8                          1216              
00001CD8  41F9 000025BE           1217              LEA.L   MAPVAR,A0
00001CDE                          1218              
00001CDE  5341                    1219              SUB.W   #1,D1
00001CE0                          1220              ;CMP     #1,D1
00001CE0                          1221              ;BLO     BUCLE4
00001CE0  C2FC 0020               1222              MULU.W  #32,D1
00001CE4  D041                    1223              ADD.W   D1,D0
00001CE6                          1224  
00001CE6                          1225  ;BUCLE4            
00001CE6  3240                    1226              MOVE.W  D0,A1
00001CE8  13C0 000029BE           1227              MOVE.B  D0,POSCON
00001CEE                          1228  
00001CEE  1A29 25BE               1229              MOVE.B  MAPVAR(A1),D5 
00001CF2                          1230  
00001CF2                          1231              ;MOVE.B  #0,D5
00001CF2                          1232              
00001CF2  4CDF 001F               1233              MOVEM.L (A7)+,D0-D4
00001CF6                          1234              
00001CF6  4E75                    1235              RTS
00001CF8                          1236  
00001CF8                          1237  ;------------------------------------------------------------------------------            
00001CF8                          1238  GSTCOLWALLRIGHT
00001CF8                          1239  ; COLLISION PAC-MAN WITH WALL
00001CF8                          1240  ; INPUT    : NONE
00001CF8                          1241  ; OUTPUT   : NONE
00001CF8                          1242  ; MODIFIES : NONE
00001CF8                          1243  ; ------------------------------------------------------------------------------
00001CF8                          1244  
00001CF8  48E7 F800               1245              MOVEM.L D0-D4,-(A7)
00001CFC                          1246  
00001CFC  3039 00003456           1247              MOVE.W  (GSTPOSX),D0
00001D02  5140                    1248              SUB.W   #8,D0
00001D04  3239 00003458           1249              MOVE.W  (GSTPOSY),D1
00001D0A  5041                    1250              ADD.W   #8,D1
00001D0C                          1251              
00001D0C  81FC 0010               1252              DIVS.W  #16,D0
00001D10  83FC 0010               1253              DIVS.W  #16,D1
00001D14                          1254              
00001D14  5940                    1255              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001D16  5941                    1256              SUB.W   #4,D1
00001D18                          1257              
00001D18  41F9 000025BE           1258              LEA.L   MAPVAR,A0
00001D1E                          1259              
00001D1E  5240                    1260              ADD.W   #1,D0
00001D20  5341                    1261              SUB.W   #1,D1
00001D22  C2FC 0020               1262              MULU.W  #32,D1
00001D26  D041                    1263              ADD.W   D1,D0
00001D28                          1264              
00001D28  3240                    1265              MOVE.W  D0,A1
00001D2A                          1266  
00001D2A  1A29 25BE               1267              MOVE.B  MAPVAR(A1),D5
00001D2E                          1268              
00001D2E  4CDF 001F               1269              MOVEM.L (A7)+,D0-D4
00001D32                          1270              
00001D32  4E75                    1271              RTS
00001D34                          1272  
00001D34                          1273  
00001D34                          1274  ;------------------------------------------------------------------------------            
00001D34                          1275  GSTCOLWALLLEFT
00001D34                          1276  ; COLLISION PAC-MAN WITH WALL
00001D34                          1277  ; INPUT    : NONE
00001D34                          1278  ; OUTPUT   : NONE
00001D34                          1279  ; MODIFIES : NONE
00001D34                          1280  ; ------------------------------------------------------------------------------
00001D34                          1281  
00001D34  48E7 F800               1282              MOVEM.L D0-D4,-(A7)
00001D38                          1283  
00001D38  3039 00003456           1284              MOVE.W  (GSTPOSX),D0
00001D3E  5C40                    1285              ADD.W   #6,D0
00001D40  3239 00003458           1286              MOVE.W  (GSTPOSY),D1
00001D46  5041                    1287              ADD.W   #8,D1
00001D48                          1288              
00001D48  81FC 0010               1289              DIVS.W  #16,D0
00001D4C  83FC 0010               1290              DIVS.W  #16,D1
00001D50                          1291              
00001D50  5940                    1292              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001D52  5941                    1293              SUB.W   #4,D1
00001D54                          1294              
00001D54  41F9 000025BE           1295              LEA.L   MAPVAR,A0
00001D5A                          1296              
00001D5A  5340                    1297              SUB.W   #1,D0
00001D5C  5341                    1298              SUB.W   #1,D1
00001D5E  C2FC 0020               1299              MULU.W  #32,D1
00001D62  D041                    1300              ADD.W   D1,D0
00001D64                          1301  
00001D64  3240                    1302              MOVE.W  D0,A1
00001D66  1A29 25BE               1303              MOVE.B  MAPVAR(A1),D5               
00001D6A                          1304  
00001D6A                          1305              
00001D6A  4CDF 001F               1306              MOVEM.L (A7)+,D0-D4
00001D6E                          1307              
00001D6E  4E75                    1308              RTS
00001D70                          1309  
00001D70                          1310  ;------------------------------------------------------------------------------            
00001D70                          1311  GSTCOLWALLDOWN
00001D70                          1312  ; COLLISION PAC-MAN WITH WALL
00001D70                          1313  ; INPUT    : NONE
00001D70                          1314  ; OUTPUT   : NONE
00001D70                          1315  ; MODIFIES : NONE
00001D70                          1316  ; ------------------------------------------------------------------------------
00001D70                          1317  
00001D70  48E7 F800               1318              MOVEM.L D0-D4,-(A7)
00001D74                          1319  
00001D74  3039 00003456           1320              MOVE.W  (GSTPOSX),D0
00001D7A                          1321              ;ADD.W   #8,D0
00001D7A  3239 00003458           1322              MOVE.W  (GSTPOSY),D1
00001D80  5041                    1323              ADD.W   #8,D1
00001D82                          1324              
00001D82  81FC 0010               1325              DIVS.W  #16,D0
00001D86  83FC 0010               1326              DIVS.W  #16,D1
00001D8A                          1327              
00001D8A  5940                    1328              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001D8C  5941                    1329              SUB.W   #4,D1
00001D8E                          1330              
00001D8E  41F9 000025BE           1331              LEA.L   MAPVAR,A0
00001D94                          1332              
00001D94  C2FC 0020               1333              MULU.W  #32,D1
00001D98  D041                    1334              ADD.W   D1,D0
00001D9A                          1335  
00001D9A  3240                    1336              MOVE.W  D0,A1
00001D9C  1A29 25BE               1337              MOVE.B  MAPVAR(A1),D5 
00001DA0                          1338  
00001DA0                          1339              
00001DA0  4CDF 001F               1340              MOVEM.L (A7)+,D0-D4
00001DA4                          1341              
00001DA4  4E75                    1342              RTS
00001DA6                          1343  
00001DA6                          1344  
00001DA6                          1345  ;------------------------------------------------------------------------------            
00001DA6                          1346  GSTCOLWALLUP
00001DA6                          1347  ; COLLISION PAC-MAN WITH WALL
00001DA6                          1348  ; INPUT    : NONE
00001DA6                          1349  ; OUTPUT   : NONE
00001DA6                          1350  ; MODIFIES : NONE
00001DA6                          1351  ; ------------------------------------------------------------------------------
00001DA6                          1352  
00001DA6  48E7 F800               1353              MOVEM.L D0-D4,-(A7)
00001DAA                          1354  
00001DAA  3039 00003456           1355              MOVE.W  (GSTPOSX),D0
00001DB0                          1356              ;SUB.W   #8,D0
00001DB0  3239 00003458           1357              MOVE.W  (GSTPOSY),D1
00001DB6  5C41                    1358              ADD.W   #6,D1
00001DB8                          1359              
00001DB8                          1360              
00001DB8  81FC 0010               1361              DIVS.W  #16,D0
00001DBC  83FC 0010               1362              DIVS.W  #16,D1
00001DC0                          1363              
00001DC0  5940                    1364              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001DC2  5941                    1365              SUB.W   #4,D1
00001DC4                          1366              
00001DC4  41F9 000025BE           1367              LEA.L   MAPVAR,A0
00001DCA                          1368              
00001DCA  5341                    1369              SUB.W   #1,D1
00001DCC                          1370  
00001DCC  C2FC 0020               1371              MULU.W  #32,D1
00001DD0  D041                    1372              ADD.W   D1,D0
00001DD2                          1373  
00001DD2  3240                    1374              MOVE.W  D0,A1
00001DD4                          1375  
00001DD4  1A29 25BE               1376              MOVE.B  MAPVAR(A1),D5 
00001DD8                          1377  
00001DD8                          1378              ;MOVE.B  #0,D5
00001DD8                          1379              
00001DD8  4CDF 001F               1380              MOVEM.L (A7)+,D0-D4
00001DDC                          1381              
00001DDC  4E75                    1382              RTS
00001DDE                          1383  ;------------------------------------------------------------------------------            
00001DDE                          1384  GETPOINTS
00001DDE                          1385  ; COLLISION PAC-MAN WITH WALL
00001DDE                          1386  ; INPUT    : NONE
00001DDE                          1387  ; OUTPUT   : NONE
00001DDE                          1388  ; MODIFIES : NONE
00001DDE                          1389  ; ------------------------------------------------------------------------------
00001DDE                          1390  
00001DDE  48E7 F800               1391              MOVEM.L D0-D4,-(A7)
00001DE2                          1392  
00001DE2  3039 0000344C           1393              MOVE.W  (PMPOSX),D0
00001DE8                          1394              ;SUB.W   #8,D0
00001DE8  3239 0000344E           1395              MOVE.W  (PMPOSY),D1
00001DEE  0641 0010               1396              ADD.W   #16,D1
00001DF2                          1397              
00001DF2                          1398              
00001DF2  81FC 0010               1399              DIVS.W  #16,D0
00001DF6  83FC 0010               1400              DIVS.W  #16,D1
00001DFA                          1401              
00001DFA  5940                    1402              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001DFC  5941                    1403              SUB.W   #4,D1
00001DFE                          1404                          
00001DFE  5341                    1405              SUB.W   #1,D1
00001E00  C2FC 0020               1406              MULU.W  #32,D1
00001E04  D041                    1407              ADD.W   D1,D0
00001E06                          1408  
00001E06  3240                    1409              MOVE.W  D0,A1
00001E08  1A29 25BE               1410              MOVE.B  MAPVAR(A1),D5
00001E0C                          1411              
00001E0C  BA7C 0000               1412              CMP     #0,D5
00001E10  6700 003A               1413              BEQ     .DONE
00001E14  BA7C 0002               1414              CMP     #2,D5
00001E18  6700 0020               1415              BEQ     .POINT
00001E1C  BA7C 0003               1416              CMP     #3,D5
00001E20  6700 0006               1417              BEQ     .BPOINT
00001E24  6600 0026               1418              BNE     .DONE
00001E28                          1419  .BPOINT
00001E28  137C 0000 25BE          1420              MOVE.B  #0,MAPVAR(A1)
00001E2E  0679 0032 00003466      1421              ADD.W   #50,(SCOPOINTS)
00001E36  6600 0014               1422              BNE     .DONE
00001E3A                          1423  .POINT
00001E3A  137C 0000 25BE          1424              MOVE.B  #0,MAPVAR(A1)
00001E40  0679 000A 00003466      1425              ADD.W   #10,(SCOPOINTS)
00001E48  6600 0002               1426              BNE     .DONE            
00001E4C                          1427  .DONE                        
00001E4C  4CDF 001F               1428              MOVEM.L (A7)+,D0-D4
00001E50                          1429              
00001E50  4E75                    1430              RTS
00001E52                          1431  
00001E52                          1432  
00001E52                          1433  
00001E52                          1434  
00001E52                          1435  
00001E52                          1436  
00001E52                          1437  -------------------- end include --------------------
00001E52                          1438              INCLUDE "MAP.X68"
00001E52                          1439  
00001E52                          1440  ; ------------------------------------------------------------------------------
00001E52                          1441  MAPINIT
00001E52                          1442  ; INIT MAP
00001E52                          1443  ; INPUT    : NONE
00001E52                          1444  ; OUTPUT   : NONE
00001E52                          1445  ; MODIFIES : NONE
00001E52                          1446  ; ------------------------------------------------------------------------------            
00001E52                          1447              
00001E52                          1448              ;MOVE.L  #DIBFIGWALL,($80+2*4)          ;INSTALL SUBRUTINE TO TRAP #2
00001E52                          1449              ;MOVE.L  #DIBFIGPOINT,($80+3*4)          ;INSTALL SUBRUTINE TO TRAP #3
00001E52                          1450              ;MOVE.L  #DIBFIGBPOINT,($80+4*4)          ;INSTALL SUBRUTINE TO TRAP #4
00001E52                          1451              
00001E52  48E7 FE00               1452              MOVEM.L D0-D6,-(A7)
00001E56  48E7 00C0               1453              MOVEM.L A0-A1,-(A7)
00001E5A                          1454              
00001E5A  41F8 1008               1455              LEA.L   MAPMAT,A0
00001E5E  43F9 000025BE           1456              LEA.L   MAPVAR,A1
00001E64  3C3C 0030               1457              MOVE.W  #48,D6
00001E68  343C 001F               1458              MOVE.W  #31,D2
00001E6C                          1459  BUCLE_FILA
00001E6C  3A3C 0030               1460              MOVE.W  #48,D5
00001E70  323C 001F               1461              MOVE.W  #31,D1
00001E74  0646 0010               1462              ADD.W   #16,D6
00001E78                          1463  
00001E78                          1464  BUCLE_COLUMNA
00001E78  0645 0010               1465              ADD.W   #16,D5
00001E7C                          1466  
00001E7C  1018                    1467              MOVE.B  (A0)+,D0
00001E7E  12C0                    1468              MOVE.B  D0,(A1)+
00001E80                          1469               
00001E80  B07C 0000               1470              CMP     #0,D0
00001E84  6700 0034               1471              BEQ     ZERO
00001E88  B07C 0004               1472              CMP     #4,D0
00001E8C  6700 002C               1473              BEQ     ZERO
00001E90  B07C 0001               1474              CMP     #1,D0
00001E94  6600 0008               1475              BNE     NOTWALL
00001E98  4EB9 00001F40           1476              JSR     DIBFIGWALL
00001E9E                          1477  NOTWALL
00001E9E  B07C 0002               1478              CMP     #2,D0
00001EA2  6600 0008               1479              BNE     NOTPOINT
00001EA6  4EB9 00001F78           1480              JSR     DIBFIGPOINT
00001EAC                          1481  NOTPOINT
00001EAC  B07C 0003               1482              CMP     #3,D0
00001EB0  6600 0008               1483              BNE     ZERO
00001EB4  4EB9 00001FB4           1484              JSR     DIBFIGBPOINT
00001EBA                          1485           
00001EBA                          1486  ZERO
00001EBA  51C9 FFBC               1487              DBRA    D1,BUCLE_COLUMNA  
00001EBE  51CA FFAC               1488              DBRA    D2,BUCLE_FILA
00001EC2                          1489              
00001EC2  4CDF 0300               1490              MOVEM.L (A7)+,A0-A1
00001EC6  4CDF 007F               1491              MOVEM.L (A7)+,D0-D6
00001ECA                          1492  
00001ECA                          1493  
00001ECA                          1494              
00001ECA  4E75                    1495              RTS            
00001ECC                          1496  
00001ECC                          1497  ; ------------------------------------------------------------------------------
00001ECC                          1498  MAPPLOT
00001ECC                          1499  ; INIT MAP
00001ECC                          1500  ; INPUT    : NONE
00001ECC                          1501  ; OUTPUT   : NONE
00001ECC                          1502  ; MODIFIES : NONE
00001ECC                          1503  ; ------------------------------------------------------------------------------            
00001ECC                          1504  
00001ECC  48E7 FE00               1505              MOVEM.L D0-D6,-(A7)
00001ED0  48E7 0080               1506              MOVEM.L A0,-(A7)
00001ED4                          1507  
00001ED4  41F9 000025BE           1508              LEA.L   MAPVAR,A0
00001EDA  3C3C 0030               1509              MOVE.W  #48,D6
00001EDE  343C 001F               1510              MOVE.W  #31,D2
00001EE2                          1511  BUCLE_FILA2
00001EE2  3A3C 0030               1512              MOVE.W  #48,D5
00001EE6  323C 001F               1513              MOVE.W  #31,D1
00001EEA  0646 0010               1514              ADD.W   #16,D6
00001EEE                          1515  
00001EEE                          1516  BUCLE_COLUMNA2
00001EEE  0645 0010               1517              ADD.W   #16,D5       
00001EF2                          1518  
00001EF2  1018                    1519              MOVE.B  (A0)+,D0
00001EF4                          1520  
00001EF4  B07C 0000               1521              CMP     #0,D0
00001EF8  6700 0034               1522              BEQ     ZERO2
00001EFC  B07C 0004               1523              CMP     #4,D0
00001F00  6700 002C               1524              BEQ     ZERO2
00001F04  B07C 0001               1525              CMP     #1,D0
00001F08  6600 0008               1526              BNE     NOTWALL2
00001F0C  4EB9 00001F40           1527              JSR     DIBFIGWALL
00001F12                          1528  NOTWALL2
00001F12  B07C 0002               1529              CMP     #2,D0
00001F16  6600 0008               1530              BNE     NOTPOINT2
00001F1A  4EB9 00001F78           1531              JSR     DIBFIGPOINT
00001F20                          1532  NOTPOINT2
00001F20  B07C 0003               1533              CMP     #3,D0
00001F24  6600 0008               1534              BNE     ZERO2
00001F28  4EB9 00001FB4           1535              JSR     DIBFIGBPOINT
00001F2E                          1536  
00001F2E                          1537     
00001F2E                          1538  ZERO2
00001F2E  51C9 FFBE               1539              DBRA    D1,BUCLE_COLUMNA2
00001F32                          1540              
00001F32  51CA FFAE               1541              DBRA    D2,BUCLE_FILA2
00001F36                          1542              
00001F36  4CDF 0100               1543              MOVEM.L (A7)+,A0
00001F3A  4CDF 007F               1544              MOVEM.L (A7)+,D0-D6
00001F3E                          1545              
00001F3E                          1546              
00001F3E  4E75                    1547              RTS 
00001F40                          1548              
00001F40                          1549  ; -----------------------------------------------------------------------------
00001F40                          1550  DIBFIGWALL
00001F40                          1551  ; SUBRUTINE DRAW MAP
00001F40                          1552  ; INPUT    : D5=POSITION X, D6=POSITION Y
00001F40                          1553  ; OUTPUT   : NONE
00001F40                          1554  ; MODIFIES : NONE
00001F40                          1555  ; -----------------------------------------------------------------------------
00001F40  48E7 FE00               1556              MOVEM.L D0-D6,-(A7)
00001F44                          1557              ; SET CONTOURN COLOR
00001F44  103C 0050               1558              MOVE.B  #80,D0
00001F48  223C 00AA0000           1559              MOVE.L  #$00AA0000,D1
00001F4E  4E4F                    1560              TRAP    #15
00001F50                          1561              
00001F50                          1562              ; SET FILL COLOR
00001F50  103C 0051               1563              MOVE.B  #81,D0
00001F54  223C 00FF0000           1564              MOVE.L  #$00FF0000,D1
00001F5A  4E4F                    1565              TRAP    #15
00001F5C                          1566              
00001F5C                          1567              ; DEFINE COORDINATES RECTANGLE
00001F5C  3205                    1568              MOVE.W  D5,D1
00001F5E  3406                    1569              MOVE.W  D6,D2
00001F60  0645 0010               1570              ADD.W   #16,D5
00001F64  0646 0010               1571              ADD.W   #16,D6
00001F68  3605                    1572              MOVE.W  D5,D3
00001F6A  3806                    1573              MOVE.W  D6,D4
00001F6C                          1574              
00001F6C                          1575              ; DRAW RECTANGLE
00001F6C  103C 0057               1576              MOVE.B  #87,D0
00001F70  4E4F                    1577              TRAP    #15
00001F72                          1578              
00001F72  4CDF 007F               1579              MOVEM.L (A7)+,D0-D6
00001F76                          1580  
00001F76  4E75                    1581              RTS
00001F78                          1582              
00001F78                          1583  ; -----------------------------------------------------------------------------
00001F78                          1584  DIBFIGPOINT
00001F78                          1585  ; SUBRUTINE DRAW MAP
00001F78                          1586  ; INPUT    : D5=POSITION X, D6=POSITION Y
00001F78                          1587  ; OUTPUT   : NONE
00001F78                          1588  ; MODIFIES : NONE
00001F78                          1589  ; -----------------------------------------------------------------------------
00001F78  48E7 FE00               1590              MOVEM.L D0-D6,-(A7)
00001F7C                          1591              ; SET CONTOURN COLOR
00001F7C  103C 0050               1592              MOVE.B  #80,D0
00001F80  223C 0000AAAA           1593              MOVE.L  #$0000AAAA,D1
00001F86  4E4F                    1594              TRAP    #15
00001F88                          1595              
00001F88                          1596              ; SET FILL COLOR
00001F88  103C 0051               1597              MOVE.B  #81,D0
00001F8C  223C 0000FFFF           1598              MOVE.L  #$0000FFFF,D1
00001F92  4E4F                    1599              TRAP    #15
00001F94                          1600              
00001F94                          1601              ; DEFINE COORDINATES RECTANGLE
00001F94  3205                    1602              MOVE.W  D5,D1
00001F96  5041                    1603              ADD.W   #8,D1
00001F98  5541                    1604              SUB.W   #2,D1
00001F9A  3406                    1605              MOVE.W  D6,D2
00001F9C  5042                    1606              ADD.W   #8,D2
00001F9E  5542                    1607              SUB.W   #2,D2
00001FA0                          1608              
00001FA0  3601                    1609              MOVE.W  D1,D3
00001FA2  5843                    1610              ADD.W   #2*2,D3
00001FA4  3802                    1611              MOVE.W  D2,D4
00001FA6  5844                    1612              ADD.W   #2*2,D4
00001FA8                          1613              
00001FA8                          1614              ; DRAW POINT
00001FA8  103C 0058               1615              MOVE.B  #88,D0
00001FAC  4E4F                    1616              TRAP    #15
00001FAE                          1617              
00001FAE  4CDF 007F               1618              MOVEM.L (A7)+,D0-D6
00001FB2                          1619              
00001FB2  4E75                    1620              RTS
00001FB4                          1621  
00001FB4                          1622  
00001FB4                          1623  ; -----------------------------------------------------------------------------
00001FB4                          1624  DIBFIGBPOINT
00001FB4                          1625  ; SUBRUTINE DRAW MAP
00001FB4                          1626  ; INPUT    : D5=POSITION X, D6=POSITION Y
00001FB4                          1627  ; OUTPUT   : NONE
00001FB4                          1628  ; MODIFIES : NONE
00001FB4                          1629  ; -----------------------------------------------------------------------------
00001FB4  48E7 FE00               1630              MOVEM.L D0-D6,-(A7)
00001FB8                          1631              ; SET CONTOURN COLOR
00001FB8  103C 0050               1632              MOVE.B  #80,D0
00001FBC  223C 0000AAAA           1633              MOVE.L  #$0000AAAA,D1
00001FC2  4E4F                    1634              TRAP    #15
00001FC4                          1635              
00001FC4                          1636              ; SET FILL COLOR
00001FC4  103C 0051               1637              MOVE.B  #81,D0
00001FC8  223C 0000FFFF           1638              MOVE.L  #$0000FFFF,D1
00001FCE  4E4F                    1639              TRAP    #15
00001FD0                          1640              
00001FD0                          1641              ; DEFINE COORDINATES RECTANGLE
00001FD0  3205                    1642              MOVE.W  D5,D1
00001FD2  5041                    1643              ADD.W   #8,D1
00001FD4  5941                    1644              SUB.W   #4,D1
00001FD6  3406                    1645              MOVE.W  D6,D2
00001FD8  5042                    1646              ADD.W   #8,D2
00001FDA  5942                    1647              SUB.W   #4,D2
00001FDC                          1648              
00001FDC  3601                    1649              MOVE.W  D1,D3
00001FDE  5043                    1650              ADD.W   #4*2,D3
00001FE0  3802                    1651              MOVE.W  D2,D4
00001FE2  5044                    1652              ADD.W   #4*2,D4
00001FE4                          1653              
00001FE4                          1654              ; DRAW BIG POINT
00001FE4  103C 0058               1655              MOVE.B  #88,D0
00001FE8  4E4F                    1656              TRAP    #15
00001FEA                          1657              
00001FEA  4CDF 007F               1658              MOVEM.L (A7)+,D0-D6
00001FEE                          1659              
00001FEE  4E75                    1660              RTS
00001FF0                          1661  
00001FF0                          1662  
00001FF0                          1663  
00001FF0                          1664  
00001FF0                          1665  
00001FF0                          1666  
00001FF0                          1667  
00001FF0                          1668  
00001FF0                          1669  
00001FF0                          1670  
00001FF0                          1671  
00001FF0                          1672  
00001FF0                          1673  -------------------- end include --------------------
00001FF0                          1674              INCLUDE "LIB/UTLCONST.X68"
00001FF0                          1675  ; ==============================================================================
00001FF0                          1676  ; UTIL CONSTANTS
00001FF0                          1677  ; ==============================================================================
00001FF0                          1678  
00001FF0  =00000008               1679  UTLCHRWD    EQU     8                       ; CHARACTER WIDTH IN PIXELS
00001FF0                          1680  
00001FF0                          1681  -------------------- end include --------------------
00001FF0                          1682              INCLUDE "LIB/UTLCODE.X68"
00001FF0                          1683  ; =============================================================================
00001FF0                          1684  ; UTILITY CODE
00001FF0                          1685  ; =============================================================================
00001FF0                          1686  
00001FF0                          1687  ; -----------------------------------------------------------------------------
00001FF0                          1688  UTLINIT
00001FF0                          1689  ; INITIALIZES UTILITY CODE
00001FF0                          1690  ; INPUT    - NONE
00001FF0                          1691  ; OUTPUT   - NONE
00001FF0                          1692  ; MODIFIES - NONE
00001FF0                          1693  ; -----------------------------------------------------------------------------
00001FF0  48E7 C000               1694              MOVEM.L D0-D1,-(A7)
00001FF4  103C 0008               1695              MOVE.B  #8,D0
00001FF8  4E4F                    1696              TRAP    #15
00001FFA  13C1 0000346E           1697              MOVE.B  D1,(UTLRNDIX)
00002000  4CDF 0003               1698              MOVEM.L (A7)+,D0-D1
00002004  4E75                    1699              RTS
00002006                          1700  
00002006                          1701  ; -----------------------------------------------------------------------------
00002006                          1702  UTLPRINT
00002006                          1703  ; PRINT SCREEN CENTERED TEXT
00002006                          1704  ; INPUT    : A0 POINTER TO ZERO-TERMINATED STRING
00002006                          1705  ;            D0.B SCREEN ROW TO PRINT TEXT
00002006                          1706  ; OUTPUT   : D0.B NEXT ROW
00002006                          1707  ; MODIFIES : NONE (ASIDE OF OUTPUT)
00002006                          1708  ; -----------------------------------------------------------------------------
00002006  48E7 C0C0               1709              MOVEM.L D0-D1/A0-A1,-(A7)
0000200A  4201                    1710              CLR.B   D1
0000200C  2248                    1711              MOVE.L  A0,A1
0000200E  4A18                    1712  .LOOP       TST.B   (A0)+
00002010  6700 0006               1713              BEQ     .ENDLOOP
00002014  5201                    1714              ADDQ.B  #1,D1
00002016  60F6                    1715              BRA     .LOOP
00002018  E209                    1716  .ENDLOOP    LSR.B   #1,D1
0000201A  0401 0028               1717              SUB.B   #(SCRWIDTH/UTLCHRWD)/2,D1
0000201E  4401                    1718              NEG.B   D1
00002020  E141                    1719              ASL.W   #8,D1
00002022  8240                    1720              OR.W    D0,D1
00002024  103C 000B               1721              MOVE.B  #11,D0
00002028  4E4F                    1722              TRAP    #15
0000202A  103C 000D               1723              MOVE.B  #13,D0
0000202E  4E4F                    1724              TRAP    #15
00002030  4CDF 0303               1725              MOVEM.L (A7)+,D0-D1/A0-A1
00002034  5200                    1726              ADDQ.B  #1,D0
00002036  4E75                    1727              RTS
00002038                          1728              
00002038                          1729              
00002038                          1730  
00002038                          1731  
00002038                          1732              ; (SCRWIDTH/UTLCHRWD)/2 - D1/2
00002038                          1733  
00002038                          1734  
00002038                          1735  ; -----------------------------------------------------------------------------
00002038                          1736  UTLRAND
00002038                          1737  ; PROVIDES A PSEUDO-RANDOM BYTE
00002038                          1738  ; INPUT    - NONE
00002038                          1739  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
00002038                          1740  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00002038                          1741  ; -----------------------------------------------------------------------------
00002038  2F08                    1742              MOVE.L  A0,-(A7)
0000203A  41F9 00002056           1743              LEA     .RANDVEC,A0
00002040  4280                    1744              CLR.L   D0
00002042  1039 0000346E           1745              MOVE.B  (UTLRNDIX),D0
00002048  1030 0800               1746              MOVE.B  (A0,D0.L),D0
0000204C  5239 0000346E           1747              ADDQ.B  #1,(UTLRNDIX)
00002052  205F                    1748              MOVE.L  (A7)+,A0
00002054  4E75                    1749              RTS
00002056                          1750  
00002056                          1751  
00002056= A2 EE 9A 0C F5 24 ...   1752  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
0000205E= 2A A3 51 26 E0 AC ...   1753              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
00002066= 75 51 CA FD 33 EB ...   1754              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
0000206E= 60 CC E7 B8 9A EB ...   1755              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
00002076= 1D 76 B5 95 B0 89 ...   1756              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
0000207E= 39 15 48 C9 6E CA ...   1757              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
00002086= 43 E7 E2 7C 37 25 ...   1758              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
0000208E= E9 94 CE E9 E4 52 ...   1759              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
00002096= 37 6D 9A 84 A2 28 ...   1760              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
0000209E= 19 E2 C6 77 80 D4 ...   1761              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
000020A6= 0A 5A 32 67 33 C2 ...   1762              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
000020AE= 59 80 DC 0E 57 FC ...   1763              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
000020B6= 8A AB BC F7 07 4D ...   1764              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
000020BE= EF D5 77 6E 1E BB ...   1765              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
000020C6= D6 E0 2A 8F BD 28 ...   1766              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
000020CE= 13 4F 66 EC 0A 64 ...   1767              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
000020D6= 56 52 9A 16 9B 90 ...   1768              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
000020DE= 06 8A A4 F7 01 DA ...   1769              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
000020E6= F2 E7 77 28 B1 76 ...   1770              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
000020EE= A4 42 E3 81 B1 67 ...   1771              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
000020F6= BF CE FA 16 BF 38 ...   1772              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
000020FE= D1 8B 50 0C 5F 49 ...   1773              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
00002106= DE 4C 14 A2 40 DC ...   1774              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
0000210E= B6 9B 0A 38 5D AB ...   1775              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
00002116= E2 1B DD 75 15 82 ...   1776              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
0000211E= 8A 26 51 30 9F 47 ...   1777              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
00002126= 1E 8A BB 71 C6 6E ...   1778              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
0000212E= 9F 47 E5 34 94 27 ...   1779              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
00002136= 7D 06 D6 BA 30 0F ...   1780              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
0000213E= EC 7F 7E 03 CF 2D ...   1781              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
00002146= 94 5B 23 F2 8B CD ...   1782              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
0000214E= 74 33 EC B9 0F D5 ...   1783              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
00002156                          1784  
00002156                          1785  
00002156                          1786  
00002156                          1787  
00002156                          1788  -------------------- end include --------------------
00002156                          1789              INCLUDE "INTRO.X68"
00002156                          1790  ; ==============================================================================
00002156                          1791  ; INTRO SCREEN
00002156                          1792  ; ==============================================================================
00002156                          1793  
00002156                          1794  ; ------------------------------------------------------------------------------
00002156                          1795  ISCINIT
00002156                          1796  ; INTRO SCREEN INIT
00002156                          1797  ; INPUT    : NONE
00002156                          1798  ; OUTPUT   : NONE
00002156                          1799  ; MODIFIES : NONE
00002156                          1800  ; ------------------------------------------------------------------------------
00002156  4279 00003468           1801              CLR.W   (ISCTIMER)
0000215C  4EB9 000021D6           1802              JSR     OPENFILE
00002162  4E75                    1803              RTS
00002164                          1804  
00002164                          1805  ; ------------------------------------------------------------------------------
00002164                          1806  ISCUPD
00002164                          1807  ; INTRO SCREEN UPDATE
00002164                          1808  ; INPUT    : NONE
00002164                          1809  ; OUTPUT   : NONE
00002164                          1810  ; MODIFIES : NONE
00002164                          1811  ; ------------------------------------------------------------------------------
00002164  0839 0004 000025BA      1812              BTST.B  #4,(KBDVAL)
0000216C  6700 000A               1813              BEQ     .CONT
00002170  33FC 0001 0000346C      1814              MOVE.W  #1,(STANEXT)
00002178                          1815  .CONT       ;ADDQ.W  #1,(ISCTIMER)
00002178                          1816  ;            CMP.W   #500,(ISCTIMER)
00002178                          1817  ;            BLT     .DONE
00002178                          1818  ;            MOVE.W  #1,(STANEXT)
00002178  4E75                    1819  .DONE       RTS
0000217A                          1820  
0000217A                          1821  ; ------------------------------------------------------------------------------
0000217A                          1822  ISCPLOT
0000217A                          1823  ; INTRO SCREEN PLOT
0000217A                          1824  ; INPUT    : NONE
0000217A                          1825  ; OUTPUT   : NONE
0000217A                          1826  ; MODIFIES : NONE
0000217A                          1827  ; ------------------------------------------------------------------------------
0000217A  48E7 C080               1828              MOVEM.L D0-D1/A0,-(A7)
0000217E                          1829              
0000217E  4281                    1830              CLR.L   D1
00002180  103C 0051               1831              MOVE.B  #81,D0
00002184  4E4F                    1832              TRAP    #15
00002186                          1833              
00002186  4EB9 00002208           1834              JSR     IMGPLOT
0000218C                          1835              
0000218C  0839 0004 000025BD      1836              BTST.B  #4,(SCRCYCCT)
00002194  6700 0010               1837              BEQ     .DONE
00002198                          1838              
00002198  41F9 000021BA           1839              LEA     .TXT2,A0
0000219E  103C 0019               1840              MOVE.B  #25,D0
000021A2  4EB8 2006               1841              JSR     UTLPRINT
000021A6                          1842              
000021A6  4CDF 0103               1843  .DONE       MOVEM.L (A7)+,D0-D1/A0
000021AA                          1844  
000021AA  4E75                    1845              RTS
000021AC= 50 41 43 2D 4D 41 ...   1846  .TXT1       DC.B    'PAC-MAN 68000',0
000021BA= 50 52 45 53 53 20 ...   1847  .TXT2       DC.B    'PRESS SPACE BUTTON TO START',0
000021D6                          1848              DS.W    0
000021D6                          1849              
000021D6                          1850  ;------------------------------------------------------------------------
000021D6                          1851              
000021D6                          1852  OPENFILE                 
000021D6                          1853              ;OPEN FILE
000021D6  43F8 1AF4               1854              LEA     FILENAME,A1
000021DA  303C 0033               1855              MOVE    #51,D0
000021DE  4E4F                    1856              TRAP    #15
000021E0                          1857              
000021E0                          1858              ;READ FILE
000021E0  243C 00000A8C           1859              MOVE.L  #FILESIZE,D2
000021E6  43F9 000029C0           1860              LEA     BUFFER,A1
000021EC  303C 0035               1861              MOVE    #53,D0
000021F0  4E4F                    1862              TRAP    #15
000021F2                          1863              
000021F2  263C 00000A8C           1864              MOVE.L  #FILESIZE,D3
000021F8                          1865              
000021F8                          1866  .convert_loop 
000021F8  4A03                    1867              TST.B   D3
000021FA  6700 000A               1868              BEQ     .END
000021FE  0419 0030               1869              SUB.B   #$30,(A1)+
00002202  5303                    1870              SUB.B   #1,D3
00002204  60F2                    1871              BRA     .convert_loop           
00002206                          1872  .END        
00002206                          1873  
00002206                          1874           
00002206                          1875            
00002206                          1876              
00002206  4E75                    1877              RTS
00002208                          1878  ; ------------------------------------------------------------------------------
00002208                          1879  IMGPLOT
00002208                          1880  ; TITLE IMAGE PLOT
00002208                          1881  ; INPUT    : NONE
00002208                          1882  ; OUTPUT   : NONE
00002208                          1883  ; MODIFIES : NONE
00002208                          1884  ; ------------------------------------------------------------------------------
00002208  48E7 FE00               1885              MOVEM.L D0-D6,-(A7)
0000220C  48E7 00C0               1886              MOVEM.L A0-A1,-(A7)
00002210                          1887              
00002210                          1888              ;PLOT
00002210                          1889   
00002210  41F9 000029C0           1890              LEA.L   BUFFER,A0
00002216  3C3C 00DC               1891              MOVE.W  #220,D6
0000221A  343C 001C               1892              MOVE.W  #28,D2
0000221E                          1893  BUCLE_FILA3
0000221E  3A3C 0064               1894              MOVE.W  #100,D5
00002222  323C 0065               1895              MOVE.W  #101,D1
00002226  5846                    1896              ADD.W   #4,D6
00002228                          1897  
00002228                          1898  BUCLE_COLUMNA3
00002228  5845                    1899              ADD.W   #4,D5
0000222A                          1900  
0000222A  1018                    1901              MOVE.B  (A0)+,D0
0000222C                          1902               
0000222C  B07C 0001               1903              CMP     #1,D0
00002230  6700 000C               1904              BEQ     ZERO3
00002234  B07C 0000               1905              CMP     #0,D0
00002238  4EB9 00002250           1906              JSR     DRAW
0000223E                          1907  ZERO3
0000223E  51C9 FFE8               1908              DBRA    D1,BUCLE_COLUMNA3
00002242  51CA FFDA               1909              DBRA    D2,BUCLE_FILA3
00002246                          1910              
00002246  4CDF 0300               1911              MOVEM.L (A7)+,A0-A1
0000224A  4CDF 007F               1912              MOVEM.L (A7)+,D0-D6
0000224E                          1913          
0000224E                          1914  
0000224E  4E75                    1915              RTS
00002250                          1916  
00002250                          1917  
00002250                          1918  ; -----------------------------------------------------------------------------
00002250                          1919  DRAW
00002250                          1920  ; SUBRUTINE DRAW 
00002250                          1921  ; INPUT    : D5=POSITION X, D6=POSITION Y
00002250                          1922  ; OUTPUT   : NONE
00002250                          1923  ; MODIFIES : NONE
00002250                          1924  ; -----------------------------------------------------------------------------
00002250  48E7 FE00               1925              MOVEM.L D0-D6,-(A7)
00002254                          1926              ; SET CONTOURN COLOR
00002254  103C 0050               1927              MOVE.B  #80,D0
00002258  223C 00AA0000           1928              MOVE.L  #$00AA0000,D1
0000225E  4E4F                    1929              TRAP    #15
00002260                          1930              
00002260                          1931              ; SET FILL COLOR
00002260  103C 0051               1932              MOVE.B  #81,D0
00002264  223C 00FF0000           1933              MOVE.L  #$00FF0000,D1
0000226A  4E4F                    1934              TRAP    #15
0000226C                          1935              
0000226C                          1936              ; DEFINE COORDINATES RECTANGLE
0000226C  3205                    1937              MOVE.W  D5,D1
0000226E  3406                    1938              MOVE.W  D6,D2
00002270  5845                    1939              ADD.W   #4,D5
00002272  5846                    1940              ADD.W   #4,D6
00002274  3605                    1941              MOVE.W  D5,D3
00002276  3806                    1942              MOVE.W  D6,D4
00002278                          1943              
00002278                          1944              ; DRAW RECTANGLE
00002278  103C 0057               1945              MOVE.B  #87,D0
0000227C  4E4F                    1946              TRAP    #15
0000227E                          1947              
0000227E  4CDF 007F               1948              MOVEM.L (A7)+,D0-D6
00002282                          1949  
00002282  4E75                    1950              RTS
00002284                          1951  
00002284                          1952  
00002284                          1953  
00002284                          1954  
00002284                          1955  
00002284                          1956  
00002284                          1957  -------------------- end include --------------------
00002284                          1958              INCLUDE "INSTRUCTIONS.X68"
00002284                          1959  ; ==============================================================================
00002284                          1960  ; INSTRUCTIONS SCREEN
00002284                          1961  ; ==============================================================================
00002284                          1962  
00002284                          1963  ; ------------------------------------------------------------------------------
00002284                          1964  INSINIT
00002284                          1965  ; INSTRUCTIONS SCREEN INIT
00002284                          1966  ; INPUT    : NONE
00002284                          1967  ; OUTPUT   : NONE
00002284                          1968  ; MODIFIES : NONE
00002284                          1969  ; ------------------------------------------------------------------------------
00002284  4E75                    1970              RTS
00002286                          1971  
00002286                          1972  ; ------------------------------------------------------------------------------
00002286                          1973  INSUPD
00002286                          1974  ; INSTRUCTIONS SCREEN UPDATE
00002286                          1975  ; INPUT    : NONE
00002286                          1976  ; OUTPUT   : NONE
00002286                          1977  ; MODIFIES : NONE
00002286                          1978  ; ------------------------------------------------------------------------------
00002286  4E75                    1979              RTS
00002288                          1980  
00002288                          1981  ; ------------------------------------------------------------------------------
00002288                          1982  INSPLOT
00002288                          1983  ; INSTRUCTIONS SCREEN PLOT
00002288                          1984  ; INPUT    : NONE
00002288                          1985  ; OUTPUT   : NONE
00002288                          1986  ; MODIFIES : NONE
00002288                          1987  ; ------------------------------------------------------------------------------
00002288                          1988  
00002288  48E7 C0C0               1989              MOVEM.L D0-D1/A0-A1,-(A7)
0000228C  4281                    1990              CLR.L   D1
0000228E  103C 0051               1991              MOVE.B  #81,D0
00002292  4E4F                    1992              TRAP    #15
00002294  103C 000B               1993              MOVE.B  #11,D0
00002298  43F9 000023FA           1994              LEA     .TXTLST,A1
0000229E  2219                    1995  .LOOP       MOVE.L  (A1)+,D1
000022A0  6700 000A               1996              BEQ     .DONE
000022A4  2041                    1997              MOVE.L  D1,A0
000022A6  4EB8 2006               1998              JSR     UTLPRINT
000022AA  60F2                    1999              BRA     .LOOP
000022AC  4CDF 0303               2000  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1
000022B0  4E75                    2001              RTS
000022B2= 57 45 4C 43 4F 4D ...   2002  .TXT1       DC.B    'WELCOME TO THE WORLD OF MULTI-PONG 68000!',0
000022DC= 59 4F 55 52 20 47 ...   2003  .TXT2       DC.B    'YOUR GOAL IN THIS GAME IS TO AVOID MISSING THE BALLS',0
00002311= 54 4F 20 54 48 49 ...   2004  .TXT3       DC.B    'TO THIS END, MOVE THE PAD USING THE KEYBOARD',0
0000233E= 48 4F 57 20 54 4F ...   2005  .TXT4       DC.B    'HOW TO DO IT? YOU MAY ASK.',0
00002359= 49 54 20 49 53 20 ...   2006  .TXT5       DC.B    'IT IS EASY: JUST USE THE UP KEY TO MOVE THE PAD...',0
0000238C= 55 50 21 00             2007  .TXT6       DC.B    'UP!',0
00002390= 41 4E 44 20 55 53 ...   2008  .TXT7       DC.B    'AND USE THE DOWN KEY TO MOVE THE PAD DOWN.',0
000023BB= 57 48 41 54 20 41 ...   2009  .TXT8       DC.B    'WHAT ABOUT LEFT AND RIGHT?',0
000023D6= 4E 4F 2E 20 54 48 ...   2010  .TXT9       DC.B    'NO. THESE ARE FORBIDDEN DIRECTIONS',0
000023FA                          2011              DS.W    0
000023FA= 000022B2 000022DC ...   2012  .TXTLST     DC.L    .TXT1,.TXT2,.TXT3,.TXT4,.TXT5,.TXT6,.TXT7,.TXT8,.TXT9,0
00002422                          2013  
00002422                          2014  
00002422                          2015  -------------------- end include --------------------
00002422                          2016              INCLUDE "WIN.X68"
00002422                          2017  ; ==============================================================================
00002422                          2018  ; VICTORY SCREEN
00002422                          2019  ; ==============================================================================
00002422                          2020  
00002422                          2021  ; ------------------------------------------------------------------------------
00002422                          2022  WININIT
00002422                          2023  ; VICTORY SCREEN INIT
00002422                          2024  ; INPUT    : NONE
00002422                          2025  ; OUTPUT   : NONE
00002422                          2026  ; MODIFIES : NONE
00002422                          2027  ; ------------------------------------------------------------------------------
00002422  4E75                    2028              RTS
00002424                          2029  
00002424                          2030  ; ------------------------------------------------------------------------------
00002424                          2031  WINUPD
00002424                          2032  ; VICTORY SCREEN UPDATE
00002424                          2033  ; INPUT    : NONE
00002424                          2034  ; OUTPUT   : NONE
00002424                          2035  ; MODIFIES : NONE
00002424                          2036  ; ------------------------------------------------------------------------------
00002424  4E75                    2037              RTS
00002426                          2038  
00002426                          2039  ; ------------------------------------------------------------------------------
00002426                          2040  WINPLOT
00002426                          2041  ; VICTORY SCREEN PLOT
00002426                          2042  ; INPUT    : NONE
00002426                          2043  ; OUTPUT   : NONE
00002426                          2044  ; MODIFIES : NONE
00002426                          2045  ; ------------------------------------------------------------------------------
00002426  48E7 C080               2046              MOVEM.L D0-D1/A0,-(A7)
0000242A                          2047              
0000242A  4281                    2048              CLR.L   D1
0000242C  103C 0051               2049              MOVE.B  #81,D0
00002430  4E4F                    2050              TRAP    #15
00002432                          2051              
00002432  41F9 00002460           2052              LEA     .TXT1,A0
00002438  103C 000A               2053              MOVE.B  #10,D0
0000243C  4EB8 2006               2054              JSR     UTLPRINT
00002440                          2055              
00002440  0839 0004 000025BD      2056              BTST.B  #4,(SCRCYCCT)
00002448  6700 0010               2057              BEQ     .DONE
0000244C                          2058              
0000244C  41F9 00002469           2059              LEA     .TXT2,A0
00002452  103C 0019               2060              MOVE.B  #25,D0
00002456  4EB8 2006               2061              JSR     UTLPRINT
0000245A                          2062              
0000245A  4CDF 0103               2063  .DONE       MOVEM.L (A7)+,D0-D1/A0
0000245E                          2064  
0000245E  4E75                    2065              RTS
00002460= 59 4F 55 20 57 4F ...   2066  .TXT1       DC.B    'YOU WON!',0
00002469= 50 52 45 53 53 20 ...   2067  .TXT2       DC.B    'PRESS FIRE1 TO CONTINUE',0
00002482                          2068              DS.W    0
00002482                          2069  
00002482                          2070  
00002482                          2071  
00002482                          2072  -------------------- end include --------------------
00002482                          2073              INCLUDE "GOVER.X68"
00002482                          2074  ; ==============================================================================
00002482                          2075  ; GAME OVER SCREEN
00002482                          2076  ; ==============================================================================
00002482                          2077  
00002482                          2078  ; ------------------------------------------------------------------------------
00002482                          2079  GOVINIT
00002482                          2080  ; GAME OVER SCREEN INIT
00002482                          2081  ; INPUT    : NONE
00002482                          2082  ; OUTPUT   : NONE
00002482                          2083  ; MODIFIES : NONE
00002482                          2084  ; ------------------------------------------------------------------------------
00002482  4E75                    2085              RTS
00002484                          2086  
00002484                          2087  ; ------------------------------------------------------------------------------
00002484                          2088  GOVUPD
00002484                          2089  ; GAME OVER SCREEN UPDATE
00002484                          2090  ; INPUT    : NONE
00002484                          2091  ; OUTPUT   : NONE
00002484                          2092  ; MODIFIES : NONE
00002484                          2093  ; ------------------------------------------------------------------------------
00002484  4E75                    2094              RTS
00002486                          2095  
00002486                          2096  ; ------------------------------------------------------------------------------
00002486                          2097  GOVPLOT
00002486                          2098  ; GAME OVER SCREEN PLOT
00002486                          2099  ; INPUT    : NONE
00002486                          2100  ; OUTPUT   : NONE
00002486                          2101  ; MODIFIES : NONE
00002486                          2102  ; ------------------------------------------------------------------------------
00002486  48E7 C080               2103              MOVEM.L D0-D1/A0,-(A7)
0000248A                          2104              
0000248A  4281                    2105              CLR.L   D1
0000248C  103C 0051               2106              MOVE.B  #81,D0
00002490  4E4F                    2107              TRAP    #15
00002492                          2108              
00002492  41F9 000024C0           2109              LEA     .TXT1,A0
00002498  103C 000A               2110              MOVE.B  #10,D0
0000249C  4EB8 2006               2111              JSR     UTLPRINT
000024A0                          2112              
000024A0  0839 0004 000025BD      2113              BTST.B  #4,(SCRCYCCT)
000024A8  6700 0010               2114              BEQ     .DONE
000024AC                          2115              
000024AC  41F9 000024CA           2116              LEA     .TXT2,A0
000024B2  103C 0019               2117              MOVE.B  #25,D0
000024B6  4EB8 2006               2118              JSR     UTLPRINT
000024BA                          2119              
000024BA  4CDF 0103               2120  .DONE       MOVEM.L (A7)+,D0-D1/A0
000024BE                          2121  
000024BE  4E75                    2122              RTS
000024C0= 47 41 4D 45 20 4F ...   2123  .TXT1       DC.B    'GAME OVER',0
000024CA= 50 52 45 53 53 20 ...   2124  .TXT2       DC.B    'PRESS FIRE1 TO CONTINUE',0
000024E2                          2125              DS.W    0
000024E2                          2126  
000024E2                          2127  
000024E2                          2128  -------------------- end include --------------------
000024E2                          2129              INCLUDE "STATES.X68"
000024E2                          2130  ; =============================================================================
000024E2                          2131  ; GAME STATE MANAGEMENT
000024E2                          2132  ; =============================================================================
000024E2                          2133  
000024E2                          2134  ; -----------------------------------------------------------------------------
000024E2                          2135  STAINIT
000024E2                          2136  ; INITALIZES THE STATE MANAGER
000024E2                          2137  ; INPUT    - NONE
000024E2                          2138  ; OUTPUT   - NONE
000024E2                          2139  ; MODIFIES - NONE
000024E2                          2140  ; -----------------------------------------------------------------------------
000024E2  33FC FFFF 0000346A      2141              MOVE.W  #STANONE,(STACUR)
000024EA  4279 0000346C           2142              CLR.W   (STANEXT)
000024F0  4E75                    2143              RTS
000024F2                          2144  
000024F2                          2145  ; -----------------------------------------------------------------------------
000024F2                          2146  STAUPD
000024F2                          2147  ; PERFORMS STATE UPDATE AND INIT IF NECESSARY
000024F2                          2148  ; INPUT    - NONE
000024F2                          2149  ; OUTPUT   - NONE
000024F2                          2150  ; MODIFIES - NONE
000024F2                          2151  ; -----------------------------------------------------------------------------
000024F2  48E7 8080               2152              MOVEM.L D0/A0,-(A7)
000024F6  4280                    2153              CLR.L   D0
000024F8  3039 0000346C           2154              MOVE.W  (STANEXT),D0
000024FE  B079 0000346A           2155              CMP.W   (STACUR),D0
00002504  6700 0012               2156              BEQ     .DOUPD
00002508  33C0 0000346A           2157              MOVE.W  D0,(STACUR)             ; IF STATE CHANGED, DO INIT
0000250E  E588                    2158              LSL.L   #2,D0
00002510  2040                    2159              MOVE.L  D0,A0
00002512  2068 2530               2160              MOVE.L  .INITBL(A0),A0
00002516  4E90                    2161              JSR     (A0)
00002518  4280                    2162  .DOUPD      CLR.L   D0                      ; IN ANY CASE, DO UPDATE
0000251A  3039 0000346A           2163              MOVE.W  (STACUR),D0
00002520  E588                    2164              LSL.L   #2,D0
00002522  2040                    2165              MOVE.L  D0,A0
00002524  2068 2538               2166              MOVE.L  .UPDTBL(A0),A0
00002528  4E90                    2167              JSR     (A0)
0000252A  4CDF 0101               2168              MOVEM.L (A7)+,D0/A0
0000252E  4E75                    2169              RTS
00002530= 00002156                2170  .INITBL     DC.L    ISCINIT
00002534= 00002566                2171              DC.L    GAMINIT
00002538= 00002164                2172  .UPDTBL     DC.L    ISCUPD
0000253C= 00002576                2173              DC.L    GAMUPD
00002540                          2174  
00002540                          2175  ; -----------------------------------------------------------------------------
00002540                          2176  STAPLOT
00002540                          2177  ; PERFORMS STATE PLOT
00002540                          2178  ; INPUT    - NONE
00002540                          2179  ; OUTPUT   - NONE
00002540                          2180  ; MODIFIES - NONE
00002540                          2181  ; -----------------------------------------------------------------------------
00002540  48E7 8080               2182              MOVEM.L D0/A0,-(A7)
00002544  4280                    2183              CLR.L   D0
00002546  3039 0000346A           2184              MOVE.W  (STACUR),D0
0000254C  E588                    2185              LSL.L   #2,D0
0000254E  2040                    2186              MOVE.L  D0,A0
00002550  2068 255C               2187              MOVE.L  .PLTTBL(A0),A0
00002554  4E90                    2188              JSR     (A0)
00002556  4CDF 0101               2189              MOVEM.L (A7)+,D0/A0
0000255A  4E75                    2190              RTS
0000255C= 0000217A                2191  .PLTTBL     DC.L    ISCPLOT
00002560= 0000257E                2192              DC.L    GAMPLOT
00002564                          2193  
00002564                          2194  ; -----------------------------------------------------------------------------
00002564                          2195  STAEMPTY
00002564                          2196  ; EMPTY SUBROUTINE FOR CASES WITH NOTHING TO DO
00002564                          2197  ; INPUT    - NONE
00002564                          2198  ; OUTPUT   - NONE
00002564                          2199  ; MODIFIES - NONE
00002564                          2200  ; NOTE     - JUST A PLACEHOLDER. NOTHING TO DO.
00002564                          2201  ; -----------------------------------------------------------------------------
00002564  4E75                    2202              RTS
00002566                          2203  
00002566                          2204  
00002566                          2205  
00002566                          2206  
00002566                          2207  
00002566                          2208  
00002566                          2209  
00002566                          2210  
00002566                          2211  
00002566                          2212  
00002566                          2213  -------------------- end include --------------------
00002566                          2214              INCLUDE "GAME.X68"
00002566                          2215  ; ==============================================================================
00002566                          2216  ; GAME MANAGEMENT
00002566                          2217  ; ==============================================================================
00002566                          2218  
00002566                          2219  ; ------------------------------------------------------------------------------
00002566                          2220  GAMINIT
00002566                          2221  ; INITIALIZES GAME.
00002566                          2222  ; INPUT    : NONE
00002566                          2223  ; OUTPUT   : NONE
00002566                          2224  ; MODIFIES : NONE
00002566                          2225  ; ------------------------------------------------------------------------------
00002566  4EB8 16BC               2226              JSR     PMINIT
0000256A  4EB8 1E52               2227              JSR     MAPINIT
0000256E  4EB8 1408               2228              JSR     GSTINIT
00002572  6000 F50E               2229              BRA     SCOINIT
00002576                          2230  
00002576                          2231  ; ------------------------------------------------------------------------------
00002576                          2232  GAMUPD
00002576                          2233  ; UPDATES THE GAME
00002576                          2234  ; INPUT    : NONE
00002576                          2235  ; OUTPUT   : NONE
00002576                          2236  ; MODIFIES : NONE
00002576                          2237  ; ------------------------------------------------------------------------------
00002576                          2238              
00002576  4EB8 143A               2239              JSR     GSTUPD
0000257A  6000 F174               2240              BRA     PMUPD
0000257E                          2241              
0000257E                          2242  ; ------------------------------------------------------------------------------
0000257E                          2243  GAMPLOT
0000257E                          2244  ; PLOTS THE GAME
0000257E                          2245  ; INPUT    : NONE
0000257E                          2246  ; OUTPUT   : NONE
0000257E                          2247  ; MODIFIES : NONE
0000257E                          2248  ; ------------------------------------------------------------------------------
0000257E  4EB8 1ECC               2249              JSR     MAPPLOT
00002582  4EB8 1A92               2250              JSR     SCOPLOT
00002586  4EB8 185C               2251              JSR     PMPLOT
0000258A  6000 F0C6               2252              BRA     GSTPLOT
0000258E                          2253  
0000258E                          2254  
0000258E                          2255  
0000258E                          2256  -------------------- end include --------------------
0000258E                          2257        
0000258E                          2258              
0000258E                          2259      
0000258E                          2260  START:
0000258E                          2261  
0000258E                          2262  ;--- INITIALIZATION -----------------------------------------------------------
0000258E                          2263  
0000258E  007C 0700               2264              ORI.W   #$0700,SR               ;DISABLE INTERRUPTIONS
00002592                          2265  
00002592  4EB8 1AFE               2266              JSR     SYSINIT
00002596  4EB8 24E2               2267              JSR     STAINIT
0000259A                          2268  
0000259A                          2269  .LOOP
0000259A                          2270  
0000259A                          2271  ; --- UPDATE -------------------------------------------------------------------
0000259A                          2272  
0000259A                          2273  ; READ INPUT DEVICES
0000259A                          2274  
0000259A  4E41                    2275              TRAP    #1
0000259C                          2276  
0000259C                          2277  ; UPDATE GAME LOGIC
0000259C                          2278  
0000259C  4EB8 24F2               2279             JSR     STAUPD
000025A0                          2280  
000025A0                          2281  ; --- SYNC ---------------------------------------------------------------------
000025A0                          2282              ;WHILE THERES NO INTERRUPTS IN THE COUNTER THE PROGRAM WILL BE IN
000025A0                          2283              ;THE BUCLE
000025A0                          2284              
000025A0  4A39 000025BC           2285  .WAITINIT   TST.B   (SCRINTCT)
000025A6  67F8                    2286              BEQ     .WAITINIT
000025A8  4239 000025BC           2287              CLR.B   (SCRINTCT)
000025AE                          2288  
000025AE                          2289  ; --- PLOT ---------------------------------------------------------------------
000025AE                          2290              
000025AE  4EB8 2540               2291              JSR     STAPLOT
000025B2                          2292              
000025B2                          2293              
000025B2  4E40                    2294              TRAP    #0                      ;CHANGE BUFFER
000025B4                          2295  
000025B4  60E4                    2296              BRA     .LOOP
000025B6                          2297  
000025B6  FFFF FFFF               2298              SIMHALT  
000025BA                          2299             
000025BA                          2300              INCLUDE "SYSVARS.X68"
000025BA                          2301  ; ==============================================================================
000025BA                          2302  ; SYSTEM VARIABLES
000025BA                          2303  ; ==============================================================================
000025BA                          2304   
000025BA                          2305  ; --- KEYBOARD RELATED VARIABLES -----------------------------------------------
000025BA                          2306  
000025BA                          2307  KBDVAL      DS.B    1                       ; KEY STATE
000025BB                          2308  KBDEDGE     DS.B    1                       ; KEY EDGE
000025BC                          2309              DS.W    0 
000025BC                          2310  
000025BC                          2311  ; --- TIMED INTERRUPT RELATED VARIABLES ----------------------------------------
000025BC                          2312  
000025BC                          2313  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
000025BD                          2314  SCRCYCCT    DS.B    1                       ; CYCLE COUNTER
000025BE                          2315              DS.W    0        
000025BE                          2316              
000025BE                          2317  ; --- MAP RELATED VARIABLE -----------------------------------------------------
000025BE                          2318  
000025BE                          2319  MAPVAR      DS.B    1024
000029BE                          2320  
000029BE                          2321              DS.B    0
000029BE                          2322  
000029BE                          2323  POSCON      DS.W    1
000029C0                          2324  
000029C0                          2325  ; --- TITLE RELATED VARIABLE -----------------------------------------------------
000029C0                          2326  
000029C0                          2327  BUFFER      DS.B    2700
0000344C                          2328              DS.B    0
0000344C                          2329              
0000344C                          2330  
0000344C                          2331  
0000344C                          2332  
0000344C                          2333  
0000344C                          2334  
0000344C                          2335  
0000344C                          2336  
0000344C                          2337  -------------------- end include --------------------
0000344C                          2338              INCLUDE "VARS.X68"
0000344C                          2339  ; ==============================================================================
0000344C                          2340  ; GAME VARIABLES
0000344C                          2341  ; ==============================================================================
0000344C                          2342  
0000344C                          2343  ; --- PAC-MAN RELATED VARIABLES ------------------------------------------------
0000344C                          2344  
0000344C                          2345  PMPOSX      DS.W    1                       ; PM X COORDINATE
0000344E                          2346  PMPOSY      DS.W    1                       ; PM Y COORDINATE
00003450                          2347  PMVELX      DS.W    1                       ; PM X VELOCITY
00003452                          2348  PMVELY      DS.W    1                       ; PM Y VELOCITY
00003454                          2349  PMEAT       DS.B    1                       ; PM BOOLEAN EAT GST
00003455                          2350  PMLAMO      DS.B    1                       ; PM SAVE LAST MOVEMENT X O Y
00003456                          2351              DS.B    0
00003456                          2352  
00003456                          2353  ; --- GHOST RELATED VARIABLES --------------------------------------------------
00003456                          2354  
00003456                          2355  GSTPOSX     DS.W    1                       ; GST X COORDINATE
00003458                          2356  GSTPOSY     DS.W    1                       ; GST Y COORDINATE
0000345A                          2357  GSTVELX     DS.W    1                       ; GST X VELOCITY
0000345C                          2358  GSTVELY     DS.W    1                       ; GST Y VELOCITY
0000345E                          2359  GSTDEAD     DS.B    1                       ; GST BOOLEAN DEAD
0000345F                          2360  GSTLAMO     DS.B    1                       ; GST LAST MOVEMENT (X OR Y)
00003460                          2361  GSTINRNG    DS.B    1                       ; GST IS IN RANGE
00003461                          2362  GSTTARG     DS.B    1                       ; GST TARGET (0-PACMAN, 1-RANDOM)
00003462                          2363  GSTPOSMV    DS.B    1                       ; GST POSSIBLE MOVEMENTS (R,L,U,D)
00003463                          2364  GSTCHDIR    DS.B    1                       ; GST HAS CHANGED DIR IN LAST FRAME
00003464                          2365              DS.B    0
00003464                          2366  
00003464                          2367  ; --- SCOREBOARD RELATED VARIABLES ---------------------------------------------
00003464                          2368  
00003464                          2369  SCOLIFE     DS.W    1                       ; NUMBER OF LIFES
00003466                          2370  SCOPOINTS   DS.W    1                       ; NUMBER OF POINTS
00003468                          2371  
00003468                          2372  ; --- INTRO STATE RELATED VARIABLES --------------------------------------------
00003468                          2373  
00003468                          2374  ISCTIMER    DS.W    1                       ; INTRO TIMER
0000346A                          2375  
0000346A                          2376  ; --- STATE RELATED VARIABLES --------------------------------------------------
0000346A                          2377  
0000346A                          2378  STACUR      DS.W    1                       ; CURRENT STATE
0000346C                          2379  STANEXT     DS.W    1                       ; NEXT STATE
0000346E                          2380  
0000346E                          2381  
0000346E                          2382  
0000346E                          2383  
0000346E                          2384  
0000346E                          2385  
0000346E                          2386  
0000346E                          2387  
0000346E                          2388  
0000346E                          2389  
0000346E                          2390  -------------------- end include --------------------
0000346E                          2391              INCLUDE "LIB/UTLVARS.X68"
0000346E                          2392  ; =============================================================================
0000346E                          2393  ; UTILITY VARIABLES
0000346E                          2394  ; =============================================================================
0000346E                          2395  
0000346E                          2396  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
00003470                          2397              DS.W    0
00003470                          2398  -------------------- end include --------------------
00003470                          2399              
00003470                          2400              END    START        

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
BUCLE_COLUMNA       1E78
BUCLE_COLUMNA2      1EEE
BUCLE_COLUMNA3      2228
BUCLE_FILA          1E6C
BUCLE_FILA2         1EE2
BUCLE_FILA3         221E
BUFFER              29C0
COLWALLDOWN         1C7E
COLWALLLEFT         1C3C
COLWALLRIGHT        1BFA
COLWALLUP           1CBA
DIBFIGBPOINT        1FB4
DIBFIGPOINT         1F78
DIBFIGWALL          1F40
DRAW                2250
FILENAME            1AF4
FILESIZE            A8C
GAMINIT             2566
GAMPLOT             257E
GAMUPD              2576
GETPOINTS           1DDE
GETPOINTS:BPOINT    1E28
GETPOINTS:DONE      1E4C
GETPOINTS:POINT     1E3A
GOVINIT             2482
GOVPLOT             2486
GOVPLOT:DONE        24BA
GOVPLOT:TXT1        24C0
GOVPLOT:TXT2        24CA
GOVUPD              2484
GSTCHDIR            3463
GSTCOL1             FF
GSTCOL2             FF0080
GSTCOL3             FFFF00
GSTCOL4             80FF
GSTCOL5             800000
GSTCOLWALLDOWN      1D70
GSTCOLWALLLEFT      1D34
GSTCOLWALLRIGHT     1CF8
GSTCOLWALLUP        1DA6
GSTDEAD             345E
GSTDECVEC           1000
GSTFCOL1            FFFFFF
GSTFCOL2            0
GSTFCOL3            0
GSTFCOL4            0
GSTFCOL5            0
GSTINIT             1408
GSTINRNG            3460
GSTINX1             2
GSTINX2             2
GSTINX3             1F
GSTINX4             1F
GSTINY1             2
GSTINY2             1F
GSTINY3             2
GSTINY4             1F
GSTLAMO             345F
GSTPLOT             1652
GSTPOSMV            3462
GSTPOSX             3456
GSTPOSY             3458
GSTRAD              8
GSTRNG              10
GSTSPEED            2
GSTSPEED2           5
GSTTARG             3461
GSTUPD              143A
GSTUPD:GSTDECISSION  1504
GSTUPD:GSTDONE      164C
GSTUPD:GSTDOWNMOVE  1604
GSTUPD:GSTINRNG     1464
GSTUPD:GSTLEFTMOVE  15D0
GSTUPD:GSTMOVE      1470
GSTUPD:GSTMULT      149E
GSTUPD:GSTMULTDOWN  14D8
GSTUPD:GSTMULTLEFT  14C2
GSTUPD:GSTMULTRIGHT  14AC
GSTUPD:GSTMULTUP    14EE
GSTUPD:GSTNOTCOLISION  15AE
GSTUPD:GSTNOTCOLISION2  15E2
GSTUPD:GSTNOTCOLISION3  1616
GSTUPD:GSTNOTCOLISION4  163A
GSTUPD:GSTNOTINRNG  1450
GSTUPD:GSTNOTMULT   1574
GSTUPD:GSTNOTTP     15BE
GSTUPD:GSTNOTTP2    15F2
GSTUPD:GSTRANDOWN   1558
GSTUPD:GSTRANLEFT   154A
GSTUPD:GSTRANRIGHT  153C
GSTUPD:GSTRANUP     1566
GSTUPD:GSTRIGHTMOVE  159C
GSTUPD:GSTUPMOVE    1628
GSTVELX             345A
GSTVELY             345C
IMGPLOT             2208
INSINIT             2284
INSPLOT             2288
INSPLOT:DONE        22AC
INSPLOT:LOOP        229E
INSPLOT:TXT1        22B2
INSPLOT:TXT2        22DC
INSPLOT:TXT3        2311
INSPLOT:TXT4        233E
INSPLOT:TXT5        2359
INSPLOT:TXT6        238C
INSPLOT:TXT7        2390
INSPLOT:TXT8        23BB
INSPLOT:TXT9        23D6
INSPLOT:TXTLST      23FA
INSUPD              2286
ISCINIT             2156
ISCPLOT             217A
ISCPLOT:DONE        21A6
ISCPLOT:TXT1        21AC
ISCPLOT:TXT2        21BA
ISCTIMER            3468
ISCUPD              2164
ISCUPD:CONT         2178
ISCUPD:DONE         2178
KBDDOWN             28
KBDEDGE             25BB
KBDFIRE1            20
KBDFIRE2            4D
KBDFIRE3            10
KBDINIT             1B96
KBDLEFT             25
KBDPAUSE            50
KBDRIGHT            27
KBDUP               26
KBDUPD              1BA4
KBDUPD:CONVERT      1BEC
KBDUPD:LOOP         1BF0
KBDUPD:NOACT        1BE6
KBDVAL              25BA
MAPINIT             1E52
MAPMAT              1008
MAPPLOT             1ECC
MAPVAR              25BE
NOTPOINT            1EAC
NOTPOINT2           1F20
NOTWALL             1E9E
NOTWALL2            1F12
OPENFILE            21D6
OPENFILE:CONVERT_LOOP  21F8
OPENFILE:END        2206
PMEAT               3454
PMFCOL              FFFF
PMINIT              16BC
PMLAMO              3455
PMPCOL              FFFF
PMPLOT              185C
PMPLOT:DDONE        1918
PMPLOT:DDOWN        18EA
PMPLOT:DLEFT        18E0
PMPLOT:DOWNDRAW     19D8
PMPLOT:DRAW_MOUTH1  18F4
PMPLOT:DRAW_MOUTH2  18FE
PMPLOT:DRAW_MOUTH3  1908
PMPLOT:DRAW_MOUTH4  1912
PMPLOT:DRIGHT       18CC
PMPLOT:DUP          18D6
PMPLOT:FULLDRAW     191E
PMPLOT:LEFTDRAW     1942
PMPLOT:MOUTHOPEN    188A
PMPLOT:NOTMOVE      18C2
PMPLOT:RIGHTDRAW    1974
PMPLOT:SET_MOUTHDOWN  1A64
PMPLOT:SET_MOUTHLEFT  1A0A
PMPLOT:SET_MOUTHRIGHT  1A28
PMPLOT:SET_MOUTHUP  1A46
PMPLOT:UPDRAW       19A6
PMPOSX              344C
PMPOSY              344E
PMRAD               8
PMSPEED             2
PMUPD               16F0
PMUPD:ACTXLEFT      17B6
PMUPD:ACTXRIGHT     1782
PMUPD:ACTYDOWN      17EA
PMUPD:ACTYUP        180E
PMUPD:DONE          184A
PMUPD:NOTCOLISION   179C
PMUPD:NOTCOLISION2  17D0
PMUPD:NOTCOLISION3  1804
PMUPD:NOTCOLISION4  1828
PMUPD:NOTDOWN       177E
PMUPD:NOTLEFT       173C
PMUPD:NOTMULT       1832
PMUPD:NOTRIGHT      1752
PMUPD:NOTTP         17AC
PMUPD:NOTTP2        17E0
PMUPD:NOTUP         1768
PMVELX              3450
PMVELY              3452
POSCON              29BE
SCOFCOL             0
SCOINIT             1A82
SCOLIFE             3464
SCOLINE1            101
SCOLINE2            102
SCOPLOT             1A92
SCOPLOT:TXT1        1AE0
SCOPLOT:TXT2        1AE9
SCOPOINTS           3466
SCRCYCCT            25BD
SCRHEIGH            280
SCRINIT             1B2A
SCRINTCT            25BC
SCRTIM              1B88
SCRUPD              1B6E
SCRWIDTH            280
STACUR              346A
STAEMPTY            2564
STAINIT             24E2
STANEXT             346C
STANONE             FFFFFFFF
STAPLOT             2540
STAPLOT:PLTTBL      255C
START               258E
START:LOOP          259A
START:WAITINIT      25A0
STAUPD              24F2
STAUPD:DOUPD        2518
STAUPD:INITBL       2530
STAUPD:UPDTBL       2538
SYSINIT             1AFE
UTLCHRWD            8
UTLINIT             1FF0
UTLPRINT            2006
UTLPRINT:ENDLOOP    2018
UTLPRINT:LOOP       200E
UTLRAND             2038
UTLRAND:RANDVEC     2056
UTLRNDIX            346E
WININIT             2422
WINPLOT             2426
WINPLOT:DONE        245A
WINPLOT:TXT1        2460
WINPLOT:TXT2        2469
WINUPD              2424
ZERO                1EBA
ZERO2               1F2E
ZERO3               223E
