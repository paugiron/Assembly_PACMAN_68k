00002664 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 26/12/2022 18:03:44

00000000                             1  ; ==============================================================================
00000000                             2  ; TITLE       : PAC-MAN 68000
00000000                             3  ; DESCRIPTION : GAME IN MOTOROLA 68000 BASED ON PAC-MAN GAME
00000000                             4  ; AUTHOR      : JORDI FLORIT ENSENYAT
00000000                             5  ;               JOSEP GABRIEL FORNES REYNES
00000000                             6  ;               PAU GIRON RODRIGUEZ
00000000                             7  ; ==============================================================================
00001000                             8              ORG    $1000
00001000                             9  
00001000                            10              INCLUDE "CONST.X68"
00001000                            11  ; ==============================================================================
00001000                            12  ; GAME CONSTANTS
00001000                            13  ; ==============================================================================
00001000                            14  
00001000                            15  ; --- PAC-MAN RELATED CONTANTS ----------------------------------------------------
00001000                            16  
00001000  =0000FFFF                 17  PMPCOL      EQU     $0000FFFF               ; PAC-MAN CONTOUR COLOR
00001000  =0000FFFF                 18  PMFCOL      EQU     $0000FFFF               ; PAC-MAN FILL COLOR
00001000  =00000002                 19  PMSPEED     EQU     2                       ; MAGNITUDE OF THE X AND Y VEL.
00001000  =00000008                 20  PMRAD       EQU     8                       ; PAC-MAN RADIUS
00001000                            21  
00001000                            22  ; --- GHOST RELATED CONSTANTS ----------------------------------------------------
00001000                            23  
00001000  =00000002                 24  GSTSPEED    EQU     2                       ; MAGNITUDE OF THE NORMAL DISPLACEMENT
00001000  =00000005                 25  GSTSPEED2   EQU     5                       ; MAGNITUDE OF THE ATACKED DISPLACEMENT
00001000                            26  
00001000  =000000FF                 27  GSTCOL1     EQU     $000000FF               ; GHOST 1 CONTOUR COLOR RED
00001000  =00FFFFFF                 28  GSTFCOL1    EQU     $00FFFFFF               ; GHOST 1 FILL COLOR WHITE
00001000  =00000002                 29  GSTINX1     EQU     2                       ; GHOST 1 INITIAL X
00001000  =00000002                 30  GSTINY1     EQU     2                       ; GHOST 1 INITIAL Y
00001000                            31  
00001000  =00FF0080                 32  GSTCOL2     EQU     $00FF0080               ; GHOST 2 CONTOUR COLOR PINK
00001000  =00000000                 33  GSTFCOL2    EQU     $00000000               ; GHOST 1 FILL COLOR
00001000  =00000002                 34  GSTINX2     EQU     2                       ; GHOST 2 INITIAL X
00001000  =0000001F                 35  GSTINY2     EQU     31                      ; GHOST 2 INITIAL Y
00001000                            36  
00001000  =00FFFF00                 37  GSTCOL3     EQU     $00FFFF00               ; GHOST 3 CONTOUR COLOR CYAN
00001000  =00000000                 38  GSTFCOL3    EQU     $00000000               ; GHOST 3 FILL COLOR
00001000  =0000001F                 39  GSTINX3     EQU     31                      ; GHOST 3 INITIAL X
00001000  =00000002                 40  GSTINY3     EQU     2                       ; GHOST 3 INITIAL Y
00001000                            41  
00001000  =000080FF                 42  GSTCOL4     EQU     $000080FF               ; GHOST 4 CONTOUR COLOR ORANGE
00001000  =00000000                 43  GSTFCOL4    EQU     $00000000               ; GHOST 4 FILL COLOR
00001000  =0000001F                 44  GSTINX4     EQU     31                      ; GHOST 4 INITIAL X
00001000  =0000001F                 45  GSTINY4     EQU     31                      ; GHOST 4 INITIAL Y 
00001000                            46  
00001000  =00800000                 47  GSTCOL5     EQU     $00800000               ; CONTOUR COLOR OF ATACKED MODE
00001000  =00000000                 48  GSTFCOL5    EQU     $00000000               ; FILL COLOR OF ATACKED MODE
00001000                            49  
00001000  =00000008                 50  GSTRAD      EQU     8                       ; GHOST RADIUS
00001000  =00000010                 51  GSTRNG      EQU     16                      ; GHOST DETECTING RANGE
00001000= 0001 0002 0003 0004       52  GSTDECVEC   DC.W    1,2,3,4                 ; GHOST MOVEMENT DECISSIONS
00001008                            53              
00001008                            54  ; --- SCOREBOARD RELATED CONSTANTS ---------------------------------------------
00001008                            55  ;MODIFICATE
00001008                            56  
00001008  =00000000                 57  SCOFCOL     EQU     $00000000               ; TEXT BACKGROUND COLOR
00001008  =00000101                 58  SCOLINE1    EQU     $0101                   ; FIRST TEXT LINE COORDINATES
00001008  =00000102                 59  SCOLINE2    EQU     $0102                   ; SECOND TEXT LINE COORDINATES
00001008                            60  
00001008                            61  ; --- MAP RELATED CONSTANTS ----------------------------------------------------
00001008                            62  
00001008= 01 01 01 01 01 01 ...     63  MAPMAT      DC.B    $1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
00001028= 01 02 02 02 02 02 ...     64              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
00001048= 01 02 01 01 01 01 ...     65              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
00001068= 01 03 01 01 01 01 ...     66              DC.B    $1,3,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,3,1
00001088= 01 02 02 02 02 02 ...     67              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000010A8= 01 02 01 01 01 01 ...     68              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000010C8= 01 02 01 01 01 01 ...     69              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000010E8= 01 02 02 02 02 02 ...     70              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
00001108= 01 02 01 01 01 01 ...     71              DC.B    $1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,2,1
00001128= 01 02 01 00 00 00 ...     72              DC.B    $1,2,1,0,0,0,1,2,1,0,1,2,1,1,1,1,1,1,1,1,2,1,0,1,2,1,0,0,0,1,2,1
00001148= 01 02 01 01 01 01 ...     73              DC.B    $1,2,1,1,1,1,1,2,1,0,1,2,2,2,2,1,1,2,2,2,2,1,0,1,2,1,1,1,1,1,2,1
00001168= 01 02 02 02 02 02 ...     74              DC.B    $1,2,2,2,2,2,2,2,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,2,2,2,2,2,2,2,1
00001188= 01 01 01 01 01 01 ...     75              DC.B    $1,1,1,1,1,1,1,2,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,2,1,1,1,1,1,1,1
000011A8= 01 00 00 00 00 00 ...     76              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,2,1,0,0,0,0,0,1
000011C8= 01 00 00 00 00 00 ...     77              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,1,1,1,0,0,1,1,1,0,1,0,1,2,1,0,0,0,0,0,1
000011E8= 01 01 01 01 01 01 ...     78              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,0,0,0,0,0,0,1,0,1,1,1,2,1,1,1,1,1,1,1
00001208= 04 00 00 00 00 00 ...     79              DC.B    $4,0,0,0,0,0,0,2,2,2,2,0,1,0,0,0,0,0,0,1,0,2,2,2,2,0,0,0,0,0,0,4
00001228= 01 01 01 01 01 01 ...     80              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,0,0,0,0,0,0,1,0,1,1,1,2,1,1,1,1,1,1,1
00001248= 01 00 00 00 00 00 ...     81              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,1,1,1,1,1,1,1,1,0,1,0,1,2,1,0,0,0,0,0,1
00001268= 01 00 00 00 00 00 ...     82              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,2,1,0,0,0,0,0,1
00001288= 01 01 01 01 01 01 ...     83              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,2,1,1,1,1,1,1,1
000012A8= 01 02 02 02 02 02 ...     84              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000012C8= 01 02 01 01 01 01 ...     85              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000012E8= 01 02 01 01 01 01 ...     86              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
00001308= 01 02 02 02 02 01 ...     87              DC.B    $1,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,1
00001328= 01 01 01 01 02 01 ...     88              DC.B    $1,1,1,1,2,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,2,1,1,1,1
00001348= 01 01 01 01 02 01 ...     89              DC.B    $1,1,1,1,2,1,1,2,1,0,1,2,1,1,1,1,1,1,1,1,2,1,0,1,2,1,1,2,1,1,1,1
00001368= 01 02 02 02 02 02 ...     90              DC.B    $1,2,2,2,2,2,2,2,1,0,1,2,2,2,2,1,1,2,2,2,2,1,0,1,2,2,2,2,2,2,2,1
00001388= 01 02 01 01 01 01 ...     91              DC.B    $1,2,1,1,1,1,1,1,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,1,1,1,1,1,1,2,1
000013A8= 01 03 01 01 01 01 ...     92              DC.B    $1,3,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,3,1
000013C8= 01 02 02 02 02 02 ...     93              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000013E8= 01 01 01 01 01 01 ...     94              DC.B    $1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
00001408                            95              
00001408                            96  ; --- STATE RELATED CONSTANTS --------------------------------------------------
00001408                            97  
00001408  =FFFFFFFF                 98  STANONE     EQU     -1                      ; NON-EXISTENT STATE NUMBER
00001408                            99  
00001408                           100  
00001408                           101  
00001408                           102  
00001408                           103  
00001408                           104  
00001408                           105  
00001408                           106  
00001408                           107  
00001408                           108  
00001408                           109  
00001408                           110  
00001408                           111  
00001408                           112  
00001408                           113  
00001408                           114  
00001408                           115  
00001408                           116  
00001408                           117  
00001408                           118  
00001408                           119  
00001408                           120  
00001408                           121  
00001408                           122  
00001408                           123  -------------------- end include --------------------
00001408                           124              INCLUDE "GHOST.X68"
00001408                           125  ; ==============================================================================
00001408                           126  ; GHOST MANAGEMENT
00001408                           127  ; ==============================================================================
00001408                           128              
00001408                           129  ; ------------------------------------------------------------------------------
00001408                           130  GSTINIT
00001408                           131  ; INITIALIZE GHOST.
00001408                           132  ; INPUT    : NONE 
00001408                           133  ; OUTPUT   : NONE
00001408                           134  ; MODIFIES : NONE
00001408                           135  ; ------------------------------------------------------------------------------
00001408  33FC 0058 0000352C       136              MOVE.W  #GSTINX1*16+64-8,(GSTPOSX)
00001410  33FC 0058 0000352E       137              MOVE.W  #GSTINY1*16+64-8,(GSTPOSY)
00001418  33FC 0002 00003530       138              MOVE.W  #GSTSPEED,(GSTVELX)
00001420  33FC 0002 00003532       139              MOVE.W  #GSTSPEED,(GSTVELY)
00001428  13FC 0002 00003534       140              MOVE.B  #2,(GSTLAMO)
00001430  13FC 0000 00003539       141              MOVE.B  #0,(GSTCHDIR)
00001438  4E75                     142              RTS
0000143A                           143              
0000143A                           144  ; ------------------------------------------------------------------------------
0000143A                           145  GSTUPD
0000143A                           146  ; UPDATES THE GHOST.
0000143A                           147  ; INPUT    : NONE 
0000143A                           148  ; OUTPUT   : NONE
0000143A                           149  ; MODIFIES : NONE
0000143A                           150  ; ------------------------------------------------------------------------------
0000143A  48E7 FC00                151              MOVEM.L D0-D5,-(A7)
0000143E                           152              
0000143E                           153              ;MOVE.W  (PMPOSX)/16*(PMPOSX)/16+(PMPOSY)/16*(PMPOSY)/16,D0
0000143E  323C 0010                154              MOVE.W  #GSTRNG,D1
00001442  C2FC 0010                155              MULU.W  #GSTRNG,D1
00001446  9240                     156              SUB.W   D0,D1
00001448  303C 0002                157              MOVE.W  #GSTSPEED,D0
0000144C  6600 0016                158              BNE     .GSTINRNG
00001450                           159  .GSTNOTINRNG
00001450  4240                     160              CLR     D0
00001452  4241                     161              CLR     D1
00001454  383C 0000                162              MOVE.W  #0,D4
00001458  13FC 0001 00003537       163              MOVE.B  #1,(GSTINRNG)
00001460  6000 000E                164              BRA     .GSTMOVE
00001464                           165  .GSTINRNG
00001464  383C 0000                166              MOVE.W  #0,D4
00001468  13FC 0000 00003537       167              MOVE.B  #0,(GSTINRNG)
00001470                           168  .GSTMOVE
00001470  1439 00003539            169              MOVE.B  (GSTCHDIR),D2
00001476                           170              ;CMP.B   #1,D2
00001476                           171              ;BGE     .GSTNOTMULT
00001476  3439 0000352C            172              MOVE.W  (GSTPOSX),D2
0000147C  3639 0000352E            173              MOVE.W  (GSTPOSY),D3
00001482                           174              
00001482  5042                     175              ADDQ.W  #8,D2              
00001484  5043                     176              ADDQ.W  #8,D3
00001486                           177  
00001486                           178              ;MASK OF THE LAST NIBBLE        
00001486  C47C 000F                179              AND.W   #$000F,D2               ; COORDENADA X
0000148A  C67C 000F                180              AND.W   #$000F,D3               ; COORDENADA Y
0000148E                           181              
0000148E                           182              ;CHECK IF COORDS ARE MULTIPLES OF 16
0000148E  B47C 0000                183              CMP     #$0000,D2
00001492  6600 0136                184              BNE     .GSTNOTMULT
00001496  B67C 0000                185              CMP     #$0000,D3
0000149A  6600 012E                186              BNE     .GSTNOTMULT
0000149E                           187  .GSTMULT
0000149E  13FC 0000 00003535       188              MOVE.B  #0,(GSTPOSMV)
000014A6  13FC 0003 00003539       189              MOVE.B  #3,(GSTCHDIR)
000014AE                           190  .GSTMULTRIGHT
000014AE  4EB9 00001DCE            191              JSR     GSTCOLWALLRIGHT
000014B4  BA7C 0001                192              CMP     #1,D5
000014B8  6700 000A                193              BEQ     .GSTMULTLEFT
000014BC  5239 00003535            194              ADD.B   #1,(GSTPOSMV)
000014C2  5244                     195              ADDQ.W  #1,D4
000014C4                           196  .GSTMULTLEFT
000014C4  4EB9 00001E0A            197              JSR     GSTCOLWALLLEFT
000014CA  BA7C 0001                198              CMP     #1,D5
000014CE  6700 000A                199              BEQ     .GSTMULTDOWN
000014D2  5439 00003535            200              ADD.B   #2,(GSTPOSMV)
000014D8  5244                     201              ADDQ.W  #1,D4
000014DA                           202  .GSTMULTDOWN
000014DA  4EB9 00001E46            203              JSR     GSTCOLWALLDOWN
000014E0  BA7C 0001                204              CMP     #1,D5
000014E4  6700 000A                205              BEQ     .GSTMULTUP
000014E8  5839 00003535            206              ADD.B   #4,(GSTPOSMV)
000014EE  5244                     207              ADDQ.W  #1,D4
000014F0                           208  .GSTMULTUP
000014F0  4EB9 00001E7C            209              JSR     GSTCOLWALLUP
000014F6  BA7C 0001                210              CMP     #1,D5
000014FA  6700 000A                211              BEQ     .GSTDECISSION
000014FE  5039 00003535            212              ADD.B   #8,(GSTPOSMV)
00001504  5244                     213              ADDQ.W  #1,D4
00001506                           214  .GSTDECISSION
00001506  B87C 0002                215              CMP     #2,D4
0000150A  6F00 0032                216              BLE     .GST2MOVES
0000150E  4EB9 0000210E            217              JSR     UTLRAND
00001514  C0BC 00000006            218              AND.L   #$00000006,D0
0000151A  43F8 1000                219              LEA     GSTDECVEC,A1
0000151E  3231 0000                220              MOVE.W  (A1,D0),D1
00001522  B27C 0001                221              CMP     #1,D1
00001526  6700 0062                222              BEQ     .GSTRANRIGHT
0000152A  B27C 0002                223              CMP     #2,D1
0000152E  6700 006A                224              BEQ     .GSTRANLEFT
00001532  B27C 0003                225              CMP     #3,D1
00001536  6700 0072                226              BEQ     .GSTRANDOWN
0000153A  6000 007E                227              BRA     .GSTRANUP
0000153E                           228  .GST2MOVES
0000153E  4EB9 000016A8            229              JSR     GST2DECISSIONS
00001544  B87C 0000                230              CMP     #0,D4
00001548  6600 0080                231              BNE     .GSTNOTMULT
0000154C  1839 00003534            232              MOVE.B  (GSTLAMO),D4
00001552  B87C 0001                233              CMP     #1,D4
00001556  6700 000E                234              BEQ     .2MLAMOX
0000155A  B87C 0002                235              CMP     #2,D4
0000155E  6700 0006                236              BEQ     .2MLAMOX
00001562  6000 0014                237              BRA     .2MLAMOY
00001566                           238  .2MLAMOX
00001566  4EB9 00001E7C            239              JSR     GSTCOLWALLUP
0000156C  BA7C 0001                240              CMP     #1,D5
00001570  6600 010C                241              BNE     .GSTUPMOVE
00001574  6000 00E4                242              BRA     .GSTDOWNMOVE
00001578                           243  .2MLAMOY
00001578  4EB9 00001DCE            244              JSR     GSTCOLWALLRIGHT
0000157E  BA7C 0001                245              CMP     #1,D5
00001582  6600 006E                246              BNE     .GSTRIGHTMOVE
00001586  6000 009E                247              BRA     .GSTLEFTMOVE
0000158A                           248  
0000158A                           249  .GSTRANRIGHT
0000158A  0839 0000 00003535       250              BTST.B  #0,(GSTPOSMV)
00001592  6700 FF72                251              BEQ     .GSTDECISSION
00001596  6000 005A                252              BRA     .GSTRIGHTMOVE
0000159A                           253  .GSTRANLEFT
0000159A  0839 0001 00003535       254              BTST.B  #1,(GSTPOSMV)
000015A2  6700 FF62                255              BEQ     .GSTDECISSION
000015A6  6000 007E                256              BRA     .GSTLEFTMOVE
000015AA                           257  .GSTRANDOWN
000015AA  0839 0002 00003535       258              BTST.B  #2,(GSTPOSMV)
000015B2  6700 FF52                259              BEQ     .GSTDECISSION
000015B6  6000 00A2                260              BRA     .GSTDOWNMOVE
000015BA                           261  .GSTRANUP
000015BA  0839 0003 00003535       262              BTST.B  #3,(GSTPOSMV)
000015C2  6700 FF42                263              BEQ     .GSTDECISSION
000015C6  6000 00B6                264              BRA     .GSTUPMOVE
000015CA                           265  .GSTNOTMULT 
000015CA  5339 00003539            266              SUB.B   #1,(GSTCHDIR)
000015D0  1839 00003534            267              MOVE.B  (GSTLAMO),D4           
000015D6  B87C 0001                268              CMP     #1,D4
000015DA  6700 0016                269              BEQ     .GSTRIGHTMOVE
000015DE  B87C 0002                270              CMP     #2,D4
000015E2  6700 0042                271              BEQ     .GSTLEFTMOVE
000015E6  B87C 0003                272              CMP     #3,D4
000015EA  6700 006E                273              BEQ     .GSTDOWNMOVE
000015EE  6000 008E                274              BRA     .GSTUPMOVE
000015F2                           275  
000015F2                           276              ;UPDATE COORDS
000015F2                           277              
000015F2                           278  .GSTRIGHTMOVE
000015F2  4EB9 00001DCE            279              JSR     GSTCOLWALLRIGHT
000015F8  BA7C 0001                280              CMP     #1,D5
000015FC  6600 0006                281              BNE     .GSTNOTCOLISION
00001600  303C 0000                282              MOVE.W  #0,D0
00001604                           283  .GSTNOTCOLISION
00001604  BA7C 0004                284              CMP     #4,D5
00001608  6600 000A                285              BNE     .GSTNOTTP
0000160C  0479 01E0 0000352C       286              SUB.W   #30*16,(GSTPOSX)
00001614                           287  .GSTNOTTP
00001614  D179 0000352C            288              ADD.W   D0,(GSTPOSX)
0000161A  13FC 0001 00003534       289              MOVE.B  #1,(GSTLAMO)
00001622  6000 007E                290              BRA     .GSTDONE
00001626                           291  .GSTLEFTMOVE
00001626  4EB9 00001E0A            292              JSR     GSTCOLWALLLEFT
0000162C  BA7C 0001                293              CMP     #1,D5
00001630  6600 0006                294              BNE     .GSTNOTCOLISION2
00001634  303C 0000                295              MOVE.W  #0,D0
00001638                           296  .GSTNOTCOLISION2
00001638  BA7C 0004                297              CMP     #4,D5
0000163C  6600 000A                298              BNE     .GSTNOTTP2
00001640  0679 01E0 0000352C       299              ADD.W   #30*16,(GSTPOSX)
00001648                           300  .GSTNOTTP2
00001648  9179 0000352C            301              SUB.W   D0,(GSTPOSX)
0000164E  13FC 0002 00003534       302              MOVE.B  #2,(GSTLAMO)
00001656  6000 004A                303              BRA     .GSTDONE
0000165A                           304      
0000165A                           305  .GSTDOWNMOVE
0000165A  4EB9 00001E46            306              JSR     GSTCOLWALLDOWN
00001660  BA7C 0001                307              CMP     #1,D5
00001664  6600 0006                308              BNE     .GSTNOTCOLISION3
00001668  303C 0000                309              MOVE.W  #0,D0
0000166C                           310  .GSTNOTCOLISION3
0000166C  D179 0000352E            311              ADD.W   D0,(GSTPOSY)
00001672  13FC 0003 00003534       312              MOVE.B  #3,(GSTLAMO)
0000167A  6000 0026                313              BRA     .GSTDONE
0000167E                           314  .GSTUPMOVE    
0000167E  4EB9 00001E7C            315              JSR     GSTCOLWALLUP
00001684  BA7C 0001                316              CMP     #1,D5
00001688  6600 0006                317              BNE     .GSTNOTCOLISION4
0000168C  303C 0000                318              MOVE.W  #0,D0
00001690                           319  .GSTNOTCOLISION4
00001690  9179 0000352E            320              SUB.W   D0,(GSTPOSY)
00001696  13FC 0004 00003534       321              MOVE.B  #4,(GSTLAMO)
0000169E  6000 0002                322              BRA     .GSTDONE
000016A2                           323  
000016A2                           324  .GSTDONE
000016A2                           325  
000016A2  4CDF 003F                326              MOVEM.L (A7)+,D0-D5
000016A6                           327              
000016A6  4E75                     328              RTS
000016A8                           329              
000016A8                           330  ; SUBRUTINES FOR GHOST UPDATE --------------------------------------------------
000016A8                           331  
000016A8                           332  GST2DECISSIONS
000016A8                           333  
000016A8  48E7 8000                334              MOVEM.L D0,-(A7)
000016AC                           335              
000016AC  1039 00003534            336              MOVE.B  (GSTLAMO),D0
000016B2  B07C 0001                337              CMP     #1,D0
000016B6  6700 0016                338              BEQ     .LAMORIGHT
000016BA  B07C 0002                339              CMP     #2,D0
000016BE  6700 0022                340              BEQ     .LAMOLEFT
000016C2  B07C 0003                341              CMP     #3,D0
000016C6  6700 002E                342              BEQ     .LAMODOWN
000016CA  6000 003E                343              BRA     .LAMOUP
000016CE                           344              
000016CE                           345  .LAMORIGHT
000016CE  0839 0000 00003535       346              BTST.B  #0,(GSTPOSMV)
000016D6  6700 0046                347              BEQ     .RETURN0
000016DA  383C 0001                348              MOVE.W  #1,D4
000016DE  6000 0042                349              BRA     .GST2DECEND
000016E2                           350  .LAMOLEFT
000016E2  0839 0001 00003535       351              BTST.B  #1,(GSTPOSMV)
000016EA  6700 0032                352              BEQ     .RETURN0
000016EE  383C 0001                353              MOVE.W  #1,D4
000016F2  6000 002E                354              BRA     .GST2DECEND
000016F6                           355  .LAMODOWN
000016F6  0839 0002 00003535       356              BTST.B  #2,(GSTPOSMV)
000016FE  6700 001E                357              BEQ     .RETURN0
00001702  383C 0001                358              MOVE.W  #1,D4
00001706  6000 001A                359              BRA     .GST2DECEND
0000170A                           360  .LAMOUP
0000170A  0839 0003 00003535       361              BTST.B  #3,(GSTPOSMV)
00001712  6700 000A                362              BEQ     .RETURN0
00001716  383C 0001                363              MOVE.W  #1,D4
0000171A  6000 0006                364              BRA     .GST2DECEND
0000171E                           365  .RETURN0
0000171E  383C 0000                366              MOVE.W  #0,D4
00001722                           367              
00001722                           368  .GST2DECEND
00001722                           369  
00001722  4CDF 0001                370              MOVEM.L (A7)+,D0
00001726  4E75                     371              RTS
00001728                           372  
00001728                           373              
00001728                           374  ; ------------------------------------------------------------------------------
00001728                           375  GSTPLOT
00001728                           376  ; PLOT THE GHOST.
00001728                           377  ; INPUT    : NONE 
00001728                           378  ; OUTPUT   : NONE
00001728                           379  ; MODIFIES : NONE
00001728                           380  ; ------------------------------------------------------------------------------
00001728  48E7 F800                381              MOVEM.L D0-D4,-(A7)
0000172C                           382              
0000172C                           383              ;SET PEN COLOR
0000172C  303C 0050                384              MOVE.W  #80,D0
00001730  223C 000000FF            385              MOVE.L  #GSTCOL1,D1
00001736  4E4F                     386              TRAP    #15
00001738                           387              
00001738                           388              ;SET FILL COLOR
00001738  303C 0051                389              MOVE.W  #81,D0
0000173C  223C 00FFFFFF            390              MOVE.L  #GSTFCOL1,D1
00001742  4E4F                     391              TRAP    #15
00001744                           392              
00001744                           393              ;SET COORDS
00001744  3239 0000352C            394              MOVE.W  (GSTPOSX),D1
0000174A  5141                     395              SUB.W   #GSTRAD,D1
0000174C  3439 0000352E            396              MOVE.W  (GSTPOSY),D2
00001752  5142                     397              SUB.W   #GSTRAD,D2
00001754                           398              
00001754  3601                     399              MOVE.W  D1,D3
00001756  0643 0010                400              ADD.W   #GSTRAD*2,D3
0000175A  3802                     401              MOVE.W  D2,D4
0000175C  0644 0010                402              ADD.W   #GSTRAD*2,D4
00001760                           403              
00001760                           404              ;DRAW GHOST
00001760  303C 0058                405              MOVE.W  #88,D0
00001764  4E4F                     406              TRAP    #15
00001766                           407              
00001766                           408              ;SET RANGE COORDS
00001766  3239 0000352C            409              MOVE.W  (GSTPOSX),D1
0000176C  0441 0100                410              SUB.W   #GSTRNG*16,D1
00001770  3439 0000352E            411              MOVE.W  (GSTPOSY),D2
00001776  0442 0100                412              SUB.W   #GSTRNG*16,D2
0000177A                           413              
0000177A  3601                     414              MOVE.W  D1,D3
0000177C  0643 0200                415              ADD.W   #GSTRNG*16*2,D3
00001780  3802                     416              MOVE.W  D2,D4
00001782  0644 0200                417              ADD.W   #GSTRNG*16*2,D4
00001786                           418              
00001786                           419              ;DRAW GHOST RANGE
00001786  303C 005B                420              MOVE.W  #91,D0
0000178A  4E4F                     421              TRAP    #15
0000178C                           422              
0000178C  4CDF 001F                423              MOVEM.L (A7)+,D0-D4
00001790                           424              
00001790                           425  
00001790  4E75                     426              RTS
00001792                           427  
00001792                           428  
00001792                           429  
00001792                           430  
00001792                           431  
00001792                           432  
00001792                           433  
00001792                           434  
00001792                           435  
00001792                           436  
00001792                           437  -------------------- end include --------------------
00001792                           438              INCLUDE "PAC-MAN.X68"
00001792                           439  ; ==============================================================================
00001792                           440  ; PAC-MAN MANAGEMENT
00001792                           441  ; ==============================================================================
00001792                           442              
00001792                           443  ; ------------------------------------------------------------------------------
00001792                           444  PMINIT
00001792                           445  ; INITIALIZE PAC-MAN.
00001792                           446  ; INPUT    : NONE 
00001792                           447  ; OUTPUT   : NONE
00001792                           448  ; MODIFIES : NONE
00001792                           449  ; ------------------------------------------------------------------------------
00001792                           450  
00001792  33FC 0140 00003522       451              MOVE.W  #SCRWIDTH/2,(PMPOSX)
0000179A  33FC 0140 00003524       452              MOVE.W  #SCRHEIGH/2,(PMPOSY)
000017A2  5079 00003522            453              ADDQ.W  #8,(PMPOSX)
000017A8  5079 00003524            454              ADDQ.W  #8,(PMPOSY)
000017AE  33FC 0002 00003526       455              MOVE.W  #PMSPEED,(PMVELX)
000017B6  33FC 0002 00003528       456              MOVE.W  #PMSPEED,(PMVELY)
000017BE  4239 0000352B            457              CLR.B   (PMLAMO)
000017C4                           458  
000017C4  4E75                     459              RTS
000017C6                           460              
000017C6                           461  ; ------------------------------------------------------------------------------
000017C6                           462  PMUPD
000017C6                           463  ; UPDATES THE PAC-MAN.
000017C6                           464  ; INPUT    : NONE 
000017C6                           465  ; OUTPUT   : NONE
000017C6                           466  ; MODIFIES : NONE
000017C6                           467  ; ------------------------------------------------------------------------------
000017C6                           468              
000017C6  48E7 FE00                469              MOVEM.L D0-D6,-(A7)
000017CA                           470              
000017CA  303C 0002                471              MOVE.W  #PMSPEED,D0
000017CE                           472              
000017CE                           473              
000017CE  3439 00003522            474              MOVE.W  (PMPOSX),D2
000017D4  3639 00003524            475              MOVE.W  (PMPOSY),D3
000017DA                           476              
000017DA  5042                     477              ADDQ.W  #8,D2              
000017DC  5043                     478              ADDQ.W  #8,D3  
000017DE                           479              
000017DE  1839 0000352B            480              MOVE.B  (PMLAMO),D4
000017E4                           481              
000017E4                           482              ;MASK OF THE LAST NIBBLE        
000017E4  C47C 000F                483              AND.W   #$000F,D2               ; COORDENADA X
000017E8  C67C 000F                484              AND.W   #$000F,D3               ; COORDENADA Y
000017EC                           485              
000017EC                           486              ;CHECK IF COORDS ARE MULTIPLES OF 16
000017EC  B47C 0000                487              CMP     #$0000,D2
000017F0  6600 0116                488              BNE     .NOTMULT
000017F4  B67C 0000                489              CMP     #$0000,D3
000017F8  6600 010E                490              BNE     .NOTMULT
000017FC                           491              
000017FC                           492              ;BRA     .ACTYUP
000017FC                           493  
000017FC                           494              ;CHECK THE DIRECTION
000017FC  0839 0000 00002690       495              BTST.B  #0,(KBDVAL)             ;CHECK LEFT
00001804  6700 000C                496              BEQ     .NOTLEFT
00001808  4204                     497              CLR.B   D4
0000180A  183C 0000                498              MOVE.B  #0,D4
0000180E  6000 007C                499              BRA     .ACTXLEFT
00001812                           500  .NOTLEFT            
00001812  0839 0002 00002690       501              BTST.B   #2,(KBDVAL)             ;CHECK RIGHT
0000181A  6700 000C                502              BEQ     .NOTRIGHT
0000181E  4204                     503              CLR.B   D4
00001820  183C 0001                504              MOVE.B   #1,D4
00001824  6000 0032                505              BRA     .ACTXRIGHT
00001828                           506  .NOTRIGHT            
00001828  0839 0001 00002690       507              BTST.B   #1,(KBDVAL)             ;CHECK UP
00001830  6700 000C                508              BEQ     .NOTUP
00001834  4204                     509              CLR.B   D4
00001836  183C 0002                510              MOVE.B  #2,D4
0000183A  6000 00A8                511              BRA     .ACTYUP
0000183E                           512  .NOTUP            
0000183E  0839 0003 00002690       513              BTST.B   #3,(KBDVAL)             ;CHECK DOWN
00001846  6700 000C                514              BEQ     .NOTDOWN
0000184A  4204                     515              CLR.B   D4
0000184C  183C 0003                516              MOVE.B   #3,D4
00001850  6000 006E                517              BRA     .ACTYDOWN
00001854                           518  .NOTDOWN
00001854  6000 00CA                519              BRA     .DONE
00001858                           520              
00001858                           521              
00001858                           522              ;UPDATE COORDS
00001858                           523              
00001858                           524  .ACTXRIGHT  
00001858  4EB9 00001CD0            525              JSR     COLWALLRIGHT
0000185E  BA7C 0001                526              CMP     #1,D5
00001862  6600 000E                527              BNE     .NOTCOLISION
00001866  13FC 0000 00002690       528              MOVE.B  #0,(KBDVAL)
0000186E  303C 0000                529              MOVE.W  #0,D0
00001872                           530  .NOTCOLISION
00001872  BA7C 0004                531              CMP     #4,D5
00001876  6600 000A                532              BNE     .NOTTP
0000187A  0479 01E0 00003522       533              SUB.W   #30*16,(PMPOSX)
00001882                           534  .NOTTP
00001882  D179 00003522            535              ADD.W   D0,(PMPOSX)
00001888  6000 0096                536              BRA     .DONE
0000188C                           537  .ACTXLEFT
0000188C  4EB9 00001D12            538              JSR     COLWALLLEFT
00001892  BA7C 0001                539              CMP     #1,D5
00001896  6600 000E                540              BNE     .NOTCOLISION2
0000189A  13FC 0000 00002690       541              MOVE.B  #0,(KBDVAL)
000018A2  303C 0000                542              MOVE.W  #0,D0
000018A6                           543  .NOTCOLISION2
000018A6  BA7C 0004                544              CMP     #4,D5
000018AA  6600 000A                545              BNE     .NOTTP2
000018AE  0679 01E0 00003522       546              ADD.W   #30*16,(PMPOSX)
000018B6                           547  .NOTTP2
000018B6  9179 00003522            548              SUB.W   D0,(PMPOSX)
000018BC  6000 0062                549              BRA     .DONE
000018C0                           550      
000018C0                           551  .ACTYDOWN
000018C0  4EB9 00001D54            552              JSR     COLWALLDOWN
000018C6  BA7C 0001                553              CMP     #1,D5
000018CA  6600 000E                554              BNE     .NOTCOLISION3
000018CE  13FC 0000 00002690       555              MOVE.B  #0,(KBDVAL)
000018D6  303C 0000                556              MOVE.W  #0,D0
000018DA                           557  .NOTCOLISION3
000018DA  D179 00003524            558              ADD.W   D0,(PMPOSY)
000018E0  6000 003E                559              BRA     .DONE
000018E4                           560  .ACTYUP     
000018E4  4EB9 00001D90            561              JSR     COLWALLUP
000018EA  BA7C 0001                562              CMP     #1,D5
000018EE  6600 000E                563              BNE     .NOTCOLISION4
000018F2  13FC 0000 00002690       564              MOVE.B  #0,(KBDVAL)
000018FA  303C 0000                565              MOVE.W  #0,D0
000018FE                           566  .NOTCOLISION4
000018FE  9179 00003524            567              SUB.W   D0,(PMPOSY)
00001904  6000 001A                568              BRA     .DONE
00001908                           569              
00001908                           570              
00001908                           571              ;IF NOT MULT DO
00001908                           572  .NOTMULT     
00001908  B83C 0000                573              CMP.B     #0,D4
0000190C  6700 FF7E                574              BEQ     .ACTXLEFT
00001910  B83C 0001                575              CMP.B     #1,D4
00001914  6700 FF42                576              BEQ     .ACTXRIGHT
00001918  B83C 0002                577              CMP.B     #2,D4
0000191C  67C6                     578              BEQ     .ACTYUP
0000191E  60A0                     579              BRA     .ACTYDOWN
00001920                           580  .DONE
00001920                           581              ;RESTORE
00001920  4EB9 00001EB4            582              JSR     GETPOINTS
00001926  13C4 0000352B            583              MOVE.B  D4,(PMLAMO)
0000192C                           584              
0000192C  4CDF 007F                585              MOVEM.L (A7)+,D0-D6
00001930                           586              
00001930  4E75                     587              RTS
00001932                           588                          
00001932                           589  ; ------------------------------------------------------------------------------
00001932                           590  PMPLOT
00001932                           591  ; PLOT THE BALL.
00001932                           592  ; INPUT    : NONE 
00001932                           593  ; OUTPUT   : NONE
00001932                           594  ; MODIFIES : NONE
00001932                           595  ; ------------------------------------------------------------------------------
00001932                           596  
00001932  48E7 FC00                597              MOVEM.L D0-D5,-(A7)
00001936                           598  
00001936                           599              ;SET PEN COLOR
00001936  303C 0050                600              MOVE.W  #80,D0
0000193A  7200                     601              MOVE.L  #$0000,D1
0000193C  4E4F                     602              TRAP    #15
0000193E                           603              
0000193E                           604              ;SET FILL COLOR
0000193E  303C 0051                605              MOVE.W  #81,D0
00001942  223C 0000FFFF            606              MOVE.L  #PMFCOL,D1
00001948  4E4F                     607              TRAP    #15
0000194A                           608              
0000194A  0839 0003 00002693       609              BTST.B  #3,(SCRCYCCT)
00001952  6700 000C                610              BEQ     .MOUTHOPEN
00001956                           611              
00001956                           612              ;DRAW QUIET
00001956  4EB9 000019F4            613              JSR     .FULLDRAW
0000195C  6000 0090                614              BRA     .DDONE
00001960                           615              
00001960                           616  .MOUTHOPEN     
00001960  4EB9 000019F4            617              JSR     .FULLDRAW       
00001966  1A39 00002690            618              MOVE.B  (KBDVAL),D5
0000196C  CA3C 000F                619              AND.B   #$0F,D5
00001970                           620   
00001970                           621              ;CHECK KBDVAL
00001970  BA3C 0000                622              CMP.B   #$0,D5
00001974  6700 0022                623              BEQ     .NOTMOVE
00001978  BA3C 0001                624              CMP.B  #$1,D5             ;LEFT
0000197C  6700 0038                625              BEQ     .DLEFT
00001980  BA3C 0002                626              CMP.B  #$2,D5             ;UP
00001984  6700 0026                627              BEQ     .DUP
00001988  BA3C 0004                628              CMP.B  #$4,D5             ;RIGHT
0000198C  6700 0014                629              BEQ     .DRIGHT
00001990  BA3C 0008                630              CMP.B  #$8,D5             ;DOWN
00001994  6700 002A                631              BEQ     .DDOWN
00001998                           632              
00001998                           633              ;DRAW MOVEMENT
00001998  4EB9 000019F4            634  .NOTMOVE    JSR     .FULLDRAW
0000199E  6000 004E                635              BRA     .DDONE
000019A2                           636  .DRIGHT
000019A2  4EB9 00001A4A            637              JSR     .RIGHTDRAW
000019A8  6000 0034                638              BRA     .DRAW_MOUTH3
000019AC                           639  .DUP
000019AC  4EB9 00001A7C            640              JSR     .UPDRAW
000019B2  6000 0020                641              BRA     .DRAW_MOUTH2
000019B6                           642  
000019B6                           643  .DLEFT
000019B6  4EB9 00001A18            644              JSR     .LEFTDRAW
000019BC  6000 000C                645              BRA     .DRAW_MOUTH1
000019C0                           646  
000019C0                           647  .DDOWN
000019C0  4EB9 00001AAE            648              JSR     .DOWNDRAW
000019C6  6000 0020                649              BRA     .DRAW_MOUTH4
000019CA                           650              
000019CA                           651  .DRAW_MOUTH1            
000019CA  4EB9 00001AE0            652              JSR     .SET_MOUTHLEFT
000019D0  6000 001C                653              BRA     .DDONE
000019D4                           654  .DRAW_MOUTH2            
000019D4  4EB9 00001B1C            655              JSR     .SET_MOUTHUP
000019DA  6000 0012                656              BRA     .DDONE
000019DE                           657  .DRAW_MOUTH3            
000019DE  4EB9 00001AFE            658              JSR     .SET_MOUTHRIGHT
000019E4  6000 0008                659              BRA     .DDONE
000019E8                           660  .DRAW_MOUTH4            
000019E8  4EB9 00001B3A            661              JSR     .SET_MOUTHDOWN
000019EE                           662  .DDONE
000019EE  4CDF 003F                663              MOVEM.L (A7)+,D0-D5
000019F2                           664              
000019F2  4E75                     665              RTS
000019F4                           666  
000019F4                           667  
000019F4                           668  ;INTERNAL SUBRUTINES FOR PACMAN PLOT-------------------------------------------------------------
000019F4                           669  
000019F4                           670  .FULLDRAW
000019F4                           671              ;SET COORDS
000019F4  3239 00003522            672              MOVE.W  (PMPOSX),D1
000019FA  5141                     673              SUB.W   #PMRAD,D1
000019FC  3439 00003524            674              MOVE.W  (PMPOSY),D2
00001A02  5142                     675              SUB.W   #PMRAD,D2
00001A04                           676              
00001A04  3601                     677              MOVE.W  D1,D3
00001A06  0643 0010                678              ADD.W   #PMRAD*2,D3
00001A0A  3802                     679              MOVE.W  D2,D4
00001A0C  0644 0010                680              ADD.W   #PMRAD*2,D4
00001A10                           681              
00001A10                           682              ;DRAW PAC-MAN
00001A10  303C 0058                683              MOVE.W  #88,D0
00001A14  4E4F                     684              TRAP    #15
00001A16                           685              
00001A16  4E75                     686              RTS
00001A18                           687  .LEFTDRAW
00001A18                           688              
00001A18                           689              
00001A18  303C 0054                690              MOVE.W  #84,D0
00001A1C  3239 00003522            691              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
00001A22  5141                     692              SUB.W   #PMRAD,D1
00001A24  3439 00003524            693              MOVE.W  (PMPOSY),D2
00001A2A  5142                     694              SUB.W   #PMRAD,D2
00001A2C                           695              
00001A2C  3639 00003522            696              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
00001A32  3839 00003524            697              MOVE.W  (PMPOSY),D4
00001A38                           698              
00001A38  4E4F                     699              TRAP    #15
00001A3A                           700             
00001A3A  303C 0055                701              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001A3E                           702              
00001A3E  3203                     703              MOVE.W  D3,D1
00001A40  3404                     704              MOVE.W  D4,D2
00001A42  5042                     705              ADD.W   #PMRAD,D2
00001A44  5141                     706              SUB.W   #PMRAD,D1
00001A46                           707              
00001A46  4E4F                     708              TRAP    #15
00001A48                           709              
00001A48                           710              
00001A48  4E75                     711              RTS
00001A4A                           712              
00001A4A                           713  .RIGHTDRAW
00001A4A                           714              
00001A4A                           715              
00001A4A  303C 0054                716              MOVE.W  #84,D0
00001A4E  3239 00003522            717              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
00001A54  5041                     718              ADD.W   #PMRAD,D1
00001A56  3439 00003524            719              MOVE.W  (PMPOSY),D2
00001A5C  5042                     720              ADD.W   #PMRAD,D2
00001A5E                           721              
00001A5E  3639 00003522            722              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
00001A64  3839 00003524            723              MOVE.W  (PMPOSY),D4
00001A6A                           724              
00001A6A  4E4F                     725              TRAP    #15
00001A6C                           726             
00001A6C  303C 0055                727              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001A70                           728              
00001A70  3203                     729              MOVE.W  D3,D1
00001A72  3404                     730              MOVE.W  D4,D2
00001A74  5142                     731              SUB.W   #PMRAD,D2
00001A76  5041                     732              ADD.W   #PMRAD,D1
00001A78                           733              
00001A78  4E4F                     734              TRAP    #15
00001A7A                           735              
00001A7A                           736              
00001A7A  4E75                     737              RTS
00001A7C                           738  .UPDRAW
00001A7C                           739              
00001A7C                           740              
00001A7C  303C 0054                741              MOVE.W  #84,D0
00001A80  3239 00003522            742              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
00001A86  5141                     743              SUB.W   #PMRAD,D1
00001A88  3439 00003524            744              MOVE.W  (PMPOSY),D2
00001A8E  5142                     745              SUB.W   #PMRAD,D2
00001A90                           746              
00001A90  3639 00003522            747              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
00001A96  3839 00003524            748              MOVE.W  (PMPOSY),D4
00001A9C                           749              
00001A9C  4E4F                     750              TRAP    #15
00001A9E                           751             
00001A9E  303C 0055                752              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001AA2                           753              
00001AA2  3203                     754              MOVE.W  D3,D1
00001AA4  3404                     755              MOVE.W  D4,D2
00001AA6  5142                     756              SUB.W   #PMRAD,D2
00001AA8  5041                     757              ADD.W   #PMRAD,D1
00001AAA                           758              
00001AAA  4E4F                     759              TRAP    #15
00001AAC                           760              
00001AAC                           761              
00001AAC  4E75                     762              RTS
00001AAE                           763              
00001AAE                           764  .DOWNDRAW
00001AAE                           765              
00001AAE                           766              
00001AAE  303C 0054                767              MOVE.W  #84,D0
00001AB2  3239 00003522            768              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
00001AB8  5141                     769              SUB.W   #PMRAD,D1
00001ABA  3439 00003524            770              MOVE.W  (PMPOSY),D2
00001AC0  5042                     771              ADD.W   #PMRAD,D2
00001AC2                           772              
00001AC2  3639 00003522            773              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
00001AC8  3839 00003524            774              MOVE.W  (PMPOSY),D4
00001ACE                           775              
00001ACE  4E4F                     776              TRAP    #15
00001AD0                           777             
00001AD0  303C 0055                778              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001AD4                           779              
00001AD4  3203                     780              MOVE.W  D3,D1
00001AD6  3404                     781              MOVE.W  D4,D2
00001AD8  5042                     782              ADD.W   #PMRAD,D2
00001ADA  5041                     783              ADD.W   #PMRAD,D1
00001ADC                           784              
00001ADC  4E4F                     785              TRAP    #15
00001ADE                           786              
00001ADE                           787              
00001ADE  4E75                     788              RTS
00001AE0                           789  
00001AE0                           790              
00001AE0                           791  .SET_MOUTHLEFT
00001AE0                           792              
00001AE0  303C 0051                793              MOVE.W  #81,D0                         ;SET BLACK
00001AE4  7200                     794              MOVE.L  #$0000,D1
00001AE6  4E4F                     795              TRAP    #15
00001AE8                           796              
00001AE8  303C 0059                797              MOVE.W  #89,D0                         ;FILL
00001AEC  3239 00003522            798              MOVE.W  (PMPOSX),D1
00001AF2  5541                     799              SUBQ.W   #2,D1
00001AF4  3439 00003524            800              MOVE.W  (PMPOSY),D2
00001AFA  4E4F                     801              TRAP    #15
00001AFC                           802  
00001AFC  4E75                     803              RTS
00001AFE                           804              
00001AFE                           805  .SET_MOUTHRIGHT
00001AFE                           806              
00001AFE  303C 0051                807              MOVE.W  #81,D0                         ;SET BLACK
00001B02  7200                     808              MOVE.L  #$0000,D1
00001B04  4E4F                     809              TRAP    #15
00001B06                           810              
00001B06  303C 0059                811              MOVE.W  #89,D0                         ;FILL
00001B0A  3239 00003522            812              MOVE.W  (PMPOSX),D1
00001B10  5441                     813              ADDQ.W   #2,D1
00001B12  3439 00003524            814              MOVE.W  (PMPOSY),D2
00001B18  4E4F                     815              TRAP    #15
00001B1A                           816  
00001B1A  4E75                     817              RTS
00001B1C                           818  
00001B1C                           819  .SET_MOUTHUP
00001B1C                           820              
00001B1C  303C 0051                821              MOVE.W  #81,D0                         ;SET BLACK
00001B20  7200                     822              MOVE.L  #$0000,D1
00001B22  4E4F                     823              TRAP    #15
00001B24                           824              
00001B24  303C 0059                825              MOVE.W  #89,D0                         ;FILL
00001B28  3239 00003522            826              MOVE.W  (PMPOSX),D1
00001B2E  3439 00003524            827              MOVE.W  (PMPOSY),D2
00001B34  5542                     828              SUBQ.W   #2,D2
00001B36  4E4F                     829              TRAP    #15
00001B38                           830  
00001B38  4E75                     831              RTS
00001B3A                           832  
00001B3A                           833  .SET_MOUTHDOWN
00001B3A                           834              
00001B3A  303C 0051                835              MOVE.W  #81,D0                         ;SET BLACK
00001B3E  7200                     836              MOVE.L  #$0000,D1
00001B40  4E4F                     837              TRAP    #15
00001B42                           838              
00001B42  303C 0059                839              MOVE.W  #89,D0                         ;FILL
00001B46  3239 00003522            840              MOVE.W  (PMPOSX),D1
00001B4C  3439 00003524            841              MOVE.W  (PMPOSY),D2
00001B52  5442                     842              ADDQ.W   #2,D2
00001B54  4E4F                     843              TRAP    #15
00001B56                           844  
00001B56  4E75                     845              RTS
00001B58                           846  
00001B58                           847  
00001B58                           848  
00001B58                           849  
00001B58                           850  
00001B58                           851  
00001B58                           852  
00001B58                           853  
00001B58                           854  
00001B58                           855  
00001B58                           856  
00001B58                           857  
00001B58                           858  
00001B58                           859  
00001B58                           860  
00001B58                           861  
00001B58                           862  
00001B58                           863  
00001B58                           864  
00001B58                           865  
00001B58                           866  
00001B58                           867  
00001B58                           868  
00001B58                           869  
00001B58                           870  
00001B58                           871  
00001B58                           872  
00001B58                           873  -------------------- end include --------------------
00001B58                           874              INCLUDE "SCORE.X68"
00001B58                           875  ; ==============================================================================
00001B58                           876  ; SCOREBOARD MANAGEMENT
00001B58                           877  ; ==============================================================================
00001B58                           878              
00001B58                           879  ; ------------------------------------------------------------------------------
00001B58                           880  SCOINIT
00001B58                           881  ; INITIALIZE SCOREBOARD
00001B58                           882  ; INPUT    : NONE 
00001B58                           883  ; OUTPUT   : NONE
00001B58                           884  ; MODIFIES : NONE
00001B58                           885  ; ------------------------------------------------------------------------------
00001B58  4279 0000353C            886              CLR.W   (SCOPOINTS)
00001B5E  33FC 0003 0000353A       887              MOVE.W  #3,(SCOLIFE)
00001B66  4E75                     888              RTS
00001B68                           889              
00001B68                           890  ; ------------------------------------------------------------------------------
00001B68                           891  SCOPLOT
00001B68                           892  ; PLOT THE SCOREBOARD
00001B68                           893  ; INPUT    : NONE 
00001B68                           894  ; OUTPUT   : NONE
00001B68                           895  ; MODIFIES : NONE
00001B68                           896  ; ------------------------------------------------------------------------------
00001B68                           897              
00001B68  48E7 C040                898               MOVEM.L D0-D1/A1,-(A7)
00001B6C                           899  
00001B6C                           900              ; SET BACKGROUND COLOR
00001B6C  103C 0051                901              MOVE.B  #81,D0
00001B70  7200                     902              MOVE.L  #SCOFCOL,D1
00001B72  4E4F                     903              TRAP    #15
00001B74                           904              
00001B74                           905              ; SET FIRST LINE POSITION
00001B74  103C 000B                906              MOVE.B  #11,D0
00001B78  323C 0101                907              MOVE.W  #SCOLINE1,D1
00001B7C  4E4F                     908              TRAP    #15
00001B7E                           909  
00001B7E                           910              ; PRINT FIRST LINE
00001B7E  43F9 00001BB6            911              LEA     .TXT1,A1            ;PUT FIRST STRING IN A1
00001B84  4281                     912              CLR.L   D1
00001B86  3239 0000353C            913              MOVE.W  (SCOPOINTS),D1
00001B8C  103C 0011                914              MOVE.B  #17,D0
00001B90  4E4F                     915              TRAP    #15
00001B92                           916  
00001B92                           917              ; SET SECOND LINE POSITION
00001B92  103C 000B                918              MOVE.B  #11,D0
00001B96  323C 0102                919              MOVE.W  #SCOLINE2,D1       
00001B9A  4E4F                     920              TRAP    #15
00001B9C                           921  
00001B9C                           922              ; PRINT SECOND LINE
00001B9C  43F9 00001BBF            923              LEA     .TXT2,A1
00001BA2  4281                     924              CLR.L   D1
00001BA4  3239 0000353A            925              MOVE.W  (SCOLIFE),D1
00001BAA  103C 0011                926              MOVE.B  #17,D0
00001BAE  4E4F                     927              TRAP    #15
00001BB0                           928              
00001BB0  4CDF 0203                929              MOVEM.L (A7)+,D0-D1/A1
00001BB4                           930              
00001BB4  4E75                     931              RTS
00001BB6                           932  
00001BB6= 50 4F 49 4E 54 53 ...    933  .TXT1       DC.B    'POINTS :',0      ;0 IS END OF STRING
00001BBF= 4C 49 46 45 53 20 ...    934  .TXT2       DC.B    'LIFES  :',0
00001BC8                           935  
00001BC8                           936  
00001BC8  4E75                     937              RTS
00001BCA                           938  
00001BCA                           939  
00001BCA                           940  -------------------- end include --------------------
00001BCA                           941              INCLUDE "SYSCONST.X68"
00001BCA                           942  ; ==============================================================================
00001BCA                           943  ; SYSTEM CONSTANTS
00001BCA                           944  ; ==============================================================================
00001BCA                           945  
00001BCA                           946  ; --- SCREEN RELATED CONSTANTS -------------------------------------------------
00001BCA                           947  
00001BCA  =00000280                948  SCRWIDTH    EQU     640                     ; SCREEN WIDTH
00001BCA  =00000280                949  SCRHEIGH    EQU     640                     ; SCREEN HEIGHT
00001BCA                           950  
00001BCA                           951  ;--- TITLE RELATED CONSTANTS ---------------------------------------------------
00001BCA= 74 69 74 6C 65 2E ...    952  FILENAME    DC.B    'title.txt',0
00001BD4  =00000A8C                953  FILESIZE    EQU     2700
00001BD4                           954              DS.B    0                       
00001BD4                           955  ;---KEYCODES--------------------------------------------------------------------
00001BD4                           956  
00001BD4  =00000025                957  KBDLEFT     EQU     $25
00001BD4  =00000026                958  KBDUP       EQU     $26
00001BD4  =00000027                959  KBDRIGHT    EQU     $27
00001BD4  =00000028                960  KBDDOWN     EQU     $28
00001BD4  =00000020                961  KBDFIRE1    EQU     ' '
00001BD4  =0000004D                962  KBDFIRE2    EQU     'M'                         
00001BD4  =00000010                963  KBDFIRE3    EQU     $10
00001BD4  =00000050                964  KBDPAUSE    EQU     'P'
00001BD4                           965  
00001BD4                           966  
00001BD4                           967  
00001BD4                           968  
00001BD4                           969  
00001BD4                           970  
00001BD4                           971  
00001BD4                           972  
00001BD4                           973  
00001BD4                           974  
00001BD4                           975  -------------------- end include --------------------
00001BD4                           976              INCLUDE "SYSTEM.X68"
00001BD4                           977  ; ==============================================================================
00001BD4                           978  ; SYSTEM
00001BD4                           979  ; ==============================================================================
00001BD4                           980              
00001BD4                           981  ; ------------------------------------------------------------------------------
00001BD4                           982  SYSINIT
00001BD4                           983  ; INITIALIZE SYSTEM.
00001BD4                           984  ; INPUT    : NONE
00001BD4                           985  ; OUTPUT   : NONE
00001BD4                           986  ; MODIFIES : NONE
00001BD4                           987  ; ------------------------------------------------------------------------------
00001BD4                           988              
00001BD4  21FC 00001C44 0080       989              MOVE.L  #SCRUPD,($80+0*4)          ;INSTALL SUBRUTINE TO TRAP #0
00001BDC  21FC 00001C7A 0084       990              MOVE.L  #KBDUPD,($80+1*4)          ;INSTALL SUBRUTINE TO TRAP #1
00001BE4                           991              
00001BE4                           992              
00001BE4  21FC 00001C5E 0064       993              MOVE.L  #SCRTIM,($60+1*4)          ;INSTALL INTERRUPT #1
00001BEC                           994              
00001BEC  4EB9 00001C00            995              JSR     SCRINIT
00001BF2  4EB9 00001C6C            996              JSR     KBDINIT
00001BF8                           997              
00001BF8                           998              
00001BF8  40E7                     999              MOVE.W  SR,-(A7)
00001BFA  0257 D8FF               1000              ANDI.W  #$D8FF,(A7)                ;BIT SUPERVISOR TO O AND INTERRPUT MASK 000 (FOR REACTIVATE INTERRUPTIONS)             
00001BFE  4E73                    1001              RTE
00001C00                          1002     
00001C00                          1003  ; ------------------------------------------------------------------------------
00001C00                          1004  SCRINIT
00001C00                          1005  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN, ENABLE BUFFER
00001C00                          1006  ; ENABLE TIMED INTERRUPTION
00001C00                          1007  ; INPUT    : NONE
00001C00                          1008  ; OUTPUT   : NONE
00001C00                          1009  ; MODIFIES : NONE
00001C00                          1010  ; ------------------------------------------------------------------------------
00001C00                          1011  
00001C00  48E7 C000               1012              MOVEM.L D0-D1,-(A7)                 ;SAFE REGISTERS IN STACK
00001C04                          1013  
00001C04                          1014              ; SET SCREEN RESOLUTION
00001C04  103C 0021               1015              MOVE.B  #33,D0
00001C08  223C 02800280           1016              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
00001C0E  4E4F                    1017              TRAP    #15
00001C10                          1018              
00001C10                          1019              ; SET WINDOWED MODE
00001C10  7201                    1020              MOVE.L  #1,D1
00001C12  4E4F                    1021              TRAP    #15
00001C14                          1022              
00001C14                          1023              ; ENABLE DOUBLE BUFFER
00001C14  103C 005C               1024              MOVE.B  #92,D0
00001C18  123C 0011               1025              MOVE.B  #17,D1
00001C1C  4E4F                    1026              TRAP    #15
00001C1E                          1027              
00001C1E                          1028              ; CLEAR SCREEN
00001C1E  103C 000B               1029              MOVE.B  #11,D0
00001C22  323C FF00               1030              MOVE.W  #$FF00,D1
00001C26  4E4F                    1031              TRAP    #15
00001C28                          1032              
00001C28                          1033              ;ENABLE TIMED INTERRPUT
00001C28  303C 0020               1034              MOVE.W  #32,D0
00001C2C  123C 0006               1035              MOVE.B  #6,D1
00001C30  143C 0081               1036              MOVE.B  #$81,D2                   ;INDICATE THAT INTERRUPT 1 IS ACTIVATED PERIODICALLY
00001C34  7614                    1037              MOVE.L  #20,D3                    ;INDICATE THE MILISECONDS FOR THAT PERIOD (20 ms == 50 FPS)
00001C36  4E4F                    1038              TRAP    #15
00001C38                          1039              
00001C38                          1040              ;CLEAR INTERRUPT COUNTER
00001C38  4239 00002692           1041              CLR.B   (SCRINTCT)
00001C3E                          1042              
00001C3E  4CDF 0003               1043              MOVEM.L (A7)+,D0-D1               ;RESTORE REGISTERS FROM STACK
00001C42                          1044              
00001C42  4E75                    1045              RTS
00001C44                          1046  
00001C44                          1047  
00001C44                          1048              
00001C44                          1049  ;------------------------------------------------------------------------------            
00001C44                          1050  SCRUPD
00001C44                          1051  ; UPDATES DOUBLE BUFFER
00001C44                          1052  ; INPUT    : NONE
00001C44                          1053  ; OUTPUT   : NONE
00001C44                          1054  ; MODIFIES : NONE
00001C44                          1055  ; ------------------------------------------------------------------------------
00001C44                          1056  
00001C44  48E7 C000               1057              MOVEM.L D0-D1,-(A7)
00001C48                          1058              
00001C48                          1059              ;SWITCH BUFFERS
00001C48  103C 005E               1060              MOVE.B #94,D0
00001C4C  4E4F                    1061              TRAP #15
00001C4E                          1062              
00001C4E                          1063              ;CLEAR HIDDEN BUFFER
00001C4E  103C 000B               1064              MOVE.B  #11,D0
00001C52  323C FF00               1065              MOVE.W  #$FF00,D1
00001C56  4E4F                    1066              TRAP    #15
00001C58                          1067              
00001C58  4CDF 0003               1068              MOVEM.L (A7)+,D0-D1
00001C5C                          1069              
00001C5C  4E73                    1070              RTE
00001C5E                          1071              
00001C5E                          1072  ; ------------------------------------------------------------------------------
00001C5E                          1073  SCRTIM
00001C5E                          1074  ; TIMED INTERRUPT SERVICE ROUTINE
00001C5E                          1075  ; INPUT    : NONE
00001C5E                          1076  ; OUTPUT   : NONE
00001C5E                          1077  ; MODIFIES : NONE
00001C5E                          1078  ; ------------------------------------------------------------------------------
00001C5E  5239 00002692           1079              ADDQ.B  #1,(SCRINTCT)
00001C64  5239 00002693           1080              ADDQ.B  #1,(SCRCYCCT)
00001C6A  4E73                    1081              RTE
00001C6C                          1082              
00001C6C                          1083  ;------------------------------------------------------------------------------            
00001C6C                          1084  KBDINIT
00001C6C                          1085  ; INIT THE KEYBOARD
00001C6C                          1086  ; INPUT    : NONE
00001C6C                          1087  ; OUTPUT   : NONE
00001C6C                          1088  ; MODIFIES : NONE
00001C6C                          1089  ; ------------------------------------------------------------------------------
00001C6C                          1090  
00001C6C  4239 00002690           1091              CLR.B   (KBDVAL)
00001C72  4239 00002691           1092              CLR.B   (KBDEDGE)
00001C78                          1093  
00001C78  4E75                    1094              RTS
00001C7A                          1095  
00001C7A                          1096  ;------------------------------------------------------------------------------            
00001C7A                          1097  KBDUPD
00001C7A                          1098  ; UPDATES KEYBOARD INFO
00001C7A                          1099  ; 3 -> DOWN     (HEX: 8)
00001C7A                          1100  ; 2 -> RIGHT    (HEX: 4)
00001C7A                          1101  ; 1 -> UP       (HEX: 2)
00001C7A                          1102  ; 0 -> LEFT     (HEX: 1)
00001C7A                          1103  ; ------------------------------------------------------------------------------
00001C7A                          1104              
00001C7A  48E7 F800               1105              MOVEM.L D0-D4,-(A7)
00001C7E                          1106              
00001C7E                          1107              ; READ FIRST PART
00001C7E  103C 0013               1108              MOVE.B  #19,D0
00001C82  223C 50104D20           1109              MOVE.L  #KBDPAUSE<<24|KBDFIRE3<<16|KBDFIRE2<<8|KBDFIRE1,D1
00001C88  4E4F                    1110              TRAP    #15
00001C8A                          1111  
00001C8A                          1112              ; CONVERT TO DESIRED FORMAT
00001C8A  4EB9 00001CC2           1113              JSR     .CONVERT
00001C90                          1114  
00001C90                          1115              ; READ SECOND PART
00001C90  223C 28272625           1116              MOVE.L  #KBDDOWN<<24|KBDRIGHT<<16|KBDUP<<8|KBDLEFT,D1
00001C96  4E4F                    1117              TRAP    #15
00001C98                          1118              
00001C98                          1119              ;CONVERT TO DESIRED FORMAT
00001C98  4EB9 00001CC2           1120              JSR .CONVERT
00001C9E                          1121  
00001C9E                          1122              ;GET KBDEDGE (IF SOME KEY HAVE CHANGED THE VALUE)
00001C9E  1039 00002690           1123              MOVE.B  (KBDVAL),D0             ;D0 -> LAST KBDVAL
00001CA4  4600                    1124              NOT.B   D0                      ;D2 -> ACTUAL KBDVAL
00001CA6  C002                    1125              AND.B   D2,D0
00001CA8  13C0 00002691           1126              MOVE.B  D0,(KBDEDGE)
00001CAE                          1127              
00001CAE                          1128         
00001CAE  B03C 0000               1129              CMP.B   #0,D0
00001CB2  6700 0008               1130              BEQ     .NOACT          
00001CB6                          1131              
00001CB6                          1132              ;STORE NEW KBDVAL
00001CB6  13C2 00002690           1133              MOVE.B  D2,(KBDVAL)
00001CBC                          1134  .NOACT
00001CBC                          1135              
00001CBC  4CDF 001F               1136              MOVEM.L (A7)+,D0-D4
00001CC0                          1137              
00001CC0  4E73                    1138              RTE    
00001CC2                          1139              
00001CC2                          1140  .CONVERT 
00001CC2  363C 0003               1141              MOVE.W  #3,D3
00001CC6                          1142              
00001CC6  E189                    1143  .LOOP       LSL.L   #8,D1
00001CC8  E312                    1144              ROXL.B  #1,D2
00001CCA  51CB FFFA               1145              DBRA.W  D3,.LOOP
00001CCE  4E75                    1146              RTS
00001CD0                          1147             
00001CD0                          1148  
00001CD0                          1149  ;------------------------------------------------------------------------------            
00001CD0                          1150  COLWALLRIGHT
00001CD0                          1151  ; COLLISION PAC-MAN WITH WALL
00001CD0                          1152  ; INPUT    : NONE
00001CD0                          1153  ; OUTPUT   : NONE
00001CD0                          1154  ; MODIFIES : NONE
00001CD0                          1155  ; ------------------------------------------------------------------------------
00001CD0                          1156  
00001CD0  48E7 F800               1157              MOVEM.L D0-D4,-(A7)
00001CD4                          1158  
00001CD4  3039 00003522           1159              MOVE.W  (PMPOSX),D0
00001CDA  5140                    1160              SUB.W   #8,D0
00001CDC  3239 00003524           1161              MOVE.W  (PMPOSY),D1
00001CE2  5041                    1162              ADD.W   #8,D1
00001CE4                          1163              
00001CE4  81FC 0010               1164              DIVS.W  #16,D0
00001CE8  83FC 0010               1165              DIVS.W  #16,D1
00001CEC                          1166              
00001CEC  5940                    1167              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001CEE  5941                    1168              SUB.W   #4,D1
00001CF0                          1169              
00001CF0  41F9 00002694           1170              LEA.L   MAPVAR,A0
00001CF6                          1171              
00001CF6  5240                    1172              ADD.W   #1,D0
00001CF8  5341                    1173              SUB.W   #1,D1
00001CFA  C2FC 0020               1174              MULU.W  #32,D1
00001CFE  D041                    1175              ADD.W   D1,D0
00001D00                          1176              
00001D00  3240                    1177              MOVE.W  D0,A1
00001D02  13C0 00002A94           1178              MOVE.B  D0,POSCON
00001D08                          1179  
00001D08  1A29 2694               1180              MOVE.B  MAPVAR(A1),D5
00001D0C                          1181              
00001D0C  4CDF 001F               1182              MOVEM.L (A7)+,D0-D4
00001D10                          1183              
00001D10  4E75                    1184              RTS
00001D12                          1185  
00001D12                          1186  
00001D12                          1187  ;------------------------------------------------------------------------------            
00001D12                          1188  COLWALLLEFT
00001D12                          1189  ; COLLISION PAC-MAN WITH WALL
00001D12                          1190  ; INPUT    : NONE
00001D12                          1191  ; OUTPUT   : NONE
00001D12                          1192  ; MODIFIES : NONE
00001D12                          1193  ; ------------------------------------------------------------------------------
00001D12                          1194  
00001D12  48E7 F800               1195              MOVEM.L D0-D4,-(A7)
00001D16                          1196  
00001D16  3039 00003522           1197              MOVE.W  (PMPOSX),D0
00001D1C  5C40                    1198              ADD.W   #6,D0
00001D1E  3239 00003524           1199              MOVE.W  (PMPOSY),D1
00001D24  5041                    1200              ADD.W   #8,D1
00001D26                          1201              
00001D26  81FC 0010               1202              DIVS.W  #16,D0
00001D2A  83FC 0010               1203              DIVS.W  #16,D1
00001D2E                          1204              
00001D2E  5940                    1205              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001D30  5941                    1206              SUB.W   #4,D1
00001D32                          1207              
00001D32  41F9 00002694           1208              LEA.L   MAPVAR,A0
00001D38                          1209              
00001D38  5340                    1210              SUB.W   #1,D0
00001D3A  5341                    1211              SUB.W   #1,D1
00001D3C  C2FC 0020               1212              MULU.W  #32,D1
00001D40  D041                    1213              ADD.W   D1,D0
00001D42                          1214  
00001D42  3240                    1215              MOVE.W  D0,A1
00001D44  13C0 00002A94           1216              MOVE.B  D0,POSCON
00001D4A                          1217  
00001D4A  1A29 2694               1218              MOVE.B  MAPVAR(A1),D5               
00001D4E                          1219  
00001D4E                          1220              
00001D4E  4CDF 001F               1221              MOVEM.L (A7)+,D0-D4
00001D52                          1222              
00001D52  4E75                    1223              RTS
00001D54                          1224  
00001D54                          1225  ;------------------------------------------------------------------------------            
00001D54                          1226  COLWALLDOWN
00001D54                          1227  ; COLLISION PAC-MAN WITH WALL
00001D54                          1228  ; INPUT    : NONE
00001D54                          1229  ; OUTPUT   : NONE
00001D54                          1230  ; MODIFIES : NONE
00001D54                          1231  ; ------------------------------------------------------------------------------
00001D54                          1232  
00001D54  48E7 F800               1233              MOVEM.L D0-D4,-(A7)
00001D58                          1234  
00001D58  3039 00003522           1235              MOVE.W  (PMPOSX),D0
00001D5E                          1236              ;ADD.W   #8,D0
00001D5E  3239 00003524           1237              MOVE.W  (PMPOSY),D1
00001D64  5041                    1238              ADD.W   #8,D1
00001D66                          1239              
00001D66  81FC 0010               1240              DIVS.W  #16,D0
00001D6A  83FC 0010               1241              DIVS.W  #16,D1
00001D6E                          1242              
00001D6E  5940                    1243              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001D70  5941                    1244              SUB.W   #4,D1
00001D72                          1245              
00001D72  41F9 00002694           1246              LEA.L   MAPVAR,A0
00001D78                          1247              
00001D78  C2FC 0020               1248              MULU.W  #32,D1
00001D7C  D041                    1249              ADD.W   D1,D0
00001D7E                          1250  
00001D7E  3240                    1251              MOVE.W  D0,A1
00001D80  13C0 00002A94           1252              MOVE.B  D0,POSCON
00001D86                          1253  
00001D86  1A29 2694               1254              MOVE.B  MAPVAR(A1),D5 
00001D8A                          1255  
00001D8A                          1256              
00001D8A  4CDF 001F               1257              MOVEM.L (A7)+,D0-D4
00001D8E                          1258              
00001D8E  4E75                    1259              RTS
00001D90                          1260  
00001D90                          1261  
00001D90                          1262  ;------------------------------------------------------------------------------            
00001D90                          1263  COLWALLUP
00001D90                          1264  ; COLLISION PAC-MAN WITH WALL
00001D90                          1265  ; INPUT    : NONE
00001D90                          1266  ; OUTPUT   : NONE
00001D90                          1267  ; MODIFIES : NONE
00001D90                          1268  ; ------------------------------------------------------------------------------
00001D90                          1269  
00001D90  48E7 F800               1270              MOVEM.L D0-D4,-(A7)
00001D94                          1271  
00001D94  3039 00003522           1272              MOVE.W  (PMPOSX),D0
00001D9A                          1273              ;SUB.W   #8,D0
00001D9A  3239 00003524           1274              MOVE.W  (PMPOSY),D1
00001DA0  5C41                    1275              ADD.W   #6,D1
00001DA2                          1276              
00001DA2                          1277              
00001DA2  81FC 0010               1278              DIVS.W  #16,D0
00001DA6  83FC 0010               1279              DIVS.W  #16,D1
00001DAA                          1280              
00001DAA  5940                    1281              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001DAC  5941                    1282              SUB.W   #4,D1
00001DAE                          1283              
00001DAE  41F9 00002694           1284              LEA.L   MAPVAR,A0
00001DB4                          1285              
00001DB4  5341                    1286              SUB.W   #1,D1
00001DB6                          1287              ;CMP     #1,D1
00001DB6                          1288              ;BLO     BUCLE4
00001DB6  C2FC 0020               1289              MULU.W  #32,D1
00001DBA  D041                    1290              ADD.W   D1,D0
00001DBC                          1291  
00001DBC                          1292  ;BUCLE4            
00001DBC  3240                    1293              MOVE.W  D0,A1
00001DBE  13C0 00002A94           1294              MOVE.B  D0,POSCON
00001DC4                          1295  
00001DC4  1A29 2694               1296              MOVE.B  MAPVAR(A1),D5 
00001DC8                          1297  
00001DC8                          1298              ;MOVE.B  #0,D5
00001DC8                          1299              
00001DC8  4CDF 001F               1300              MOVEM.L (A7)+,D0-D4
00001DCC                          1301              
00001DCC  4E75                    1302              RTS
00001DCE                          1303  
00001DCE                          1304  ;------------------------------------------------------------------------------            
00001DCE                          1305  GSTCOLWALLRIGHT
00001DCE                          1306  ; COLLISION PAC-MAN WITH WALL
00001DCE                          1307  ; INPUT    : NONE
00001DCE                          1308  ; OUTPUT   : NONE
00001DCE                          1309  ; MODIFIES : NONE
00001DCE                          1310  ; ------------------------------------------------------------------------------
00001DCE                          1311  
00001DCE  48E7 F800               1312              MOVEM.L D0-D4,-(A7)
00001DD2                          1313  
00001DD2  3039 0000352C           1314              MOVE.W  (GSTPOSX),D0
00001DD8  5140                    1315              SUB.W   #8,D0
00001DDA  3239 0000352E           1316              MOVE.W  (GSTPOSY),D1
00001DE0  5041                    1317              ADD.W   #8,D1
00001DE2                          1318              
00001DE2  81FC 0010               1319              DIVS.W  #16,D0
00001DE6  83FC 0010               1320              DIVS.W  #16,D1
00001DEA                          1321              
00001DEA  5940                    1322              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001DEC  5941                    1323              SUB.W   #4,D1
00001DEE                          1324              
00001DEE  41F9 00002694           1325              LEA.L   MAPVAR,A0
00001DF4                          1326              
00001DF4  5240                    1327              ADD.W   #1,D0
00001DF6  5341                    1328              SUB.W   #1,D1
00001DF8  C2FC 0020               1329              MULU.W  #32,D1
00001DFC  D041                    1330              ADD.W   D1,D0
00001DFE                          1331              
00001DFE  3240                    1332              MOVE.W  D0,A1
00001E00                          1333  
00001E00  1A29 2694               1334              MOVE.B  MAPVAR(A1),D5
00001E04                          1335              
00001E04  4CDF 001F               1336              MOVEM.L (A7)+,D0-D4
00001E08                          1337              
00001E08  4E75                    1338              RTS
00001E0A                          1339  
00001E0A                          1340  
00001E0A                          1341  ;------------------------------------------------------------------------------            
00001E0A                          1342  GSTCOLWALLLEFT
00001E0A                          1343  ; COLLISION PAC-MAN WITH WALL
00001E0A                          1344  ; INPUT    : NONE
00001E0A                          1345  ; OUTPUT   : NONE
00001E0A                          1346  ; MODIFIES : NONE
00001E0A                          1347  ; ------------------------------------------------------------------------------
00001E0A                          1348  
00001E0A  48E7 F800               1349              MOVEM.L D0-D4,-(A7)
00001E0E                          1350  
00001E0E  3039 0000352C           1351              MOVE.W  (GSTPOSX),D0
00001E14  5C40                    1352              ADD.W   #6,D0
00001E16  3239 0000352E           1353              MOVE.W  (GSTPOSY),D1
00001E1C  5041                    1354              ADD.W   #8,D1
00001E1E                          1355              
00001E1E  81FC 0010               1356              DIVS.W  #16,D0
00001E22  83FC 0010               1357              DIVS.W  #16,D1
00001E26                          1358              
00001E26  5940                    1359              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001E28  5941                    1360              SUB.W   #4,D1
00001E2A                          1361              
00001E2A  41F9 00002694           1362              LEA.L   MAPVAR,A0
00001E30                          1363              
00001E30  5340                    1364              SUB.W   #1,D0
00001E32  5341                    1365              SUB.W   #1,D1
00001E34  C2FC 0020               1366              MULU.W  #32,D1
00001E38  D041                    1367              ADD.W   D1,D0
00001E3A                          1368  
00001E3A  3240                    1369              MOVE.W  D0,A1
00001E3C  1A29 2694               1370              MOVE.B  MAPVAR(A1),D5               
00001E40                          1371  
00001E40                          1372              
00001E40  4CDF 001F               1373              MOVEM.L (A7)+,D0-D4
00001E44                          1374              
00001E44  4E75                    1375              RTS
00001E46                          1376  
00001E46                          1377  ;------------------------------------------------------------------------------            
00001E46                          1378  GSTCOLWALLDOWN
00001E46                          1379  ; COLLISION PAC-MAN WITH WALL
00001E46                          1380  ; INPUT    : NONE
00001E46                          1381  ; OUTPUT   : NONE
00001E46                          1382  ; MODIFIES : NONE
00001E46                          1383  ; ------------------------------------------------------------------------------
00001E46                          1384  
00001E46  48E7 F800               1385              MOVEM.L D0-D4,-(A7)
00001E4A                          1386  
00001E4A  3039 0000352C           1387              MOVE.W  (GSTPOSX),D0
00001E50                          1388              ;ADD.W   #8,D0
00001E50  3239 0000352E           1389              MOVE.W  (GSTPOSY),D1
00001E56  5041                    1390              ADD.W   #8,D1
00001E58                          1391              
00001E58  81FC 0010               1392              DIVS.W  #16,D0
00001E5C  83FC 0010               1393              DIVS.W  #16,D1
00001E60                          1394              
00001E60  5940                    1395              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001E62  5941                    1396              SUB.W   #4,D1
00001E64                          1397              
00001E64  41F9 00002694           1398              LEA.L   MAPVAR,A0
00001E6A                          1399              
00001E6A  C2FC 0020               1400              MULU.W  #32,D1
00001E6E  D041                    1401              ADD.W   D1,D0
00001E70                          1402  
00001E70  3240                    1403              MOVE.W  D0,A1
00001E72  1A29 2694               1404              MOVE.B  MAPVAR(A1),D5 
00001E76                          1405  
00001E76                          1406              
00001E76  4CDF 001F               1407              MOVEM.L (A7)+,D0-D4
00001E7A                          1408              
00001E7A  4E75                    1409              RTS
00001E7C                          1410  
00001E7C                          1411  
00001E7C                          1412  ;------------------------------------------------------------------------------            
00001E7C                          1413  GSTCOLWALLUP
00001E7C                          1414  ; COLLISION PAC-MAN WITH WALL
00001E7C                          1415  ; INPUT    : NONE
00001E7C                          1416  ; OUTPUT   : NONE
00001E7C                          1417  ; MODIFIES : NONE
00001E7C                          1418  ; ------------------------------------------------------------------------------
00001E7C                          1419  
00001E7C  48E7 F800               1420              MOVEM.L D0-D4,-(A7)
00001E80                          1421  
00001E80  3039 0000352C           1422              MOVE.W  (GSTPOSX),D0
00001E86                          1423              ;SUB.W   #8,D0
00001E86  3239 0000352E           1424              MOVE.W  (GSTPOSY),D1
00001E8C  5C41                    1425              ADD.W   #6,D1
00001E8E                          1426              
00001E8E                          1427              
00001E8E  81FC 0010               1428              DIVS.W  #16,D0
00001E92  83FC 0010               1429              DIVS.W  #16,D1
00001E96                          1430              
00001E96  5940                    1431              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001E98  5941                    1432              SUB.W   #4,D1
00001E9A                          1433              
00001E9A  41F9 00002694           1434              LEA.L   MAPVAR,A0
00001EA0                          1435              
00001EA0  5341                    1436              SUB.W   #1,D1
00001EA2                          1437  
00001EA2  C2FC 0020               1438              MULU.W  #32,D1
00001EA6  D041                    1439              ADD.W   D1,D0
00001EA8                          1440  
00001EA8  3240                    1441              MOVE.W  D0,A1
00001EAA                          1442  
00001EAA  1A29 2694               1443              MOVE.B  MAPVAR(A1),D5 
00001EAE                          1444  
00001EAE                          1445              ;MOVE.B  #0,D5
00001EAE                          1446              
00001EAE  4CDF 001F               1447              MOVEM.L (A7)+,D0-D4
00001EB2                          1448              
00001EB2  4E75                    1449              RTS
00001EB4                          1450  ;------------------------------------------------------------------------------            
00001EB4                          1451  GETPOINTS
00001EB4                          1452  ; COLLISION PAC-MAN WITH WALL
00001EB4                          1453  ; INPUT    : NONE
00001EB4                          1454  ; OUTPUT   : NONE
00001EB4                          1455  ; MODIFIES : NONE
00001EB4                          1456  ; ------------------------------------------------------------------------------
00001EB4                          1457  
00001EB4  48E7 F800               1458              MOVEM.L D0-D4,-(A7)
00001EB8                          1459  
00001EB8  3039 00003522           1460              MOVE.W  (PMPOSX),D0
00001EBE                          1461              ;SUB.W   #8,D0
00001EBE  3239 00003524           1462              MOVE.W  (PMPOSY),D1
00001EC4  0641 0010               1463              ADD.W   #16,D1
00001EC8                          1464              
00001EC8                          1465              
00001EC8  81FC 0010               1466              DIVS.W  #16,D0
00001ECC  83FC 0010               1467              DIVS.W  #16,D1
00001ED0                          1468              
00001ED0  5940                    1469              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001ED2  5941                    1470              SUB.W   #4,D1
00001ED4                          1471                          
00001ED4  5341                    1472              SUB.W   #1,D1
00001ED6  C2FC 0020               1473              MULU.W  #32,D1
00001EDA  D041                    1474              ADD.W   D1,D0
00001EDC                          1475  
00001EDC  3240                    1476              MOVE.W  D0,A1
00001EDE  1A29 2694               1477              MOVE.B  MAPVAR(A1),D5
00001EE2                          1478              
00001EE2  BA7C 0000               1479              CMP     #0,D5
00001EE6  6700 003A               1480              BEQ     .DONE
00001EEA  BA7C 0002               1481              CMP     #2,D5
00001EEE  6700 0020               1482              BEQ     .POINT
00001EF2  BA7C 0003               1483              CMP     #3,D5
00001EF6  6700 0006               1484              BEQ     .BPOINT
00001EFA  6600 0026               1485              BNE     .DONE
00001EFE                          1486  .BPOINT
00001EFE  137C 0000 2694          1487              MOVE.B  #0,MAPVAR(A1)
00001F04  0679 0032 0000353C      1488              ADD.W   #50,(SCOPOINTS)
00001F0C  6600 0014               1489              BNE     .DONE
00001F10                          1490  .POINT
00001F10  137C 0000 2694          1491              MOVE.B  #0,MAPVAR(A1)
00001F16  0679 000A 0000353C      1492              ADD.W   #10,(SCOPOINTS)
00001F1E  6600 0002               1493              BNE     .DONE            
00001F22                          1494  .DONE                        
00001F22  4CDF 001F               1495              MOVEM.L (A7)+,D0-D4
00001F26                          1496              
00001F26  4E75                    1497              RTS
00001F28                          1498  
00001F28                          1499  
00001F28                          1500  
00001F28                          1501  
00001F28                          1502  
00001F28                          1503  
00001F28                          1504  -------------------- end include --------------------
00001F28                          1505              INCLUDE "MAP.X68"
00001F28                          1506  
00001F28                          1507  ; ------------------------------------------------------------------------------
00001F28                          1508  MAPINIT
00001F28                          1509  ; INIT MAP
00001F28                          1510  ; INPUT    : NONE
00001F28                          1511  ; OUTPUT   : NONE
00001F28                          1512  ; MODIFIES : NONE
00001F28                          1513  ; ------------------------------------------------------------------------------            
00001F28                          1514              
00001F28                          1515              ;MOVE.L  #DIBFIGWALL,($80+2*4)          ;INSTALL SUBRUTINE TO TRAP #2
00001F28                          1516              ;MOVE.L  #DIBFIGPOINT,($80+3*4)          ;INSTALL SUBRUTINE TO TRAP #3
00001F28                          1517              ;MOVE.L  #DIBFIGBPOINT,($80+4*4)          ;INSTALL SUBRUTINE TO TRAP #4
00001F28                          1518              
00001F28  48E7 FE00               1519              MOVEM.L D0-D6,-(A7)
00001F2C  48E7 00C0               1520              MOVEM.L A0-A1,-(A7)
00001F30                          1521              
00001F30  41F8 1008               1522              LEA.L   MAPMAT,A0
00001F34  43F9 00002694           1523              LEA.L   MAPVAR,A1
00001F3A  3C3C 0030               1524              MOVE.W  #48,D6
00001F3E  343C 001F               1525              MOVE.W  #31,D2
00001F42                          1526  BUCLE_FILA
00001F42  3A3C 0030               1527              MOVE.W  #48,D5
00001F46  323C 001F               1528              MOVE.W  #31,D1
00001F4A  0646 0010               1529              ADD.W   #16,D6
00001F4E                          1530  
00001F4E                          1531  BUCLE_COLUMNA
00001F4E  0645 0010               1532              ADD.W   #16,D5
00001F52                          1533  
00001F52  1018                    1534              MOVE.B  (A0)+,D0
00001F54  12C0                    1535              MOVE.B  D0,(A1)+
00001F56                          1536               
00001F56  B07C 0000               1537              CMP     #0,D0
00001F5A  6700 0034               1538              BEQ     ZERO
00001F5E  B07C 0004               1539              CMP     #4,D0
00001F62  6700 002C               1540              BEQ     ZERO
00001F66  B07C 0001               1541              CMP     #1,D0
00001F6A  6600 0008               1542              BNE     NOTWALL
00001F6E  4EB9 00002016           1543              JSR     DIBFIGWALL
00001F74                          1544  NOTWALL
00001F74  B07C 0002               1545              CMP     #2,D0
00001F78  6600 0008               1546              BNE     NOTPOINT
00001F7C  4EB9 0000204E           1547              JSR     DIBFIGPOINT
00001F82                          1548  NOTPOINT
00001F82  B07C 0003               1549              CMP     #3,D0
00001F86  6600 0008               1550              BNE     ZERO
00001F8A  4EB9 0000208A           1551              JSR     DIBFIGBPOINT
00001F90                          1552           
00001F90                          1553  ZERO
00001F90  51C9 FFBC               1554              DBRA    D1,BUCLE_COLUMNA  
00001F94  51CA FFAC               1555              DBRA    D2,BUCLE_FILA
00001F98                          1556              
00001F98  4CDF 0300               1557              MOVEM.L (A7)+,A0-A1
00001F9C  4CDF 007F               1558              MOVEM.L (A7)+,D0-D6
00001FA0                          1559  
00001FA0                          1560  
00001FA0                          1561              
00001FA0  4E75                    1562              RTS            
00001FA2                          1563  
00001FA2                          1564  ; ------------------------------------------------------------------------------
00001FA2                          1565  MAPPLOT
00001FA2                          1566  ; INIT MAP
00001FA2                          1567  ; INPUT    : NONE
00001FA2                          1568  ; OUTPUT   : NONE
00001FA2                          1569  ; MODIFIES : NONE
00001FA2                          1570  ; ------------------------------------------------------------------------------            
00001FA2                          1571  
00001FA2  48E7 FE00               1572              MOVEM.L D0-D6,-(A7)
00001FA6  48E7 0080               1573              MOVEM.L A0,-(A7)
00001FAA                          1574  
00001FAA  41F9 00002694           1575              LEA.L   MAPVAR,A0
00001FB0  3C3C 0030               1576              MOVE.W  #48,D6
00001FB4  343C 001F               1577              MOVE.W  #31,D2
00001FB8                          1578  BUCLE_FILA2
00001FB8  3A3C 0030               1579              MOVE.W  #48,D5
00001FBC  323C 001F               1580              MOVE.W  #31,D1
00001FC0  0646 0010               1581              ADD.W   #16,D6
00001FC4                          1582  
00001FC4                          1583  BUCLE_COLUMNA2
00001FC4  0645 0010               1584              ADD.W   #16,D5       
00001FC8                          1585  
00001FC8  1018                    1586              MOVE.B  (A0)+,D0
00001FCA                          1587  
00001FCA  B07C 0000               1588              CMP     #0,D0
00001FCE  6700 0034               1589              BEQ     ZERO2
00001FD2  B07C 0004               1590              CMP     #4,D0
00001FD6  6700 002C               1591              BEQ     ZERO2
00001FDA  B07C 0001               1592              CMP     #1,D0
00001FDE  6600 0008               1593              BNE     NOTWALL2
00001FE2  4EB9 00002016           1594              JSR     DIBFIGWALL
00001FE8                          1595  NOTWALL2
00001FE8  B07C 0002               1596              CMP     #2,D0
00001FEC  6600 0008               1597              BNE     NOTPOINT2
00001FF0  4EB9 0000204E           1598              JSR     DIBFIGPOINT
00001FF6                          1599  NOTPOINT2
00001FF6  B07C 0003               1600              CMP     #3,D0
00001FFA  6600 0008               1601              BNE     ZERO2
00001FFE  4EB9 0000208A           1602              JSR     DIBFIGBPOINT
00002004                          1603  
00002004                          1604     
00002004                          1605  ZERO2
00002004  51C9 FFBE               1606              DBRA    D1,BUCLE_COLUMNA2
00002008                          1607              
00002008  51CA FFAE               1608              DBRA    D2,BUCLE_FILA2
0000200C                          1609              
0000200C  4CDF 0100               1610              MOVEM.L (A7)+,A0
00002010  4CDF 007F               1611              MOVEM.L (A7)+,D0-D6
00002014                          1612              
00002014                          1613              
00002014  4E75                    1614              RTS 
00002016                          1615              
00002016                          1616  ; -----------------------------------------------------------------------------
00002016                          1617  DIBFIGWALL
00002016                          1618  ; SUBRUTINE DRAW MAP
00002016                          1619  ; INPUT    : D5=POSITION X, D6=POSITION Y
00002016                          1620  ; OUTPUT   : NONE
00002016                          1621  ; MODIFIES : NONE
00002016                          1622  ; -----------------------------------------------------------------------------
00002016  48E7 FE00               1623              MOVEM.L D0-D6,-(A7)
0000201A                          1624              ; SET CONTOURN COLOR
0000201A  103C 0050               1625              MOVE.B  #80,D0
0000201E  223C 00AA0000           1626              MOVE.L  #$00AA0000,D1
00002024  4E4F                    1627              TRAP    #15
00002026                          1628              
00002026                          1629              ; SET FILL COLOR
00002026  103C 0051               1630              MOVE.B  #81,D0
0000202A  223C 00FF0000           1631              MOVE.L  #$00FF0000,D1
00002030  4E4F                    1632              TRAP    #15
00002032                          1633              
00002032                          1634              ; DEFINE COORDINATES RECTANGLE
00002032  3205                    1635              MOVE.W  D5,D1
00002034  3406                    1636              MOVE.W  D6,D2
00002036  0645 0010               1637              ADD.W   #16,D5
0000203A  0646 0010               1638              ADD.W   #16,D6
0000203E  3605                    1639              MOVE.W  D5,D3
00002040  3806                    1640              MOVE.W  D6,D4
00002042                          1641              
00002042                          1642              ; DRAW RECTANGLE
00002042  103C 0057               1643              MOVE.B  #87,D0
00002046  4E4F                    1644              TRAP    #15
00002048                          1645              
00002048  4CDF 007F               1646              MOVEM.L (A7)+,D0-D6
0000204C                          1647  
0000204C  4E75                    1648              RTS
0000204E                          1649              
0000204E                          1650  ; -----------------------------------------------------------------------------
0000204E                          1651  DIBFIGPOINT
0000204E                          1652  ; SUBRUTINE DRAW MAP
0000204E                          1653  ; INPUT    : D5=POSITION X, D6=POSITION Y
0000204E                          1654  ; OUTPUT   : NONE
0000204E                          1655  ; MODIFIES : NONE
0000204E                          1656  ; -----------------------------------------------------------------------------
0000204E  48E7 FE00               1657              MOVEM.L D0-D6,-(A7)
00002052                          1658              ; SET CONTOURN COLOR
00002052  103C 0050               1659              MOVE.B  #80,D0
00002056  223C 0000AAAA           1660              MOVE.L  #$0000AAAA,D1
0000205C  4E4F                    1661              TRAP    #15
0000205E                          1662              
0000205E                          1663              ; SET FILL COLOR
0000205E  103C 0051               1664              MOVE.B  #81,D0
00002062  223C 0000FFFF           1665              MOVE.L  #$0000FFFF,D1
00002068  4E4F                    1666              TRAP    #15
0000206A                          1667              
0000206A                          1668              ; DEFINE COORDINATES RECTANGLE
0000206A  3205                    1669              MOVE.W  D5,D1
0000206C  5041                    1670              ADD.W   #8,D1
0000206E  5541                    1671              SUB.W   #2,D1
00002070  3406                    1672              MOVE.W  D6,D2
00002072  5042                    1673              ADD.W   #8,D2
00002074  5542                    1674              SUB.W   #2,D2
00002076                          1675              
00002076  3601                    1676              MOVE.W  D1,D3
00002078  5843                    1677              ADD.W   #2*2,D3
0000207A  3802                    1678              MOVE.W  D2,D4
0000207C  5844                    1679              ADD.W   #2*2,D4
0000207E                          1680              
0000207E                          1681              ; DRAW POINT
0000207E  103C 0058               1682              MOVE.B  #88,D0
00002082  4E4F                    1683              TRAP    #15
00002084                          1684              
00002084  4CDF 007F               1685              MOVEM.L (A7)+,D0-D6
00002088                          1686              
00002088  4E75                    1687              RTS
0000208A                          1688  
0000208A                          1689  
0000208A                          1690  ; -----------------------------------------------------------------------------
0000208A                          1691  DIBFIGBPOINT
0000208A                          1692  ; SUBRUTINE DRAW MAP
0000208A                          1693  ; INPUT    : D5=POSITION X, D6=POSITION Y
0000208A                          1694  ; OUTPUT   : NONE
0000208A                          1695  ; MODIFIES : NONE
0000208A                          1696  ; -----------------------------------------------------------------------------
0000208A  48E7 FE00               1697              MOVEM.L D0-D6,-(A7)
0000208E                          1698              ; SET CONTOURN COLOR
0000208E  103C 0050               1699              MOVE.B  #80,D0
00002092  223C 0000AAAA           1700              MOVE.L  #$0000AAAA,D1
00002098  4E4F                    1701              TRAP    #15
0000209A                          1702              
0000209A                          1703              ; SET FILL COLOR
0000209A  103C 0051               1704              MOVE.B  #81,D0
0000209E  223C 0000FFFF           1705              MOVE.L  #$0000FFFF,D1
000020A4  4E4F                    1706              TRAP    #15
000020A6                          1707              
000020A6                          1708              ; DEFINE COORDINATES RECTANGLE
000020A6  3205                    1709              MOVE.W  D5,D1
000020A8  5041                    1710              ADD.W   #8,D1
000020AA  5941                    1711              SUB.W   #4,D1
000020AC  3406                    1712              MOVE.W  D6,D2
000020AE  5042                    1713              ADD.W   #8,D2
000020B0  5942                    1714              SUB.W   #4,D2
000020B2                          1715              
000020B2  3601                    1716              MOVE.W  D1,D3
000020B4  5043                    1717              ADD.W   #4*2,D3
000020B6  3802                    1718              MOVE.W  D2,D4
000020B8  5044                    1719              ADD.W   #4*2,D4
000020BA                          1720              
000020BA                          1721              ; DRAW BIG POINT
000020BA  103C 0058               1722              MOVE.B  #88,D0
000020BE  4E4F                    1723              TRAP    #15
000020C0                          1724              
000020C0  4CDF 007F               1725              MOVEM.L (A7)+,D0-D6
000020C4                          1726              
000020C4  4E75                    1727              RTS
000020C6                          1728  
000020C6                          1729  
000020C6                          1730  
000020C6                          1731  
000020C6                          1732  
000020C6                          1733  
000020C6                          1734  
000020C6                          1735  
000020C6                          1736  
000020C6                          1737  
000020C6                          1738  
000020C6                          1739  
000020C6                          1740  -------------------- end include --------------------
000020C6                          1741              INCLUDE "LIB/UTLCONST.X68"
000020C6                          1742  ; ==============================================================================
000020C6                          1743  ; UTIL CONSTANTS
000020C6                          1744  ; ==============================================================================
000020C6                          1745  
000020C6  =00000008               1746  UTLCHRWD    EQU     8                       ; CHARACTER WIDTH IN PIXELS
000020C6                          1747  
000020C6                          1748  -------------------- end include --------------------
000020C6                          1749              INCLUDE "LIB/UTLCODE.X68"
000020C6                          1750  ; =============================================================================
000020C6                          1751  ; UTILITY CODE
000020C6                          1752  ; =============================================================================
000020C6                          1753  
000020C6                          1754  ; -----------------------------------------------------------------------------
000020C6                          1755  UTLINIT
000020C6                          1756  ; INITIALIZES UTILITY CODE
000020C6                          1757  ; INPUT    - NONE
000020C6                          1758  ; OUTPUT   - NONE
000020C6                          1759  ; MODIFIES - NONE
000020C6                          1760  ; -----------------------------------------------------------------------------
000020C6  48E7 C000               1761              MOVEM.L D0-D1,-(A7)
000020CA  103C 0008               1762              MOVE.B  #8,D0
000020CE  4E4F                    1763              TRAP    #15
000020D0  13C1 00003544           1764              MOVE.B  D1,(UTLRNDIX)
000020D6  4CDF 0003               1765              MOVEM.L (A7)+,D0-D1
000020DA  4E75                    1766              RTS
000020DC                          1767  
000020DC                          1768  ; -----------------------------------------------------------------------------
000020DC                          1769  UTLPRINT
000020DC                          1770  ; PRINT SCREEN CENTERED TEXT
000020DC                          1771  ; INPUT    : A0 POINTER TO ZERO-TERMINATED STRING
000020DC                          1772  ;            D0.B SCREEN ROW TO PRINT TEXT
000020DC                          1773  ; OUTPUT   : D0.B NEXT ROW
000020DC                          1774  ; MODIFIES : NONE (ASIDE OF OUTPUT)
000020DC                          1775  ; -----------------------------------------------------------------------------
000020DC  48E7 C0C0               1776              MOVEM.L D0-D1/A0-A1,-(A7)
000020E0  4201                    1777              CLR.B   D1
000020E2  2248                    1778              MOVE.L  A0,A1
000020E4  4A18                    1779  .LOOP       TST.B   (A0)+
000020E6  6700 0006               1780              BEQ     .ENDLOOP
000020EA  5201                    1781              ADDQ.B  #1,D1
000020EC  60F6                    1782              BRA     .LOOP
000020EE  E209                    1783  .ENDLOOP    LSR.B   #1,D1
000020F0  0401 0028               1784              SUB.B   #(SCRWIDTH/UTLCHRWD)/2,D1
000020F4  4401                    1785              NEG.B   D1
000020F6  E141                    1786              ASL.W   #8,D1
000020F8  8240                    1787              OR.W    D0,D1
000020FA  103C 000B               1788              MOVE.B  #11,D0
000020FE  4E4F                    1789              TRAP    #15
00002100  103C 000D               1790              MOVE.B  #13,D0
00002104  4E4F                    1791              TRAP    #15
00002106  4CDF 0303               1792              MOVEM.L (A7)+,D0-D1/A0-A1
0000210A  5200                    1793              ADDQ.B  #1,D0
0000210C  4E75                    1794              RTS
0000210E                          1795              
0000210E                          1796              
0000210E                          1797  
0000210E                          1798  
0000210E                          1799              ; (SCRWIDTH/UTLCHRWD)/2 - D1/2
0000210E                          1800  
0000210E                          1801  
0000210E                          1802  ; -----------------------------------------------------------------------------
0000210E                          1803  UTLRAND
0000210E                          1804  ; PROVIDES A PSEUDO-RANDOM BYTE
0000210E                          1805  ; INPUT    - NONE
0000210E                          1806  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
0000210E                          1807  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000210E                          1808  ; -----------------------------------------------------------------------------
0000210E  2F08                    1809              MOVE.L  A0,-(A7)
00002110  41F9 0000212C           1810              LEA     .RANDVEC,A0
00002116  4280                    1811              CLR.L   D0
00002118  1039 00003544           1812              MOVE.B  (UTLRNDIX),D0
0000211E  1030 0800               1813              MOVE.B  (A0,D0.L),D0
00002122  5239 00003544           1814              ADDQ.B  #1,(UTLRNDIX)
00002128  205F                    1815              MOVE.L  (A7)+,A0
0000212A  4E75                    1816              RTS
0000212C                          1817  
0000212C                          1818  
0000212C= A2 EE 9A 0C F5 24 ...   1819  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
00002134= 2A A3 51 26 E0 AC ...   1820              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
0000213C= 75 51 CA FD 33 EB ...   1821              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
00002144= 60 CC E7 B8 9A EB ...   1822              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
0000214C= 1D 76 B5 95 B0 89 ...   1823              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
00002154= 39 15 48 C9 6E CA ...   1824              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
0000215C= 43 E7 E2 7C 37 25 ...   1825              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
00002164= E9 94 CE E9 E4 52 ...   1826              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
0000216C= 37 6D 9A 84 A2 28 ...   1827              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
00002174= 19 E2 C6 77 80 D4 ...   1828              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
0000217C= 0A 5A 32 67 33 C2 ...   1829              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
00002184= 59 80 DC 0E 57 FC ...   1830              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
0000218C= 8A AB BC F7 07 4D ...   1831              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
00002194= EF D5 77 6E 1E BB ...   1832              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
0000219C= D6 E0 2A 8F BD 28 ...   1833              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
000021A4= 13 4F 66 EC 0A 64 ...   1834              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
000021AC= 56 52 9A 16 9B 90 ...   1835              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
000021B4= 06 8A A4 F7 01 DA ...   1836              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
000021BC= F2 E7 77 28 B1 76 ...   1837              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
000021C4= A4 42 E3 81 B1 67 ...   1838              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
000021CC= BF CE FA 16 BF 38 ...   1839              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
000021D4= D1 8B 50 0C 5F 49 ...   1840              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
000021DC= DE 4C 14 A2 40 DC ...   1841              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
000021E4= B6 9B 0A 38 5D AB ...   1842              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
000021EC= E2 1B DD 75 15 82 ...   1843              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
000021F4= 8A 26 51 30 9F 47 ...   1844              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
000021FC= 1E 8A BB 71 C6 6E ...   1845              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
00002204= 9F 47 E5 34 94 27 ...   1846              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
0000220C= 7D 06 D6 BA 30 0F ...   1847              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
00002214= EC 7F 7E 03 CF 2D ...   1848              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
0000221C= 94 5B 23 F2 8B CD ...   1849              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
00002224= 74 33 EC B9 0F D5 ...   1850              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
0000222C                          1851  
0000222C                          1852  
0000222C                          1853  
0000222C                          1854  
0000222C                          1855  -------------------- end include --------------------
0000222C                          1856              INCLUDE "INTRO.X68"
0000222C                          1857  ; ==============================================================================
0000222C                          1858  ; INTRO SCREEN
0000222C                          1859  ; ==============================================================================
0000222C                          1860  
0000222C                          1861  ; ------------------------------------------------------------------------------
0000222C                          1862  ISCINIT
0000222C                          1863  ; INTRO SCREEN INIT
0000222C                          1864  ; INPUT    : NONE
0000222C                          1865  ; OUTPUT   : NONE
0000222C                          1866  ; MODIFIES : NONE
0000222C                          1867  ; ------------------------------------------------------------------------------
0000222C  4279 0000353E           1868              CLR.W   (ISCTIMER)
00002232  4EB9 000022AC           1869              JSR     OPENFILE
00002238  4E75                    1870              RTS
0000223A                          1871  
0000223A                          1872  ; ------------------------------------------------------------------------------
0000223A                          1873  ISCUPD
0000223A                          1874  ; INTRO SCREEN UPDATE
0000223A                          1875  ; INPUT    : NONE
0000223A                          1876  ; OUTPUT   : NONE
0000223A                          1877  ; MODIFIES : NONE
0000223A                          1878  ; ------------------------------------------------------------------------------
0000223A  0839 0004 00002690      1879              BTST.B  #4,(KBDVAL)
00002242  6700 000A               1880              BEQ     .CONT
00002246  33FC 0001 00003542      1881              MOVE.W  #1,(STANEXT)
0000224E                          1882  .CONT       ;ADDQ.W  #1,(ISCTIMER)
0000224E                          1883  ;            CMP.W   #500,(ISCTIMER)
0000224E                          1884  ;            BLT     .DONE
0000224E                          1885  ;            MOVE.W  #1,(STANEXT)
0000224E  4E75                    1886  .DONE       RTS
00002250                          1887  
00002250                          1888  ; ------------------------------------------------------------------------------
00002250                          1889  ISCPLOT
00002250                          1890  ; INTRO SCREEN PLOT
00002250                          1891  ; INPUT    : NONE
00002250                          1892  ; OUTPUT   : NONE
00002250                          1893  ; MODIFIES : NONE
00002250                          1894  ; ------------------------------------------------------------------------------
00002250  48E7 C080               1895              MOVEM.L D0-D1/A0,-(A7)
00002254                          1896              
00002254  4281                    1897              CLR.L   D1
00002256  103C 0051               1898              MOVE.B  #81,D0
0000225A  4E4F                    1899              TRAP    #15
0000225C                          1900              
0000225C  4EB9 000022DE           1901              JSR     IMGPLOT
00002262                          1902              
00002262  0839 0004 00002693      1903              BTST.B  #4,(SCRCYCCT)
0000226A  6700 0010               1904              BEQ     .DONE
0000226E                          1905              
0000226E  41F9 00002290           1906              LEA     .TXT2,A0
00002274  103C 0019               1907              MOVE.B  #25,D0
00002278  4EB8 20DC               1908              JSR     UTLPRINT
0000227C                          1909              
0000227C  4CDF 0103               1910  .DONE       MOVEM.L (A7)+,D0-D1/A0
00002280                          1911  
00002280  4E75                    1912              RTS
00002282= 50 41 43 2D 4D 41 ...   1913  .TXT1       DC.B    'PAC-MAN 68000',0
00002290= 50 52 45 53 53 20 ...   1914  .TXT2       DC.B    'PRESS SPACE BUTTON TO START',0
000022AC                          1915              DS.W    0
000022AC                          1916              
000022AC                          1917  ;------------------------------------------------------------------------
000022AC                          1918              
000022AC                          1919  OPENFILE                 
000022AC                          1920              ;OPEN FILE
000022AC  43F8 1BCA               1921              LEA     FILENAME,A1
000022B0  303C 0033               1922              MOVE    #51,D0
000022B4  4E4F                    1923              TRAP    #15
000022B6                          1924              
000022B6                          1925              ;READ FILE
000022B6  243C 00000A8C           1926              MOVE.L  #FILESIZE,D2
000022BC  43F9 00002A96           1927              LEA     BUFFER,A1
000022C2  303C 0035               1928              MOVE    #53,D0
000022C6  4E4F                    1929              TRAP    #15
000022C8                          1930              
000022C8  263C 00000A8C           1931              MOVE.L  #FILESIZE,D3
000022CE                          1932              
000022CE                          1933  .convert_loop 
000022CE  4A03                    1934              TST.B   D3
000022D0  6700 000A               1935              BEQ     .END
000022D4  0419 0030               1936              SUB.B   #$30,(A1)+
000022D8  5303                    1937              SUB.B   #1,D3
000022DA  60F2                    1938              BRA     .convert_loop           
000022DC                          1939  .END        
000022DC                          1940  
000022DC                          1941           
000022DC                          1942            
000022DC                          1943              
000022DC  4E75                    1944              RTS
000022DE                          1945  ; ------------------------------------------------------------------------------
000022DE                          1946  IMGPLOT
000022DE                          1947  ; TITLE IMAGE PLOT
000022DE                          1948  ; INPUT    : NONE
000022DE                          1949  ; OUTPUT   : NONE
000022DE                          1950  ; MODIFIES : NONE
000022DE                          1951  ; ------------------------------------------------------------------------------
000022DE  48E7 FE00               1952              MOVEM.L D0-D6,-(A7)
000022E2  48E7 00C0               1953              MOVEM.L A0-A1,-(A7)
000022E6                          1954              
000022E6                          1955              ;PLOT
000022E6                          1956   
000022E6  41F9 00002A96           1957              LEA.L   BUFFER,A0
000022EC  3C3C 00DC               1958              MOVE.W  #220,D6
000022F0  343C 001C               1959              MOVE.W  #28,D2
000022F4                          1960  BUCLE_FILA3
000022F4  3A3C 0064               1961              MOVE.W  #100,D5
000022F8  323C 0065               1962              MOVE.W  #101,D1
000022FC  5846                    1963              ADD.W   #4,D6
000022FE                          1964  
000022FE                          1965  BUCLE_COLUMNA3
000022FE  5845                    1966              ADD.W   #4,D5
00002300                          1967  
00002300  1018                    1968              MOVE.B  (A0)+,D0
00002302                          1969               
00002302  B07C 0001               1970              CMP     #1,D0
00002306  6700 000C               1971              BEQ     ZERO3
0000230A  B07C 0000               1972              CMP     #0,D0
0000230E  4EB9 00002326           1973              JSR     DRAW
00002314                          1974  ZERO3
00002314  51C9 FFE8               1975              DBRA    D1,BUCLE_COLUMNA3
00002318  51CA FFDA               1976              DBRA    D2,BUCLE_FILA3
0000231C                          1977              
0000231C  4CDF 0300               1978              MOVEM.L (A7)+,A0-A1
00002320  4CDF 007F               1979              MOVEM.L (A7)+,D0-D6
00002324                          1980          
00002324                          1981  
00002324  4E75                    1982              RTS
00002326                          1983  
00002326                          1984  
00002326                          1985  ; -----------------------------------------------------------------------------
00002326                          1986  DRAW
00002326                          1987  ; SUBRUTINE DRAW 
00002326                          1988  ; INPUT    : D5=POSITION X, D6=POSITION Y
00002326                          1989  ; OUTPUT   : NONE
00002326                          1990  ; MODIFIES : NONE
00002326                          1991  ; -----------------------------------------------------------------------------
00002326  48E7 FE00               1992              MOVEM.L D0-D6,-(A7)
0000232A                          1993              ; SET CONTOURN COLOR
0000232A  103C 0050               1994              MOVE.B  #80,D0
0000232E  223C 00AA0000           1995              MOVE.L  #$00AA0000,D1
00002334  4E4F                    1996              TRAP    #15
00002336                          1997              
00002336                          1998              ; SET FILL COLOR
00002336  103C 0051               1999              MOVE.B  #81,D0
0000233A  223C 00FF0000           2000              MOVE.L  #$00FF0000,D1
00002340  4E4F                    2001              TRAP    #15
00002342                          2002              
00002342                          2003              ; DEFINE COORDINATES RECTANGLE
00002342  3205                    2004              MOVE.W  D5,D1
00002344  3406                    2005              MOVE.W  D6,D2
00002346  5845                    2006              ADD.W   #4,D5
00002348  5846                    2007              ADD.W   #4,D6
0000234A  3605                    2008              MOVE.W  D5,D3
0000234C  3806                    2009              MOVE.W  D6,D4
0000234E                          2010              
0000234E                          2011              ; DRAW RECTANGLE
0000234E  103C 0057               2012              MOVE.B  #87,D0
00002352  4E4F                    2013              TRAP    #15
00002354                          2014              
00002354  4CDF 007F               2015              MOVEM.L (A7)+,D0-D6
00002358                          2016  
00002358  4E75                    2017              RTS
0000235A                          2018  
0000235A                          2019  
0000235A                          2020  
0000235A                          2021  
0000235A                          2022  
0000235A                          2023  
0000235A                          2024  -------------------- end include --------------------
0000235A                          2025              INCLUDE "INSTRUCTIONS.X68"
0000235A                          2026  ; ==============================================================================
0000235A                          2027  ; INSTRUCTIONS SCREEN
0000235A                          2028  ; ==============================================================================
0000235A                          2029  
0000235A                          2030  ; ------------------------------------------------------------------------------
0000235A                          2031  INSINIT
0000235A                          2032  ; INSTRUCTIONS SCREEN INIT
0000235A                          2033  ; INPUT    : NONE
0000235A                          2034  ; OUTPUT   : NONE
0000235A                          2035  ; MODIFIES : NONE
0000235A                          2036  ; ------------------------------------------------------------------------------
0000235A  4E75                    2037              RTS
0000235C                          2038  
0000235C                          2039  ; ------------------------------------------------------------------------------
0000235C                          2040  INSUPD
0000235C                          2041  ; INSTRUCTIONS SCREEN UPDATE
0000235C                          2042  ; INPUT    : NONE
0000235C                          2043  ; OUTPUT   : NONE
0000235C                          2044  ; MODIFIES : NONE
0000235C                          2045  ; ------------------------------------------------------------------------------
0000235C  4E75                    2046              RTS
0000235E                          2047  
0000235E                          2048  ; ------------------------------------------------------------------------------
0000235E                          2049  INSPLOT
0000235E                          2050  ; INSTRUCTIONS SCREEN PLOT
0000235E                          2051  ; INPUT    : NONE
0000235E                          2052  ; OUTPUT   : NONE
0000235E                          2053  ; MODIFIES : NONE
0000235E                          2054  ; ------------------------------------------------------------------------------
0000235E                          2055  
0000235E  48E7 C0C0               2056              MOVEM.L D0-D1/A0-A1,-(A7)
00002362  4281                    2057              CLR.L   D1
00002364  103C 0051               2058              MOVE.B  #81,D0
00002368  4E4F                    2059              TRAP    #15
0000236A  103C 000B               2060              MOVE.B  #11,D0
0000236E  43F9 000024D0           2061              LEA     .TXTLST,A1
00002374  2219                    2062  .LOOP       MOVE.L  (A1)+,D1
00002376  6700 000A               2063              BEQ     .DONE
0000237A  2041                    2064              MOVE.L  D1,A0
0000237C  4EB8 20DC               2065              JSR     UTLPRINT
00002380  60F2                    2066              BRA     .LOOP
00002382  4CDF 0303               2067  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1
00002386  4E75                    2068              RTS
00002388= 57 45 4C 43 4F 4D ...   2069  .TXT1       DC.B    'WELCOME TO THE WORLD OF MULTI-PONG 68000!',0
000023B2= 59 4F 55 52 20 47 ...   2070  .TXT2       DC.B    'YOUR GOAL IN THIS GAME IS TO AVOID MISSING THE BALLS',0
000023E7= 54 4F 20 54 48 49 ...   2071  .TXT3       DC.B    'TO THIS END, MOVE THE PAD USING THE KEYBOARD',0
00002414= 48 4F 57 20 54 4F ...   2072  .TXT4       DC.B    'HOW TO DO IT? YOU MAY ASK.',0
0000242F= 49 54 20 49 53 20 ...   2073  .TXT5       DC.B    'IT IS EASY: JUST USE THE UP KEY TO MOVE THE PAD...',0
00002462= 55 50 21 00             2074  .TXT6       DC.B    'UP!',0
00002466= 41 4E 44 20 55 53 ...   2075  .TXT7       DC.B    'AND USE THE DOWN KEY TO MOVE THE PAD DOWN.',0
00002491= 57 48 41 54 20 41 ...   2076  .TXT8       DC.B    'WHAT ABOUT LEFT AND RIGHT?',0
000024AC= 4E 4F 2E 20 54 48 ...   2077  .TXT9       DC.B    'NO. THESE ARE FORBIDDEN DIRECTIONS',0
000024D0                          2078              DS.W    0
000024D0= 00002388 000023B2 ...   2079  .TXTLST     DC.L    .TXT1,.TXT2,.TXT3,.TXT4,.TXT5,.TXT6,.TXT7,.TXT8,.TXT9,0
000024F8                          2080  
000024F8                          2081  
000024F8                          2082  -------------------- end include --------------------
000024F8                          2083              INCLUDE "WIN.X68"
000024F8                          2084  ; ==============================================================================
000024F8                          2085  ; VICTORY SCREEN
000024F8                          2086  ; ==============================================================================
000024F8                          2087  
000024F8                          2088  ; ------------------------------------------------------------------------------
000024F8                          2089  WININIT
000024F8                          2090  ; VICTORY SCREEN INIT
000024F8                          2091  ; INPUT    : NONE
000024F8                          2092  ; OUTPUT   : NONE
000024F8                          2093  ; MODIFIES : NONE
000024F8                          2094  ; ------------------------------------------------------------------------------
000024F8  4E75                    2095              RTS
000024FA                          2096  
000024FA                          2097  ; ------------------------------------------------------------------------------
000024FA                          2098  WINUPD
000024FA                          2099  ; VICTORY SCREEN UPDATE
000024FA                          2100  ; INPUT    : NONE
000024FA                          2101  ; OUTPUT   : NONE
000024FA                          2102  ; MODIFIES : NONE
000024FA                          2103  ; ------------------------------------------------------------------------------
000024FA  4E75                    2104              RTS
000024FC                          2105  
000024FC                          2106  ; ------------------------------------------------------------------------------
000024FC                          2107  WINPLOT
000024FC                          2108  ; VICTORY SCREEN PLOT
000024FC                          2109  ; INPUT    : NONE
000024FC                          2110  ; OUTPUT   : NONE
000024FC                          2111  ; MODIFIES : NONE
000024FC                          2112  ; ------------------------------------------------------------------------------
000024FC  48E7 C080               2113              MOVEM.L D0-D1/A0,-(A7)
00002500                          2114              
00002500  4281                    2115              CLR.L   D1
00002502  103C 0051               2116              MOVE.B  #81,D0
00002506  4E4F                    2117              TRAP    #15
00002508                          2118              
00002508  41F9 00002536           2119              LEA     .TXT1,A0
0000250E  103C 000A               2120              MOVE.B  #10,D0
00002512  4EB8 20DC               2121              JSR     UTLPRINT
00002516                          2122              
00002516  0839 0004 00002693      2123              BTST.B  #4,(SCRCYCCT)
0000251E  6700 0010               2124              BEQ     .DONE
00002522                          2125              
00002522  41F9 0000253F           2126              LEA     .TXT2,A0
00002528  103C 0019               2127              MOVE.B  #25,D0
0000252C  4EB8 20DC               2128              JSR     UTLPRINT
00002530                          2129              
00002530  4CDF 0103               2130  .DONE       MOVEM.L (A7)+,D0-D1/A0
00002534                          2131  
00002534  4E75                    2132              RTS
00002536= 59 4F 55 20 57 4F ...   2133  .TXT1       DC.B    'YOU WON!',0
0000253F= 50 52 45 53 53 20 ...   2134  .TXT2       DC.B    'PRESS FIRE1 TO CONTINUE',0
00002558                          2135              DS.W    0
00002558                          2136  
00002558                          2137  
00002558                          2138  
00002558                          2139  -------------------- end include --------------------
00002558                          2140              INCLUDE "GOVER.X68"
00002558                          2141  ; ==============================================================================
00002558                          2142  ; GAME OVER SCREEN
00002558                          2143  ; ==============================================================================
00002558                          2144  
00002558                          2145  ; ------------------------------------------------------------------------------
00002558                          2146  GOVINIT
00002558                          2147  ; GAME OVER SCREEN INIT
00002558                          2148  ; INPUT    : NONE
00002558                          2149  ; OUTPUT   : NONE
00002558                          2150  ; MODIFIES : NONE
00002558                          2151  ; ------------------------------------------------------------------------------
00002558  4E75                    2152              RTS
0000255A                          2153  
0000255A                          2154  ; ------------------------------------------------------------------------------
0000255A                          2155  GOVUPD
0000255A                          2156  ; GAME OVER SCREEN UPDATE
0000255A                          2157  ; INPUT    : NONE
0000255A                          2158  ; OUTPUT   : NONE
0000255A                          2159  ; MODIFIES : NONE
0000255A                          2160  ; ------------------------------------------------------------------------------
0000255A  4E75                    2161              RTS
0000255C                          2162  
0000255C                          2163  ; ------------------------------------------------------------------------------
0000255C                          2164  GOVPLOT
0000255C                          2165  ; GAME OVER SCREEN PLOT
0000255C                          2166  ; INPUT    : NONE
0000255C                          2167  ; OUTPUT   : NONE
0000255C                          2168  ; MODIFIES : NONE
0000255C                          2169  ; ------------------------------------------------------------------------------
0000255C  48E7 C080               2170              MOVEM.L D0-D1/A0,-(A7)
00002560                          2171              
00002560  4281                    2172              CLR.L   D1
00002562  103C 0051               2173              MOVE.B  #81,D0
00002566  4E4F                    2174              TRAP    #15
00002568                          2175              
00002568  41F9 00002596           2176              LEA     .TXT1,A0
0000256E  103C 000A               2177              MOVE.B  #10,D0
00002572  4EB8 20DC               2178              JSR     UTLPRINT
00002576                          2179              
00002576  0839 0004 00002693      2180              BTST.B  #4,(SCRCYCCT)
0000257E  6700 0010               2181              BEQ     .DONE
00002582                          2182              
00002582  41F9 000025A0           2183              LEA     .TXT2,A0
00002588  103C 0019               2184              MOVE.B  #25,D0
0000258C  4EB8 20DC               2185              JSR     UTLPRINT
00002590                          2186              
00002590  4CDF 0103               2187  .DONE       MOVEM.L (A7)+,D0-D1/A0
00002594                          2188  
00002594  4E75                    2189              RTS
00002596= 47 41 4D 45 20 4F ...   2190  .TXT1       DC.B    'GAME OVER',0
000025A0= 50 52 45 53 53 20 ...   2191  .TXT2       DC.B    'PRESS FIRE1 TO CONTINUE',0
000025B8                          2192              DS.W    0
000025B8                          2193  
000025B8                          2194  
000025B8                          2195  -------------------- end include --------------------
000025B8                          2196              INCLUDE "STATES.X68"
000025B8                          2197  ; =============================================================================
000025B8                          2198  ; GAME STATE MANAGEMENT
000025B8                          2199  ; =============================================================================
000025B8                          2200  
000025B8                          2201  ; -----------------------------------------------------------------------------
000025B8                          2202  STAINIT
000025B8                          2203  ; INITALIZES THE STATE MANAGER
000025B8                          2204  ; INPUT    - NONE
000025B8                          2205  ; OUTPUT   - NONE
000025B8                          2206  ; MODIFIES - NONE
000025B8                          2207  ; -----------------------------------------------------------------------------
000025B8  33FC FFFF 00003540      2208              MOVE.W  #STANONE,(STACUR)
000025C0  4279 00003542           2209              CLR.W   (STANEXT)
000025C6  4E75                    2210              RTS
000025C8                          2211  
000025C8                          2212  ; -----------------------------------------------------------------------------
000025C8                          2213  STAUPD
000025C8                          2214  ; PERFORMS STATE UPDATE AND INIT IF NECESSARY
000025C8                          2215  ; INPUT    - NONE
000025C8                          2216  ; OUTPUT   - NONE
000025C8                          2217  ; MODIFIES - NONE
000025C8                          2218  ; -----------------------------------------------------------------------------
000025C8  48E7 8080               2219              MOVEM.L D0/A0,-(A7)
000025CC  4280                    2220              CLR.L   D0
000025CE  3039 00003542           2221              MOVE.W  (STANEXT),D0
000025D4  B079 00003540           2222              CMP.W   (STACUR),D0
000025DA  6700 0012               2223              BEQ     .DOUPD
000025DE  33C0 00003540           2224              MOVE.W  D0,(STACUR)             ; IF STATE CHANGED, DO INIT
000025E4  E588                    2225              LSL.L   #2,D0
000025E6  2040                    2226              MOVE.L  D0,A0
000025E8  2068 2606               2227              MOVE.L  .INITBL(A0),A0
000025EC  4E90                    2228              JSR     (A0)
000025EE  4280                    2229  .DOUPD      CLR.L   D0                      ; IN ANY CASE, DO UPDATE
000025F0  3039 00003540           2230              MOVE.W  (STACUR),D0
000025F6  E588                    2231              LSL.L   #2,D0
000025F8  2040                    2232              MOVE.L  D0,A0
000025FA  2068 260E               2233              MOVE.L  .UPDTBL(A0),A0
000025FE  4E90                    2234              JSR     (A0)
00002600  4CDF 0101               2235              MOVEM.L (A7)+,D0/A0
00002604  4E75                    2236              RTS
00002606= 0000222C                2237  .INITBL     DC.L    ISCINIT
0000260A= 0000263C                2238              DC.L    GAMINIT
0000260E= 0000223A                2239  .UPDTBL     DC.L    ISCUPD
00002612= 0000264C                2240              DC.L    GAMUPD
00002616                          2241  
00002616                          2242  ; -----------------------------------------------------------------------------
00002616                          2243  STAPLOT
00002616                          2244  ; PERFORMS STATE PLOT
00002616                          2245  ; INPUT    - NONE
00002616                          2246  ; OUTPUT   - NONE
00002616                          2247  ; MODIFIES - NONE
00002616                          2248  ; -----------------------------------------------------------------------------
00002616  48E7 8080               2249              MOVEM.L D0/A0,-(A7)
0000261A  4280                    2250              CLR.L   D0
0000261C  3039 00003540           2251              MOVE.W  (STACUR),D0
00002622  E588                    2252              LSL.L   #2,D0
00002624  2040                    2253              MOVE.L  D0,A0
00002626  2068 2632               2254              MOVE.L  .PLTTBL(A0),A0
0000262A  4E90                    2255              JSR     (A0)
0000262C  4CDF 0101               2256              MOVEM.L (A7)+,D0/A0
00002630  4E75                    2257              RTS
00002632= 00002250                2258  .PLTTBL     DC.L    ISCPLOT
00002636= 00002654                2259              DC.L    GAMPLOT
0000263A                          2260  
0000263A                          2261  ; -----------------------------------------------------------------------------
0000263A                          2262  STAEMPTY
0000263A                          2263  ; EMPTY SUBROUTINE FOR CASES WITH NOTHING TO DO
0000263A                          2264  ; INPUT    - NONE
0000263A                          2265  ; OUTPUT   - NONE
0000263A                          2266  ; MODIFIES - NONE
0000263A                          2267  ; NOTE     - JUST A PLACEHOLDER. NOTHING TO DO.
0000263A                          2268  ; -----------------------------------------------------------------------------
0000263A  4E75                    2269              RTS
0000263C                          2270  
0000263C                          2271  
0000263C                          2272  
0000263C                          2273  
0000263C                          2274  
0000263C                          2275  
0000263C                          2276  
0000263C                          2277  
0000263C                          2278  
0000263C                          2279  
0000263C                          2280  -------------------- end include --------------------
0000263C                          2281              INCLUDE "GAME.X68"
0000263C                          2282  ; ==============================================================================
0000263C                          2283  ; GAME MANAGEMENT
0000263C                          2284  ; ==============================================================================
0000263C                          2285  
0000263C                          2286  ; ------------------------------------------------------------------------------
0000263C                          2287  GAMINIT
0000263C                          2288  ; INITIALIZES GAME.
0000263C                          2289  ; INPUT    : NONE
0000263C                          2290  ; OUTPUT   : NONE
0000263C                          2291  ; MODIFIES : NONE
0000263C                          2292  ; ------------------------------------------------------------------------------
0000263C  4EB8 1792               2293              JSR     PMINIT
00002640  4EB8 1F28               2294              JSR     MAPINIT
00002644  4EB8 1408               2295              JSR     GSTINIT
00002648  6000 F50E               2296              BRA     SCOINIT
0000264C                          2297  
0000264C                          2298  ; ------------------------------------------------------------------------------
0000264C                          2299  GAMUPD
0000264C                          2300  ; UPDATES THE GAME
0000264C                          2301  ; INPUT    : NONE
0000264C                          2302  ; OUTPUT   : NONE
0000264C                          2303  ; MODIFIES : NONE
0000264C                          2304  ; ------------------------------------------------------------------------------
0000264C                          2305              
0000264C  4EB8 143A               2306              JSR     GSTUPD
00002650  6000 F174               2307              BRA     PMUPD
00002654                          2308              
00002654                          2309  ; ------------------------------------------------------------------------------
00002654                          2310  GAMPLOT
00002654                          2311  ; PLOTS THE GAME
00002654                          2312  ; INPUT    : NONE
00002654                          2313  ; OUTPUT   : NONE
00002654                          2314  ; MODIFIES : NONE
00002654                          2315  ; ------------------------------------------------------------------------------
00002654  4EB8 1FA2               2316              JSR     MAPPLOT
00002658  4EB8 1B68               2317              JSR     SCOPLOT
0000265C  4EB8 1932               2318              JSR     PMPLOT
00002660  6000 F0C6               2319              BRA     GSTPLOT
00002664                          2320  
00002664                          2321  
00002664                          2322  
00002664                          2323  -------------------- end include --------------------
00002664                          2324        
00002664                          2325              
00002664                          2326      
00002664                          2327  START:
00002664                          2328  
00002664                          2329  ;--- INITIALIZATION -----------------------------------------------------------
00002664                          2330  
00002664  007C 0700               2331              ORI.W   #$0700,SR               ;DISABLE INTERRUPTIONS
00002668                          2332  
00002668  4EB8 1BD4               2333              JSR     SYSINIT
0000266C  4EB8 25B8               2334              JSR     STAINIT
00002670                          2335  
00002670                          2336  .LOOP
00002670                          2337  
00002670                          2338  ; --- UPDATE -------------------------------------------------------------------
00002670                          2339  
00002670                          2340  ; READ INPUT DEVICES
00002670                          2341  
00002670  4E41                    2342              TRAP    #1
00002672                          2343  
00002672                          2344  ; UPDATE GAME LOGIC
00002672                          2345  
00002672  4EB8 25C8               2346             JSR     STAUPD
00002676                          2347  
00002676                          2348  ; --- SYNC ---------------------------------------------------------------------
00002676                          2349              ;WHILE THERES NO INTERRUPTS IN THE COUNTER THE PROGRAM WILL BE IN
00002676                          2350              ;THE BUCLE
00002676                          2351              
00002676  4A39 00002692           2352  .WAITINIT   TST.B   (SCRINTCT)
0000267C  67F8                    2353              BEQ     .WAITINIT
0000267E  4239 00002692           2354              CLR.B   (SCRINTCT)
00002684                          2355  
00002684                          2356  ; --- PLOT ---------------------------------------------------------------------
00002684                          2357              
00002684  4EB8 2616               2358              JSR     STAPLOT
00002688                          2359              
00002688                          2360              
00002688  4E40                    2361              TRAP    #0                      ;CHANGE BUFFER
0000268A                          2362  
0000268A  60E4                    2363              BRA     .LOOP
0000268C                          2364  
0000268C  FFFF FFFF               2365              SIMHALT  
00002690                          2366             
00002690                          2367              INCLUDE "SYSVARS.X68"
00002690                          2368  ; ==============================================================================
00002690                          2369  ; SYSTEM VARIABLES
00002690                          2370  ; ==============================================================================
00002690                          2371   
00002690                          2372  ; --- KEYBOARD RELATED VARIABLES -----------------------------------------------
00002690                          2373  
00002690                          2374  KBDVAL      DS.B    1                       ; KEY STATE
00002691                          2375  KBDEDGE     DS.B    1                       ; KEY EDGE
00002692                          2376              DS.W    0 
00002692                          2377  
00002692                          2378  ; --- TIMED INTERRUPT RELATED VARIABLES ----------------------------------------
00002692                          2379  
00002692                          2380  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
00002693                          2381  SCRCYCCT    DS.B    1                       ; CYCLE COUNTER
00002694                          2382              DS.W    0        
00002694                          2383              
00002694                          2384  ; --- MAP RELATED VARIABLE -----------------------------------------------------
00002694                          2385  
00002694                          2386  MAPVAR      DS.B    1024
00002A94                          2387  
00002A94                          2388              DS.B    0
00002A94                          2389  
00002A94                          2390  POSCON      DS.W    1
00002A96                          2391  
00002A96                          2392  ; --- TITLE RELATED VARIABLE -----------------------------------------------------
00002A96                          2393  
00002A96                          2394  BUFFER      DS.B    2700
00003522                          2395              DS.B    0
00003522                          2396              
00003522                          2397  
00003522                          2398  
00003522                          2399  
00003522                          2400  
00003522                          2401  
00003522                          2402  
00003522                          2403  
00003522                          2404  -------------------- end include --------------------
00003522                          2405              INCLUDE "VARS.X68"
00003522                          2406  ; ==============================================================================
00003522                          2407  ; GAME VARIABLES
00003522                          2408  ; ==============================================================================
00003522                          2409  
00003522                          2410  ; --- PAC-MAN RELATED VARIABLES ------------------------------------------------
00003522                          2411  
00003522                          2412  PMPOSX      DS.W    1                       ; PM X COORDINATE
00003524                          2413  PMPOSY      DS.W    1                       ; PM Y COORDINATE
00003526                          2414  PMVELX      DS.W    1                       ; PM X VELOCITY
00003528                          2415  PMVELY      DS.W    1                       ; PM Y VELOCITY
0000352A                          2416  PMEAT       DS.B    1                       ; PM BOOLEAN EAT GST
0000352B                          2417  PMLAMO      DS.B    1                       ; PM SAVE LAST MOVEMENT X O Y
0000352C                          2418              DS.B    0
0000352C                          2419  
0000352C                          2420  ; --- GHOST RELATED VARIABLES --------------------------------------------------
0000352C                          2421  
0000352C                          2422  GSTPOSX     DS.W    1                       ; GST X COORDINATE
0000352E                          2423  GSTPOSY     DS.W    1                       ; GST Y COORDINATE
00003530                          2424  GSTVELX     DS.W    1                       ; GST X VELOCITY
00003532                          2425  GSTVELY     DS.W    1                       ; GST Y VELOCITY
00003534                          2426  GSTLAMO     DS.B    1                       ; GST LAST MOVEMENT (X OR Y)
00003535                          2427  GSTPOSMV    DS.B    1                       ; GST POSSIBLE MOVEMENTS (R,L,U,D)
00003536                          2428  GSTDEAD     DS.B    1                       ; GST BOOLEAN DEAD
00003537                          2429  GSTINRNG    DS.B    1                       ; GST IS IN RANGE
00003538                          2430  GSTTARG     DS.B    1                       ; GST TARGET (0-PACMAN, 1-RANDOM)
00003539                          2431  GSTCHDIR    DS.B    1                       ; GST HAS CHANGED DIR IN LAST FRAME
0000353A                          2432              DS.B    0
0000353A                          2433  
0000353A                          2434  ; --- SCOREBOARD RELATED VARIABLES ---------------------------------------------
0000353A                          2435  
0000353A                          2436  SCOLIFE     DS.W    1                       ; NUMBER OF LIFES
0000353C                          2437  SCOPOINTS   DS.W    1                       ; NUMBER OF POINTS
0000353E                          2438  
0000353E                          2439  ; --- INTRO STATE RELATED VARIABLES --------------------------------------------
0000353E                          2440  
0000353E                          2441  ISCTIMER    DS.W    1                       ; INTRO TIMER
00003540                          2442  
00003540                          2443  ; --- STATE RELATED VARIABLES --------------------------------------------------
00003540                          2444  
00003540                          2445  STACUR      DS.W    1                       ; CURRENT STATE
00003542                          2446  STANEXT     DS.W    1                       ; NEXT STATE
00003544                          2447  
00003544                          2448  
00003544                          2449  
00003544                          2450  
00003544                          2451  
00003544                          2452  
00003544                          2453  
00003544                          2454  
00003544                          2455  
00003544                          2456  
00003544                          2457  
00003544                          2458  -------------------- end include --------------------
00003544                          2459              INCLUDE "LIB/UTLVARS.X68"
00003544                          2460  ; =============================================================================
00003544                          2461  ; UTILITY VARIABLES
00003544                          2462  ; =============================================================================
00003544                          2463  
00003544                          2464  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
00003546                          2465              DS.W    0
00003546                          2466  -------------------- end include --------------------
00003546                          2467              
00003546                          2468              END    START        

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
BUCLE_COLUMNA       1F4E
BUCLE_COLUMNA2      1FC4
BUCLE_COLUMNA3      22FE
BUCLE_FILA          1F42
BUCLE_FILA2         1FB8
BUCLE_FILA3         22F4
BUFFER              2A96
COLWALLDOWN         1D54
COLWALLLEFT         1D12
COLWALLRIGHT        1CD0
COLWALLUP           1D90
DIBFIGBPOINT        208A
DIBFIGPOINT         204E
DIBFIGWALL          2016
DRAW                2326
FILENAME            1BCA
FILESIZE            A8C
GAMINIT             263C
GAMPLOT             2654
GAMUPD              264C
GETPOINTS           1EB4
GETPOINTS:BPOINT    1EFE
GETPOINTS:DONE      1F22
GETPOINTS:POINT     1F10
GOVINIT             2558
GOVPLOT             255C
GOVPLOT:DONE        2590
GOVPLOT:TXT1        2596
GOVPLOT:TXT2        25A0
GOVUPD              255A
GST2DECISSIONS      16A8
GST2DECISSIONS:GST2DECEND  1722
GST2DECISSIONS:LAMODOWN  16F6
GST2DECISSIONS:LAMOLEFT  16E2
GST2DECISSIONS:LAMORIGHT  16CE
GST2DECISSIONS:LAMOUP  170A
GST2DECISSIONS:RETURN0  171E
GSTCHDIR            3539
GSTCOL1             FF
GSTCOL2             FF0080
GSTCOL3             FFFF00
GSTCOL4             80FF
GSTCOL5             800000
GSTCOLWALLDOWN      1E46
GSTCOLWALLLEFT      1E0A
GSTCOLWALLRIGHT     1DCE
GSTCOLWALLUP        1E7C
GSTDEAD             3536
GSTDECVEC           1000
GSTFCOL1            FFFFFF
GSTFCOL2            0
GSTFCOL3            0
GSTFCOL4            0
GSTFCOL5            0
GSTINIT             1408
GSTINRNG            3537
GSTINX1             2
GSTINX2             2
GSTINX3             1F
GSTINX4             1F
GSTINY1             2
GSTINY2             1F
GSTINY3             2
GSTINY4             1F
GSTLAMO             3534
GSTPLOT             1728
GSTPOSMV            3535
GSTPOSX             352C
GSTPOSY             352E
GSTRAD              8
GSTRNG              10
GSTSPEED            2
GSTSPEED2           5
GSTTARG             3538
GSTUPD              143A
GSTUPD:2MLAMOX      1566
GSTUPD:2MLAMOY      1578
GSTUPD:GST2MOVES    153E
GSTUPD:GSTDECISSION  1506
GSTUPD:GSTDONE      16A2
GSTUPD:GSTDOWNMOVE  165A
GSTUPD:GSTINRNG     1464
GSTUPD:GSTLEFTMOVE  1626
GSTUPD:GSTMOVE      1470
GSTUPD:GSTMULT      149E
GSTUPD:GSTMULTDOWN  14DA
GSTUPD:GSTMULTLEFT  14C4
GSTUPD:GSTMULTRIGHT  14AE
GSTUPD:GSTMULTUP    14F0
GSTUPD:GSTNOTCOLISION  1604
GSTUPD:GSTNOTCOLISION2  1638
GSTUPD:GSTNOTCOLISION3  166C
GSTUPD:GSTNOTCOLISION4  1690
GSTUPD:GSTNOTINRNG  1450
GSTUPD:GSTNOTMULT   15CA
GSTUPD:GSTNOTTP     1614
GSTUPD:GSTNOTTP2    1648
GSTUPD:GSTRANDOWN   15AA
GSTUPD:GSTRANLEFT   159A
GSTUPD:GSTRANRIGHT  158A
GSTUPD:GSTRANUP     15BA
GSTUPD:GSTRIGHTMOVE  15F2
GSTUPD:GSTUPMOVE    167E
GSTVELX             3530
GSTVELY             3532
IMGPLOT             22DE
INSINIT             235A
INSPLOT             235E
INSPLOT:DONE        2382
INSPLOT:LOOP        2374
INSPLOT:TXT1        2388
INSPLOT:TXT2        23B2
INSPLOT:TXT3        23E7
INSPLOT:TXT4        2414
INSPLOT:TXT5        242F
INSPLOT:TXT6        2462
INSPLOT:TXT7        2466
INSPLOT:TXT8        2491
INSPLOT:TXT9        24AC
INSPLOT:TXTLST      24D0
INSUPD              235C
ISCINIT             222C
ISCPLOT             2250
ISCPLOT:DONE        227C
ISCPLOT:TXT1        2282
ISCPLOT:TXT2        2290
ISCTIMER            353E
ISCUPD              223A
ISCUPD:CONT         224E
ISCUPD:DONE         224E
KBDDOWN             28
KBDEDGE             2691
KBDFIRE1            20
KBDFIRE2            4D
KBDFIRE3            10
KBDINIT             1C6C
KBDLEFT             25
KBDPAUSE            50
KBDRIGHT            27
KBDUP               26
KBDUPD              1C7A
KBDUPD:CONVERT      1CC2
KBDUPD:LOOP         1CC6
KBDUPD:NOACT        1CBC
KBDVAL              2690
MAPINIT             1F28
MAPMAT              1008
MAPPLOT             1FA2
MAPVAR              2694
NOTPOINT            1F82
NOTPOINT2           1FF6
NOTWALL             1F74
NOTWALL2            1FE8
OPENFILE            22AC
OPENFILE:CONVERT_LOOP  22CE
OPENFILE:END        22DC
PMEAT               352A
PMFCOL              FFFF
PMINIT              1792
PMLAMO              352B
PMPCOL              FFFF
PMPLOT              1932
PMPLOT:DDONE        19EE
PMPLOT:DDOWN        19C0
PMPLOT:DLEFT        19B6
PMPLOT:DOWNDRAW     1AAE
PMPLOT:DRAW_MOUTH1  19CA
PMPLOT:DRAW_MOUTH2  19D4
PMPLOT:DRAW_MOUTH3  19DE
PMPLOT:DRAW_MOUTH4  19E8
PMPLOT:DRIGHT       19A2
PMPLOT:DUP          19AC
PMPLOT:FULLDRAW     19F4
PMPLOT:LEFTDRAW     1A18
PMPLOT:MOUTHOPEN    1960
PMPLOT:NOTMOVE      1998
PMPLOT:RIGHTDRAW    1A4A
PMPLOT:SET_MOUTHDOWN  1B3A
PMPLOT:SET_MOUTHLEFT  1AE0
PMPLOT:SET_MOUTHRIGHT  1AFE
PMPLOT:SET_MOUTHUP  1B1C
PMPLOT:UPDRAW       1A7C
PMPOSX              3522
PMPOSY              3524
PMRAD               8
PMSPEED             2
PMUPD               17C6
PMUPD:ACTXLEFT      188C
PMUPD:ACTXRIGHT     1858
PMUPD:ACTYDOWN      18C0
PMUPD:ACTYUP        18E4
PMUPD:DONE          1920
PMUPD:NOTCOLISION   1872
PMUPD:NOTCOLISION2  18A6
PMUPD:NOTCOLISION3  18DA
PMUPD:NOTCOLISION4  18FE
PMUPD:NOTDOWN       1854
PMUPD:NOTLEFT       1812
PMUPD:NOTMULT       1908
PMUPD:NOTRIGHT      1828
PMUPD:NOTTP         1882
PMUPD:NOTTP2        18B6
PMUPD:NOTUP         183E
PMVELX              3526
PMVELY              3528
POSCON              2A94
SCOFCOL             0
SCOINIT             1B58
SCOLIFE             353A
SCOLINE1            101
SCOLINE2            102
SCOPLOT             1B68
SCOPLOT:TXT1        1BB6
SCOPLOT:TXT2        1BBF
SCOPOINTS           353C
SCRCYCCT            2693
SCRHEIGH            280
SCRINIT             1C00
SCRINTCT            2692
SCRTIM              1C5E
SCRUPD              1C44
SCRWIDTH            280
STACUR              3540
STAEMPTY            263A
STAINIT             25B8
STANEXT             3542
STANONE             FFFFFFFF
STAPLOT             2616
STAPLOT:PLTTBL      2632
START               2664
START:LOOP          2670
START:WAITINIT      2676
STAUPD              25C8
STAUPD:DOUPD        25EE
STAUPD:INITBL       2606
STAUPD:UPDTBL       260E
SYSINIT             1BD4
UTLCHRWD            8
UTLINIT             20C6
UTLPRINT            20DC
UTLPRINT:ENDLOOP    20EE
UTLPRINT:LOOP       20E4
UTLRAND             210E
UTLRAND:RANDVEC     212C
UTLRNDIX            3544
WININIT             24F8
WINPLOT             24FC
WINPLOT:DONE        2530
WINPLOT:TXT1        2536
WINPLOT:TXT2        253F
WINUPD              24FA
ZERO                1F90
ZERO2               2004
ZERO3               2314
