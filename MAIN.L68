00001890 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 03/12/2022 12:58:57

00000000                             1  ; ==============================================================================
00000000                             2  ; TITLE       : PAC-MAN 68000
00000000                             3  ; DESCRIPTION : GAME IN MOTOROLA 68000 BASED ON PAC-MAN GAME
00000000                             4  ; AUTHOR      : JORDI FLORIT ENSENYAT
00000000                             5  ;               JOSEP GABRIEL FORNES REYNES
00000000                             6  ;               PAU GIRON RODRIGUEZ
00000000                             7  ; ==============================================================================
00001000                             8              ORG    $1000
00001000                             9  
00001000                            10              INCLUDE "CONST.X68"
00001000                            11  ; ==============================================================================
00001000                            12  ; GAME CONSTANTS
00001000                            13  ; ==============================================================================
00001000                            14  
00001000                            15  ; --- PAC-MAN RELATED CONTANTS ----------------------------------------------------
00001000                            16  
00001000  =0000FFFF                 17  PMPCOL      EQU     $0000FFFF               ; PAC-MAN CONTOUR COLOR
00001000  =0000FFFF                 18  PMFCOL      EQU     $0000FFFF               ; PAC-MAN FILL COLOR
00001000  =00000002                 19  PMSPEED     EQU     2                       ; MAGNITUDE OF THE X AND Y VEL.
00001000  =00000008                 20  PMRAD       EQU     8                       ; PAC-MAN RADIUS
00001000                            21  
00001000                            22  ; --- GHOST RELATED CONSTANTS ----------------------------------------------------
00001000                            23  
00001000  =00000007                 24  GSTSPEED    EQU     7                       ; MAGNITUDE OF THE NORMAL DISPLACEMENT
00001000  =00000005                 25  GSTSPEED2   EQU     5                       ; MAGNITUDE OF THE ATACKED DISPLACEMENT
00001000                            26  
00001000  =000000FF                 27  GSTCOL1     EQU     $000000FF               ; GHOST 1 CONTOUR COLOR RED
00001000  =00FFFFFF                 28  GSTFCOL1    EQU     $00FFFFFF               ; GHOST 1 FILL COLOR WHITE
00001000                            29  
00001000  =00FF0080                 30  GSTCOL2     EQU     $00FF0080               ; GHOST 2 CONTOUR COLOR PINK
00001000  =00000000                 31  GSTFCOL2    EQU     $00000000               ; GHOST 1 FILL COLOR
00001000                            32  
00001000  =00FFFF00                 33  GSTCOL3     EQU     $00FFFF00               ; GHOST 3 CONTOUR COLOR CYAN
00001000  =00000000                 34  GSTFCOL3    EQU     $00000000               ; GHOST 3 FILL COLOR
00001000                            35  
00001000  =000080FF                 36  GSTCOL4     EQU     $000080FF               ; GHOST 4 CONTOUR COLOR ORANGE
00001000  =00000000                 37  GSTFCOL4    EQU     $00000000               ; GHOST 4 FILL COLOR 
00001000                            38  
00001000  =00800000                 39  GSTCOL5     EQU     $00800000               ; CONTOUR COLOR OF ATACKED MODE
00001000  =00000000                 40  GSTFCOL5    EQU     $00000000               ; FILL COLOR OF ATACKED MODE
00001000                            41  
00001000  =00000008                 42  GSTRAD      EQU     8                       ; GHOST RADIUS
00001000                            43  
00001000                            44              
00001000                            45  ; --- SCOREBOARD RELATED CONSTANTS ---------------------------------------------
00001000                            46  ;MODIFICATE
00001000                            47  
00001000  =00000000                 48  SCOFCOL     EQU     $00000000               ; TEXT BACKGROUND COLOR
00001000  =00000101                 49  SCOLINE1    EQU     $0101                   ; FIRST TEXT LINE COORDINATES
00001000  =00000102                 50  SCOLINE2    EQU     $0102                   ; SECOND TEXT LINE COORDINATES
00001000                            51  
00001000                            52  ; --- MAP RELATED CONSTANTS ----------------------------------------------------
00001000                            53  
00001000= 01 01 01 01 01 01 ...     54  MAPMAT      DC.B    $1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
00001020= 01 00 00 00 00 00 ...     55              DC.B    $1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
00001040= 01 00 01 01 01 01 ...     56              DC.B    $1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1
00001060= 01 00 01 01 01 01 ...     57              DC.B    $1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1
00001080= 01 00 00 00 00 00 ...     58              DC.B    $1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
000010A0= 01 00 01 01 01 01 ...     59              DC.B    $1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1
000010C0= 01 00 01 01 01 01 ...     60              DC.B    $1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1
000010E0= 01 00 00 00 00 00 ...     61              DC.B    $1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
00001100= 01 00 01 01 01 01 ...     62              DC.B    $1,0,1,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1,1,0,1
00001120= 01 00 01 00 00 00 ...     63              DC.B    $1,0,1,0,0,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,0,0,1,0,1
00001140= 01 00 01 01 01 01 ...     64              DC.B    $1,0,1,1,1,1,1,0,1,0,1,0,0,0,0,1,1,0,0,0,0,1,0,1,0,1,1,1,1,1,0,1
00001160= 01 00 00 00 00 00 ...     65              DC.B    $1,0,0,0,0,0,0,0,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,0,0,0,0,0,0,0,1
00001180= 01 01 01 01 01 01 ...     66              DC.B    $1,1,1,1,1,1,1,0,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,0,1,1,1,1,1,1,1
000011A0= 01 00 00 00 00 00 ...     67              DC.B    $1,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,1
000011C0= 01 00 00 00 00 00 ...     68              DC.B    $1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,1,1,1,0,1,0,1,0,1,0,0,0,0,0,1
000011E0= 01 01 01 01 01 01 ...     69              DC.B    $1,1,1,1,1,1,1,0,1,1,1,0,1,0,0,0,0,0,0,1,0,1,1,1,0,1,1,1,1,1,1,1
00001200= 00 00 00 00 00 00 ...     70              DC.B    $0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
00001220= 01 01 01 01 01 01 ...     71              DC.B    $1,1,1,1,1,1,1,0,1,1,1,0,1,0,0,0,0,0,0,1,0,1,1,1,0,1,1,1,1,1,1,1
00001240= 01 00 00 00 00 00 ...     72              DC.B    $1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,0,0,0,0,1
00001260= 01 00 00 00 00 00 ...     73              DC.B    $1,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,1
00001280= 01 01 01 01 01 01 ...     74              DC.B    $1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1
000012A0= 01 00 00 00 00 00 ...     75              DC.B    $1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
000012C0= 01 00 01 01 01 01 ...     76              DC.B    $1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1
000012E0= 01 00 01 01 01 01 ...     77              DC.B    $1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1
00001300= 01 00 00 00 00 01 ...     78              DC.B    $1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1
00001320= 01 01 01 01 00 01 ...     79              DC.B    $1,1,1,1,0,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,0,1,1,1,1
00001340= 01 01 01 01 00 01 ...     80              DC.B    $1,1,1,1,0,1,1,0,1,0,1,0,1,1,1,1,1,1,1,1,0,1,0,1,0,1,1,0,1,1,1,1
00001360= 01 00 00 00 00 00 ...     81              DC.B    $1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1
00001380= 01 00 01 01 01 01 ...     82              DC.B    $1,0,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,0,1
000013A0= 01 00 01 01 01 01 ...     83              DC.B    $1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1
000013C0= 01 00 00 00 00 00 ...     84              DC.B    $1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
000013E0= 01 01 01 01 01 01 ...     85              DC.B    $1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
00001400                            86  
00001400                            87  
00001400                            88  
00001400                            89  
00001400                            90  
00001400                            91  
00001400                            92  
00001400                            93  
00001400                            94  
00001400                            95  
00001400                            96  
00001400                            97  
00001400                            98  
00001400                            99  
00001400                           100  
00001400                           101  -------------------- end include --------------------
00001400                           102              INCLUDE "GHOST.X68"
00001400                           103  ; ==============================================================================
00001400                           104  ; GHOST MANAGEMENT
00001400                           105  ; ==============================================================================
00001400                           106              
00001400                           107  ; ------------------------------------------------------------------------------
00001400                           108  GSTINIT
00001400                           109  ; INITIALIZE PADDLE.
00001400                           110  ; INPUT    : NONE 
00001400                           111  ; OUTPUT   : NONE
00001400                           112  ; MODIFIES : NONE
00001400                           113  ; ------------------------------------------------------------------------------
00001400  33FC 0140 00001C48       114              MOVE.W  #SCRWIDTH/2,(GSTPOSX)
00001408  33FC 0170 00001C4A       115              MOVE.W  #SCRHEIGH/2+48,(GSTPOSY)
00001410  5079 00001C48            116              ADDQ.W  #8,(GSTPOSX)
00001416  5079 00001C4A            117              ADDQ.W  #8,(GSTPOSY)
0000141C  33FC 0007 00001C4C       118              MOVE.W  #GSTSPEED,(GSTVELX)
00001424  33FC 0007 00001C4E       119              MOVE.W  #GSTSPEED,(GSTVELY)
0000142C  4239 00001C51            120              CLR.B   (GSTLAMO)
00001432  4E75                     121              RTS
00001434                           122              
00001434                           123  ; ------------------------------------------------------------------------------
00001434                           124  GSTUPD
00001434                           125  ; UPDATES THE PADDLE.
00001434                           126  ; INPUT    : NONE 
00001434                           127  ; OUTPUT   : NONE
00001434                           128  ; MODIFIES : NONE
00001434                           129  ; ------------------------------------------------------------------------------
00001434  48A7 F800                130              MOVEM.W D0-D4,-(A7)
00001438                           131              
00001438  303C 0007                132              MOVE.W  #GSTSPEED,D0
0000143C                           133              
0000143C  3439 00001C48            134              MOVE.W  (GSTPOSX),D2
00001442  3639 00001C4A            135              MOVE.W  (GSTPOSY),D3
00001448  5042                     136              ADDQ.W  #8,D2
0000144A  5043                     137              ADDQ.W  #8,D3
0000144C                           138              
0000144C  1839 00001C51            139              MOVE.B  (GSTLAMO),D4
00001452                           140              
00001452                           141              ;MASK OF THE LAST NIBBLE
00001452  C47C 000F                142              AND.W   #$000F,D2
00001456  C67C 000F                143              AND.W   #$000F,D3
0000145A                           144              
0000145A                           145              ;CHECK IF COORDS ARE MULTIPLES OF 16
0000145A  B47C 0000                146              CMP     #$0000,D2
0000145E  6600 000A                147              BNE     .GSTNOTMULT
00001462  B67C 0000                148              CMP     #$0000,D3
00001466  6600 0002                149              BNE     .GSTNOTMULT
0000146A                           150              
0000146A                           151  .GSTNOTMULT
0000146A                           152  
0000146A  4C9F 001F                153              MOVEM.W (A7)+,D0-D4
0000146E                           154              
0000146E  4E75                     155              RTS
00001470                           156              
00001470                           157  ; ------------------------------------------------------------------------------
00001470                           158  GSTPLOT
00001470                           159  ; PLOT THE PADDLE.
00001470                           160  ; INPUT    : NONE 
00001470                           161  ; OUTPUT   : NONE
00001470                           162  ; MODIFIES : NONE
00001470                           163  ; ------------------------------------------------------------------------------
00001470  48E7 F800                164              MOVEM.L D0-D4,-(A7)
00001474                           165              
00001474                           166              ;SET PEN COLOR
00001474  303C 0050                167              MOVE.W  #80,D0
00001478  223C 000000FF            168              MOVE.L  #GSTCOL1,D1
0000147E  4E4F                     169              TRAP    #15
00001480                           170              
00001480                           171              ;SET FILL COLOR
00001480  303C 0051                172              MOVE.W  #81,D0
00001484  223C 00FFFFFF            173              MOVE.L  #GSTFCOL1,D1
0000148A  4E4F                     174              TRAP    #15
0000148C                           175              
0000148C                           176              ;SET COORDS
0000148C  3239 00001C48            177              MOVE.W  (GSTPOSX),D1
00001492  5141                     178              SUB.W   #GSTRAD,D1
00001494  3439 00001C4A            179              MOVE.W  (GSTPOSY),D2
0000149A  5142                     180              SUB.W   #GSTRAD,D2
0000149C                           181              
0000149C  3601                     182              MOVE.W  D1,D3
0000149E  0643 0010                183              ADD.W   #GSTRAD*2,D3
000014A2  3802                     184              MOVE.W  D2,D4
000014A4  0644 0010                185              ADD.W   #GSTRAD*2,D4
000014A8                           186              
000014A8                           187              ;DRAW GHOST
000014A8  303C 0058                188              MOVE.W  #88,D0
000014AC  4E4F                     189              TRAP    #15
000014AE                           190              
000014AE  4CDF 001F                191              MOVEM.L (A7)+,D0-D4
000014B2                           192              
000014B2                           193  
000014B2  4E75                     194              RTS
000014B4                           195  
000014B4                           196  
000014B4                           197  -------------------- end include --------------------
000014B4                           198              INCLUDE "PAC-MAN.X68"
000014B4                           199  ; ==============================================================================
000014B4                           200  ; PAC-MAN MANAGEMENT
000014B4                           201  ; ==============================================================================
000014B4                           202              
000014B4                           203  ; ------------------------------------------------------------------------------
000014B4                           204  PMINIT
000014B4                           205  ; INITIALIZE PAC-MAN.
000014B4                           206  ; INPUT    : NONE 
000014B4                           207  ; OUTPUT   : NONE
000014B4                           208  ; MODIFIES : NONE
000014B4                           209  ; ------------------------------------------------------------------------------
000014B4                           210  
000014B4  33FC 0140 00001C3E       211              MOVE.W  #SCRWIDTH/2,(PMPOSX)
000014BC  33FC 0140 00001C40       212              MOVE.W  #SCRHEIGH/2,(PMPOSY)
000014C4  5079 00001C3E            213              ADDQ.W  #8,(PMPOSX)
000014CA  5079 00001C40            214              ADDQ.W  #8,(PMPOSY)
000014D0  33FC 0002 00001C42       215              MOVE.W  #PMSPEED,(PMVELX)
000014D8  33FC 0002 00001C44       216              MOVE.W  #PMSPEED,(PMVELY)
000014E0  4239 00001C47            217              CLR.B   (PMLAMO)
000014E6                           218  
000014E6  4E75                     219              RTS
000014E8                           220              
000014E8                           221  ; ------------------------------------------------------------------------------
000014E8                           222  PMUPD
000014E8                           223  ; UPDATES THE PAC-MAN.
000014E8                           224  ; INPUT    : NONE 
000014E8                           225  ; OUTPUT   : NONE
000014E8                           226  ; MODIFIES : NONE
000014E8                           227  ; ------------------------------------------------------------------------------
000014E8                           228              
000014E8  48A7 F800                229              MOVEM.W D0-D4,-(A7)
000014EC                           230              
000014EC  303C 0002                231              MOVE.W  #PMSPEED,D0
000014F0                           232              
000014F0                           233              
000014F0  3439 00001C3E            234              MOVE.W  (PMPOSX),D2
000014F6  3639 00001C40            235              MOVE.W  (PMPOSY),D3
000014FC                           236              
000014FC  5042                     237              ADDQ.W  #8,D2              
000014FE  5043                     238              ADDQ.W  #8,D3  
00001500                           239              
00001500  1839 00001C47            240              MOVE.B  (PMLAMO),D4
00001506                           241              
00001506                           242              ;MASK OF THE LAST NIBBLE        
00001506  C47C 000F                243              AND.W   #$000F,D2               ; COORDENADA X
0000150A  C67C 000F                244              AND.W   #$000F,D3               ; COORDENADA Y
0000150E                           245              
0000150E                           246              ;CHECK IF COORDS ARE MULTIPLES OF 16
0000150E  B47C 0000                247              CMP     #$0000,D2
00001512  6600 00A6                248              BNE     .NOTMULT
00001516  B67C 0000                249              CMP     #$0000,D3
0000151A  6600 009E                250              BNE     .NOTMULT
0000151E                           251  
0000151E                           252              ;CHECK THE DIRECTION
0000151E  0839 0000 0000183A       253              BTST.B  #0,(KBDVAL)             ;CHECK LEFT
00001526  6700 000C                254              BEQ     .NOTLEFT
0000152A  4204                     255              CLR.B   D4
0000152C  183C 0000                256              MOVE.B  #0,D4
00001530  6000 0058                257              BRA     .ACTXLEFT
00001534                           258  .NOTLEFT            
00001534  0839 0002 0000183A       259              BTST.B   #2,(KBDVAL)             ;CHECK RIGHT
0000153C  6700 000C                260              BEQ     .NOTRIGHT
00001540  4204                     261              CLR.B   D4
00001542  183C 0001                262              MOVE.B   #1,D4
00001546  6000 0032                263              BRA     .ACTXRIGHT
0000154A                           264  .NOTRIGHT            
0000154A  0839 0001 0000183A       265              BTST.B   #1,(KBDVAL)             ;CHECK UP
00001552  6700 000C                266              BEQ     .NOTUP
00001556  4204                     267              CLR.B   D4
00001558  183C 0002                268              MOVE.B  #2,D4
0000155C  6000 004C                269              BRA     .ACTYUP
00001560                           270  .NOTUP            
00001560  0839 0003 0000183A       271              BTST.B   #3,(KBDVAL)             ;CHECK DOWN
00001568  6700 000C                272              BEQ     .NOTDOWN
0000156C  4204                     273              CLR.B   D4
0000156E  183C 0003                274              MOVE.B   #3,D4
00001572  6000 0026                275              BRA     .ACTYDOWN
00001576                           276  .NOTDOWN
00001576  6000 0056                277              BRA     .DONE
0000157A                           278              
0000157A                           279              
0000157A                           280              ;UPDATE COORDS
0000157A                           281              
0000157A                           282  .ACTXRIGHT  
0000157A  4EB9 0000170A            283              JSR     COLWALLRIGHT
00001580  D179 00001C3E            284              ADD.W   D0,(PMPOSX)
00001586  6000 0046                285              BRA     .DONE
0000158A                           286  .ACTXLEFT
0000158A  4EB9 00001728            287              JSR     COLWALLLEFT
00001590  9179 00001C3E            288              SUB.W   D0,(PMPOSX)
00001596  6000 0036                289              BRA     .DONE
0000159A                           290      
0000159A                           291  .ACTYDOWN
0000159A  4EB9 00001728            292              JSR     COLWALLDOWN
000015A0  D179 00001C40            293              ADD.W   D0,(PMPOSY)
000015A6  6000 0026                294              BRA     .DONE
000015AA                           295  .ACTYUP     
000015AA  4EB9 00001728            296              JSR     COLWALLUP
000015B0  9179 00001C40            297              SUB.W   D0,(PMPOSY)
000015B6  6000 0016                298              BRA     .DONE
000015BA                           299              
000015BA                           300              
000015BA                           301              ;IF NOT MULT DO
000015BA                           302  .NOTMULT     
000015BA  B83C 0000                303              CMP.B     #0,D4
000015BE  67CA                     304              BEQ     .ACTXLEFT
000015C0  B83C 0001                305              CMP.B     #1,D4
000015C4  67B4                     306              BEQ     .ACTXRIGHT
000015C6  B83C 0002                307              CMP.B     #2,D4
000015CA  67DE                     308              BEQ     .ACTYUP
000015CC  60CC                     309              BRA     .ACTYDOWN
000015CE                           310  .DONE
000015CE                           311              ;RESTORE
000015CE  13C4 00001C47            312              MOVE.B  D4,(PMLAMO)
000015D4                           313              
000015D4  4C9F 001F                314              MOVEM.W (A7)+,D0-D4
000015D8                           315              
000015D8  4E75                     316              RTS
000015DA                           317                          
000015DA                           318  ; ------------------------------------------------------------------------------
000015DA                           319  PMPLOT
000015DA                           320  ; PLOT THE BALL.
000015DA                           321  ; INPUT    : NONE 
000015DA                           322  ; OUTPUT   : NONE
000015DA                           323  ; MODIFIES : NONE
000015DA                           324  ; ------------------------------------------------------------------------------
000015DA                           325  
000015DA  48E7 F800                326              MOVEM.L D0-D4,-(A7)
000015DE                           327  
000015DE                           328              ;SET PEN COLOR
000015DE  303C 0050                329              MOVE.W  #80,D0
000015E2  223C 0000FFFF            330              MOVE.L  #PMPCOL,D1
000015E8  4E4F                     331              TRAP    #15
000015EA                           332              
000015EA                           333              ;SET FILL COLOR
000015EA  303C 0051                334              MOVE.W  #81,D0
000015EE  223C 0000FFFF            335              MOVE.L  #PMFCOL,D1
000015F4  4E4F                     336              TRAP    #15
000015F6                           337              
000015F6                           338              ;SET COORDS
000015F6  3239 00001C3E            339              MOVE.W  (PMPOSX),D1
000015FC  5141                     340              SUB.W   #PMRAD,D1
000015FE  3439 00001C40            341              MOVE.W  (PMPOSY),D2
00001604  5142                     342              SUB.W   #PMRAD,D2
00001606                           343              
00001606  3601                     344              MOVE.W  D1,D3
00001608  0643 0010                345              ADD.W   #PMRAD*2,D3
0000160C  3802                     346              MOVE.W  D2,D4
0000160E  0644 0010                347              ADD.W   #PMRAD*2,D4
00001612                           348                
00001612                           349              ;DRAW PAC-MAN
00001612  303C 0058                350              MOVE.W  #88,D0
00001616  4E4F                     351              TRAP    #15
00001618                           352              
00001618  4CDF 001F                353              MOVEM.L (A7)+,D0-D4
0000161C                           354              
0000161C  4E75                     355              RTS
0000161E                           356  
0000161E                           357  
0000161E                           358  
0000161E                           359  
0000161E                           360  
0000161E                           361  
0000161E                           362  
0000161E                           363  
0000161E                           364  
0000161E                           365  
0000161E                           366  
0000161E                           367  
0000161E                           368  
0000161E                           369  
0000161E                           370  
0000161E                           371  
0000161E                           372  
0000161E                           373  
0000161E                           374  -------------------- end include --------------------
0000161E                           375              INCLUDE "SCORE.X68"
0000161E                           376  ; ==============================================================================
0000161E                           377  ; SCOREBOARD MANAGEMENT
0000161E                           378  ; ==============================================================================
0000161E                           379              
0000161E                           380  ; ------------------------------------------------------------------------------
0000161E                           381  SCOINIT
0000161E                           382  ; INITIALIZE SCOREBOARD
0000161E                           383  ; INPUT    : NONE 
0000161E                           384  ; OUTPUT   : NONE
0000161E                           385  ; MODIFIES : NONE
0000161E                           386  ; ------------------------------------------------------------------------------
0000161E  4E75                     387              RTS
00001620                           388              
00001620                           389  ; ------------------------------------------------------------------------------
00001620                           390  SCOPLOT
00001620                           391  ; PLOT THE SCOREBOARD
00001620                           392  ; INPUT    : NONE 
00001620                           393  ; OUTPUT   : NONE
00001620                           394  ; MODIFIES : NONE
00001620                           395  ; ------------------------------------------------------------------------------
00001620  4E75                     396              RTS
00001620  4E75                     397  -------------------- end include --------------------
00001622                           398              INCLUDE "SYSCONST.X68"
00001622                           399  ; ==============================================================================
00001622                           400  ; SYSTEM CONSTANTS
00001622                           401  ; ==============================================================================
00001622                           402  
00001622                           403  ; --- SCREEN RELATED CONSTANTS -------------------------------------------------
00001622                           404  
00001622  =00000280                405  SCRWIDTH    EQU     640                     ; SCREEN WIDTH
00001622  =00000280                406  SCRHEIGH    EQU     640                     ; SCREEN HEIGHT
00001622                           407  
00001622                           408  ;---KEYCODES--------------------------------------------------------------------
00001622                           409  
00001622  =00000025                410  KBDLEFT     EQU     $25
00001622  =00000026                411  KBDUP       EQU     $26
00001622  =00000027                412  KBDRIGHT    EQU     $27
00001622  =00000028                413  KBDDOWN     EQU     $28
00001622  =00000020                414  KBDFIRE1    EQU     ' '
00001622  =0000004D                415  KBDFIRE2    EQU     'M'                         
00001622  =00000010                416  KBDFIRE3    EQU     $10
00001622  =00000050                417  KBDPAUSE    EQU     'P'
00001622                           418  
00001622                           419  
00001622                           420  
00001622                           421  
00001622                           422  
00001622                           423  
00001622                           424  
00001622                           425  
00001622                           426  -------------------- end include --------------------
00001622                           427              INCLUDE "SYSTEM.X68"
00001622                           428  ; ==============================================================================
00001622                           429  ; SYSTEM
00001622                           430  ; ==============================================================================
00001622                           431              
00001622                           432  ; ------------------------------------------------------------------------------
00001622                           433  SYSINIT
00001622                           434  ; INITIALIZE SYSTEM.
00001622                           435  ; INPUT    : NONE
00001622                           436  ; OUTPUT   : NONE
00001622                           437  ; MODIFIES : NONE
00001622                           438  ; ------------------------------------------------------------------------------
00001622                           439              
00001622  21FC 00001692 0080       440              MOVE.L  #SCRUPD,($80+0*4)          ;INSTALL SUBRUTINE TO TRAP #0
0000162A  21FC 000016C2 0084       441              MOVE.L  #KBDUPD,($80+1*4)          ;INSTALL SUBRUTINE TO TRAP #1
00001632                           442              
00001632                           443              
00001632  21FC 000016AC 0064       444              MOVE.L  #SCRTIM,($60+1*4)          ;INSTALL INTERRUPT #1
0000163A                           445              
0000163A  4EB9 0000164E            446              JSR     SCRINIT
00001640  4EB9 000016B4            447              JSR     KBDINIT
00001646                           448              
00001646                           449              
00001646  40E7                     450              MOVE.W  SR,-(A7)
00001648  0257 D8FF                451              ANDI.W  #$D8FF,(A7)                ;BIT SUPERVISOR TO O AND INTERRPUT MASK 000 (FOR REACTIVATE INTERRUPTIONS)             
0000164C  4E73                     452              RTE
0000164E                           453     
0000164E                           454  ; ------------------------------------------------------------------------------
0000164E                           455  SCRINIT
0000164E                           456  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN, ENABLE BUFFER
0000164E                           457  ; ENABLE TIMED INTERRUPTION
0000164E                           458  ; INPUT    : NONE
0000164E                           459  ; OUTPUT   : NONE
0000164E                           460  ; MODIFIES : NONE
0000164E                           461  ; ------------------------------------------------------------------------------
0000164E                           462  
0000164E  48E7 C000                463              MOVEM.L D0-D1,-(A7)                 ;SAFE REGISTERS IN STACK
00001652                           464  
00001652                           465              ; SET SCREEN RESOLUTION
00001652  103C 0021                466              MOVE.B  #33,D0
00001656  223C 02800280            467              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
0000165C  4E4F                     468              TRAP    #15
0000165E                           469              
0000165E                           470              ; SET WINDOWED MODE
0000165E  7201                     471              MOVE.L  #1,D1
00001660  4E4F                     472              TRAP    #15
00001662                           473              
00001662                           474              ; ENABLE DOUBLE BUFFER
00001662  103C 005C                475              MOVE.B  #92,D0
00001666  123C 0011                476              MOVE.B  #17,D1
0000166A  4E4F                     477              TRAP    #15
0000166C                           478              
0000166C                           479              ; CLEAR SCREEN
0000166C  103C 000B                480              MOVE.B  #11,D0
00001670  323C FF00                481              MOVE.W  #$FF00,D1
00001674  4E4F                     482              TRAP    #15
00001676                           483              
00001676                           484              ;ENABLE TIMED INTERRPUT
00001676  303C 0020                485              MOVE.W  #32,D0
0000167A  123C 0006                486              MOVE.B  #6,D1
0000167E  143C 0081                487              MOVE.B  #$81,D2                   ;INDICATE THAT INTERRUPT 1 IS ACTIVATED PERIODICALLY
00001682  7614                     488              MOVE.L  #20,D3                    ;INDICATE THE MILISECONDS FOR THAT PERIOD (20 ms == 50 FPS)
00001684  4E4F                     489              TRAP    #15
00001686                           490              
00001686                           491              ;CLEAR INTERRUPT COUNTER
00001686  4239 0000183C            492              CLR.B   (SCRINTCT)
0000168C                           493              
0000168C  4CDF 0003                494              MOVEM.L (A7)+,D0-D1               ;RESTORE REGISTERS FROM STACK
00001690                           495              
00001690  4E75                     496              RTS
00001692                           497  
00001692                           498  
00001692                           499              
00001692                           500  ;------------------------------------------------------------------------------            
00001692                           501  SCRUPD
00001692                           502  ; UPDATES DOUBLE BUFFER
00001692                           503  ; INPUT    : NONE
00001692                           504  ; OUTPUT   : NONE
00001692                           505  ; MODIFIES : NONE
00001692                           506  ; ------------------------------------------------------------------------------
00001692                           507  
00001692  48A7 C000                508              MOVEM.W D0-D1,-(A7)
00001696                           509              
00001696                           510              ;SWITCH BUFFERS
00001696  103C 005E                511              MOVE.B #94,D0
0000169A  4E4F                     512              TRAP #15
0000169C                           513              
0000169C                           514              ;CLEAR HIDDEN BUFFER
0000169C  103C 000B                515              MOVE.B  #11,D0
000016A0  323C FF00                516              MOVE.W  #$FF00,D1
000016A4  4E4F                     517              TRAP    #15
000016A6                           518              
000016A6  4C9F 0003                519              MOVEM.W (A7)+,D0-D1
000016AA                           520              
000016AA  4E73                     521              RTE
000016AC                           522              
000016AC                           523  ;------------------------------------------------------------------------------            
000016AC                           524  SCRTIM
000016AC                           525  ; TIME INTERRPUT SERVICE ROUTINE FOR SYNC
000016AC                           526  ; INPUT    : NONE
000016AC                           527  ; OUTPUT   : NONE
000016AC                           528  ; MODIFIES : NONE
000016AC                           529  ; ------------------------------------------------------------------------------
000016AC                           530  
000016AC  5239 0000183C            531              ADDQ.B  #1,(SCRINTCT)
000016B2  4E73                     532              RTE
000016B4                           533              
000016B4                           534  ;------------------------------------------------------------------------------            
000016B4                           535  KBDINIT
000016B4                           536  ; INIT THE KEYBOARD
000016B4                           537  ; INPUT    : NONE
000016B4                           538  ; OUTPUT   : NONE
000016B4                           539  ; MODIFIES : NONE
000016B4                           540  ; ------------------------------------------------------------------------------
000016B4                           541  
000016B4  4239 0000183A            542              CLR.B   (KBDVAL)
000016BA  4239 0000183B            543              CLR.B   (KBDEDGE)
000016C0                           544  
000016C0  4E75                     545              RTS
000016C2                           546  
000016C2                           547  ;------------------------------------------------------------------------------            
000016C2                           548  KBDUPD
000016C2                           549  ; UPDATES KEYBOARD INFO
000016C2                           550  ; 3 -> DOWN
000016C2                           551  ; 2 -> RIGHT
000016C2                           552  ; 1 -> UP
000016C2                           553  ; 0 -> LEFT
000016C2                           554  ; ------------------------------------------------------------------------------
000016C2                           555              
000016C2  48E7 F800                556              MOVEM.L D0-D4,-(A7)
000016C6                           557              
000016C6  303C 0013                558              MOVE.W  #19,D0
000016CA                           559              ;GET INFO OF THE KEYS
000016CA  223C 28272625            560              MOVE.L  #KBDDOWN<<24|KBDRIGHT<<16|KBDUP<<8|KBDLEFT,D1
000016D0  4E4F                     561              TRAP    #15
000016D2                           562              
000016D2                           563              ;CONVERT TO DESIRED FORMAT
000016D2  4EB9 000016FC            564              JSR .CONVERT
000016D8                           565  
000016D8                           566              ;GET KBDEDGE (IF SOME KEY HAVE CHANGED THE VALUE)
000016D8  1039 0000183A            567              MOVE.B  (KBDVAL),D0             ;D0 -> LAST KBDVAL
000016DE  4600                     568              NOT.B   D0                      ;D2 -> ACTUAL KBDVAL
000016E0  C002                     569              AND.B   D2,D0
000016E2  13C0 0000183B            570              MOVE.B  D0,(KBDEDGE)
000016E8                           571              
000016E8                           572         
000016E8  B03C 0000                573              CMP.B   #0,D0
000016EC  6700 0008                574              BEQ     .NOACT          
000016F0                           575              
000016F0                           576              ;STORE NEW KBDVAL
000016F0  13C2 0000183A            577              MOVE.B  D2,(KBDVAL)
000016F6                           578  .NOACT
000016F6                           579              
000016F6  4CDF 001F                580              MOVEM.L (A7)+,D0-D4
000016FA                           581              
000016FA  4E73                     582              RTE    
000016FC                           583              
000016FC                           584  .CONVERT 
000016FC  363C 0003                585              MOVE.W  #3,D3
00001700                           586              
00001700  E189                     587  .LOOP       LSL.L   #8,D1
00001702  E312                     588              ROXL.B  #1,D2
00001704  51CB FFFA                589              DBRA.W  D3,.LOOP
00001708  4E75                     590              RTS
0000170A                           591             
0000170A                           592  
0000170A                           593  ;------------------------------------------------------------------------------            
0000170A                           594  COLWALLRIGHT
0000170A                           595  ; COLLISION PAC-MAN WITH WALL
0000170A                           596  ; INPUT    : NONE
0000170A                           597  ; OUTPUT   : NONE
0000170A                           598  ; MODIFIES : NONE
0000170A                           599  ; ------------------------------------------------------------------------------
0000170A                           600  
0000170A                           601  
0000170A  3039 00001C3E            602              MOVE.W  (PMPOSX),D0
00001710  3239 00001C40            603              MOVE.W  (PMPOSY),D1
00001716                           604              
00001716  81FC 0010                605              DIVS.W  #16,D0
0000171A  83FC 0010                606              DIVS.W  #16,D1
0000171E                           607              
0000171E  41F9 0000183D            608              LEA.L   MAPVAR,A0
00001724                           609              
00001724  5540                     610              SUB.W   #2,D0
00001726                           611              ;SUB.W   #2,D1
00001726                           612              
00001726                           613              ;BUCLE PER MIRAR POSICI� ESQUERRE DE PACMAN
00001726                           614              
00001726  1418                     615              MOVE.B  (A0)+,D2
00001728                           616              
00001728                           617  
00001728                           618  
00001728                           619  ;------------------------------------------------------------------------------            
00001728                           620  COLWALLLEFT
00001728                           621  ; COLLISION PAC-MAN WITH WALL
00001728                           622  ; INPUT    : NONE
00001728                           623  ; OUTPUT   : NONE
00001728                           624  ; MODIFIES : NONE
00001728                           625  ; ------------------------------------------------------------------------------
00001728                           626  
00001728                           627  
00001728                           628  
00001728                           629  
00001728                           630  
00001728                           631  
00001728                           632  
00001728                           633  
00001728                           634  
00001728                           635  
00001728                           636  ;------------------------------------------------------------------------------            
00001728                           637  COLWALLDOWN
00001728                           638  ; COLLISION PAC-MAN WITH WALL
00001728                           639  ; INPUT    : NONE
00001728                           640  ; OUTPUT   : NONE
00001728                           641  ; MODIFIES : NONE
00001728                           642  ; ------------------------------------------------------------------------------
00001728                           643  
00001728                           644  
00001728                           645  
00001728                           646  
00001728                           647  
00001728                           648  
00001728                           649  
00001728                           650  
00001728                           651  ;------------------------------------------------------------------------------            
00001728                           652  COLWALLUP
00001728                           653  ; COLLISION PAC-MAN WITH WALL
00001728                           654  ; INPUT    : NONE
00001728                           655  ; OUTPUT   : NONE
00001728                           656  ; MODIFIES : NONE
00001728                           657  ; ------------------------------------------------------------------------------
00001728                           658  
00001728                           659  -------------------- end include --------------------
00001728                           660              INCLUDE "MAP.X68"
00001728                           661  
00001728                           662  ; ------------------------------------------------------------------------------
00001728                           663  MAPINIT
00001728                           664  ; INIT MAP
00001728                           665  ; INPUT    : NONE
00001728                           666  ; OUTPUT   : NONE
00001728                           667  ; MODIFIES : NONE
00001728                           668  ; ------------------------------------------------------------------------------            
00001728                           669              
00001728  48E7 FE00                670              MOVEM.L D0-D6,-(A7)
0000172C  48E7 00C0                671              MOVEM.L A0-A1,-(A7)
00001730                           672              
00001730  21FC 000017BE 0088       673              MOVE.L  #DIBFIG,($80+2*4)          ;INSTALL SUBRUTINE TO TRAP #2
00001738                           674              
00001738                           675              
00001738  41F8 1000                676              LEA.L   MAPMAT,A0
0000173C  43F9 0000183D            677              LEA.L   MAPVAR,A1
00001742  3C3C 0030                678              MOVE.W  #48,D6
00001746  343C 001F                679              MOVE.W  #31,D2
0000174A                           680  BUCLE_FILA
0000174A  3A3C 0030                681              MOVE.W  #48,D5
0000174E  323C 001F                682              MOVE.W  #31,D1
00001752  0646 0010                683              ADD.W   #16,D6
00001756                           684  
00001756                           685  BUCLE_COLUMNA
00001756  0645 0010                686              ADD.W   #16,D5
0000175A                           687  
0000175A  1018                     688              MOVE.B  (A0)+,D0
0000175C  12C0                     689              MOVE.B  D0,(A1)+
0000175E  B07C 0000                690              CMP     #0,D0
00001762  6700 0004                691              BEQ     ZERO
00001766  4E42                     692              TRAP    #2
00001768                           693  
00001768                           694  ZERO
00001768  51C9 FFEC                695              DBRA    D1,BUCLE_COLUMNA
0000176C                           696              
0000176C  51CA FFDC                697              DBRA    D2,BUCLE_FILA
00001770                           698              
00001770  4CDF 0300                699              MOVEM.L (A7)+,A0-A1
00001774  4CDF 007F                700              MOVEM.L (A7)+,D0-D6
00001778                           701  
00001778                           702  
00001778                           703              
00001778  4E75                     704              RTS            
0000177A                           705  
0000177A                           706  ; ------------------------------------------------------------------------------
0000177A                           707  MAPPLOT
0000177A                           708  ; INIT MAP
0000177A                           709  ; INPUT    : NONE
0000177A                           710  ; OUTPUT   : NONE
0000177A                           711  ; MODIFIES : NONE
0000177A                           712  ; ------------------------------------------------------------------------------            
0000177A                           713  
0000177A  48E7 FE00                714              MOVEM.L D0-D6,-(A7)
0000177E  48E7 0080                715              MOVEM.L A0,-(A7)
00001782                           716  
00001782  41F9 0000183D            717              LEA.L   MAPVAR,A0
00001788  3C3C 0030                718              MOVE.W  #48,D6
0000178C  343C 001F                719              MOVE.W  #31,D2
00001790                           720  BUCLE_FILA2
00001790  3A3C 0030                721              MOVE.W  #48,D5
00001794  323C 001F                722              MOVE.W  #31,D1
00001798  0646 0010                723              ADD.W   #16,D6
0000179C                           724  
0000179C                           725  BUCLE_COLUMNA2
0000179C  0645 0010                726              ADD.W   #16,D5
000017A0                           727  
000017A0  1018                     728              MOVE.B  (A0)+,D0
000017A2  B07C 0000                729              CMP     #0,D0
000017A6  6700 0004                730              BEQ     ZERO2
000017AA  4E42                     731              TRAP    #2
000017AC                           732  
000017AC                           733  ZERO2
000017AC  51C9 FFEE                734              DBRA    D1,BUCLE_COLUMNA2
000017B0                           735              
000017B0  51CA FFDE                736              DBRA    D2,BUCLE_FILA2
000017B4                           737              
000017B4  4CDF 0100                738              MOVEM.L (A7)+,A0
000017B8  4CDF 007F                739              MOVEM.L (A7)+,D0-D6
000017BC                           740              
000017BC  4E75                     741              RTS 
000017BE                           742              
000017BE                           743  ; -----------------------------------------------------------------------------
000017BE                           744  DIBFIG
000017BE                           745  ; SUBRUTINE DRAW MAP
000017BE                           746  ; INPUT    : D5=POSITION X, D6=POSITION Y
000017BE                           747  ; OUTPUT   : NONE
000017BE                           748  ; MODIFIES : NONE
000017BE                           749  ; -----------------------------------------------------------------------------
000017BE  48E7 FE00                750              MOVEM.L D0-D6,-(A7)
000017C2                           751              ; SET CONTOURN COLOR
000017C2  103C 0050                752              MOVE.B  #80,D0
000017C6  223C 00AA0000            753              MOVE.L  #$00AA0000,D1
000017CC  4E4F                     754              TRAP    #15
000017CE                           755              
000017CE                           756              ; SET FILL COLOR
000017CE  103C 0051                757              MOVE.B  #81,D0
000017D2  223C 00FF0000            758              MOVE.L  #$00FF0000,D1
000017D8  4E4F                     759              TRAP    #15
000017DA                           760              
000017DA                           761              ; DEFINE COORDINATES RACTANGLE
000017DA  3205                     762              MOVE.W  D5,D1
000017DC  3406                     763              MOVE.W  D6,D2
000017DE  0645 0010                764              ADD.W   #16,D5
000017E2  0646 0010                765              ADD.W   #16,D6
000017E6  3605                     766              MOVE.W  D5,D3
000017E8  3806                     767              MOVE.W  D6,D4
000017EA                           768              
000017EA                           769              ; DRAW RECTANGLE
000017EA  103C 0057                770              MOVE.B  #87,D0
000017EE  4E4F                     771              TRAP    #15
000017F0                           772              
000017F0  4CDF 007F                773              MOVEM.L (A7)+,D0-D6
000017F4                           774  
000017F4  4E73                     775              RTE
000017F6                           776  
000017F6                           777  
000017F6                           778  
000017F6                           779  -------------------- end include --------------------
000017F6                           780              
000017F6                           781      
000017F6                           782  START:
000017F6                           783  
000017F6                           784  ;--- INITIALIZATION -----------------------------------------------------------
000017F6                           785  
000017F6  007C 0700                786              ORI.W   #$0700,SR               ;DISABLE INTERRUPTIONS
000017FA                           787  
000017FA  4EB8 1622                788              JSR     SYSINIT
000017FE  4EB8 14B4                789              JSR     PMINIT
00001802  4EB8 1728                790              JSR     MAPINIT
00001806  4EB8 1400                791              JSR     GSTINIT
0000180A  4EB8 161E                792              JSR     SCOINIT
0000180E                           793  
0000180E                           794  .LOOP
0000180E                           795  
0000180E                           796  ; --- UPDATE -------------------------------------------------------------------
0000180E                           797  
0000180E                           798  ; READ INPUT DEVICES
0000180E                           799  
0000180E  4E41                     800              TRAP    #1
00001810                           801  
00001810                           802  ; UPDATE GAME LOGIC
00001810                           803  
00001810  4EB8 14E8                804              JSR     PMUPD
00001814                           805              ;JSR     GSTUPD
00001814                           806              ;JSR     MAPINIT
00001814                           807  
00001814                           808  ; --- SYNC ---------------------------------------------------------------------
00001814                           809              ;WHILE THERES NO INTERRUPTS IN THE COUNTER THE PROGRAM WILL BE IN
00001814                           810              ;THE BUCLE
00001814                           811              
00001814  4A39 0000183C            812  .WAITINIT   TST.B   (SCRINTCT)
0000181A  67F8                     813              BEQ     .WAITINIT
0000181C  4239 0000183C            814              CLR.B   (SCRINTCT)
00001822                           815  
00001822                           816  ; --- PLOT ---------------------------------------------------------------------
00001822                           817              
00001822  4EB8 177A                818              JSR     MAPPLOT
00001826  4EB8 1620                819              JSR     SCOPLOT
0000182A  4EB8 15DA                820              JSR     PMPLOT
0000182E  4EB8 1470                821              JSR     GSTPLOT
00001832                           822              
00001832                           823              
00001832                           824              
00001832  4E40                     825              TRAP    #0                      ;CHANGE BUFFER
00001834                           826  
00001834  60D8                     827              BRA     .LOOP
00001836                           828  
00001836  FFFF FFFF                829              SIMHALT  
0000183A                           830             
0000183A                           831              INCLUDE "SYSVARS.X68"
0000183A                           832  ; ==============================================================================
0000183A                           833  ; SYSTEM VARIABLES
0000183A                           834  ; ==============================================================================
0000183A                           835   
0000183A                           836  ; --- KEYBOARD RELATED VARIABLES -----------------------------------------------
0000183A                           837  
0000183A                           838  KBDVAL      DS.B    1                       ; KEY STATE
0000183B                           839  KBDEDGE     DS.B    1                       ; KEY EDGE
0000183C                           840  
0000183C                           841  ; --- TIMED INTERRUPT RELATED VARIABLES ----------------------------------------
0000183C                           842  
0000183C                           843  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
0000183D                           844              DS.B    0           
0000183D                           845              
0000183D                           846  ; --- MAP RELATED VARIABLE -----------------------------------------------------
0000183D                           847  
0000183D                           848  MAPVAR      DS.B    1024
00001C3D                           849  
00001C3D                           850  
00001C3D                           851  
00001C3D                           852  
00001C3D                           853  -------------------- end include --------------------
00001C3D                           854              INCLUDE "VARS.X68"
00001C3D                           855  ; ==============================================================================
00001C3D                           856  ; GAME VARIABLES
00001C3D                           857  ; ==============================================================================
00001C3D                           858  
00001C3D                           859  ; --- PAC-MAN RELATED VARIABLES ------------------------------------------------
00001C3D                           860  
00001C3E                           861  PMPOSX      DS.W    1                       ; PM X COORDINATE
00001C40                           862  PMPOSY      DS.W    1                       ; PM Y COORDINATE
00001C42                           863  PMVELX      DS.W    1                       ; PM X VELOCITY
00001C44                           864  PMVELY      DS.W    1                       ; PM Y VELOCITY
00001C46                           865  PMEAT       DS.B    1                       ; PM BOOLEAN EAT GST
00001C47                           866  PMLAMO      DS.B    1                       ; PM SAVE LAST MOVEMENT X O Y
00001C48                           867  
00001C48                           868  ; --- GHOST RELATED VARIABLES --------------------------------------------------
00001C48                           869  
00001C48                           870  GSTPOSX     DS.W    1                       ; GST X COORDINATE
00001C4A                           871  GSTPOSY     DS.W    1                       ; GST Y COORDINATE
00001C4C                           872  GSTVELX     DS.W    1                       ; GST X VELOCITY
00001C4E                           873  GSTVELY     DS.W    1                       ; GST Y VELOCITY
00001C50                           874  GSTDEAD     DS.B    1                       ; GST BOOLEAN DEAD
00001C51                           875  GSTLAMO     DS.B    1                       ; GST LAST MOVEMENT (X OR Y)
00001C52                           876              DS.B    0
00001C52                           877  
00001C52                           878  ; --- SCOREBOARD RELATED VARIABLES ---------------------------------------------
00001C52                           879  
00001C52                           880  SCOLIFE     DS.W    1                       ; NUMBER OF LIFES
00001C54                           881  SCOBNS      DS.W    1                       ; NUMBER OF BONUS
00001C56                           882  
00001C56                           883  
00001C56                           884  
00001C56                           885  
00001C56                           886  -------------------- end include --------------------
00001C56                           887              
00001C56                           888              END    START        

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
BUCLE_COLUMNA       1756
BUCLE_COLUMNA2      179C
BUCLE_FILA          174A
BUCLE_FILA2         1790
COLWALLDOWN         1728
COLWALLLEFT         1728
COLWALLRIGHT        170A
COLWALLUP           1728
DIBFIG              17BE
GSTCOL1             FF
GSTCOL2             FF0080
GSTCOL3             FFFF00
GSTCOL4             80FF
GSTCOL5             800000
GSTDEAD             1C50
GSTFCOL1            FFFFFF
GSTFCOL2            0
GSTFCOL3            0
GSTFCOL4            0
GSTFCOL5            0
GSTINIT             1400
GSTLAMO             1C51
GSTPLOT             1470
GSTPOSX             1C48
GSTPOSY             1C4A
GSTRAD              8
GSTSPEED            7
GSTSPEED2           5
GSTUPD              1434
GSTUPD:GSTNOTMULT   146A
GSTVELX             1C4C
GSTVELY             1C4E
KBDDOWN             28
KBDEDGE             183B
KBDFIRE1            20
KBDFIRE2            4D
KBDFIRE3            10
KBDINIT             16B4
KBDLEFT             25
KBDPAUSE            50
KBDRIGHT            27
KBDUP               26
KBDUPD              16C2
KBDUPD:CONVERT      16FC
KBDUPD:LOOP         1700
KBDUPD:NOACT        16F6
KBDVAL              183A
MAPINIT             1728
MAPMAT              1000
MAPPLOT             177A
MAPVAR              183D
PMEAT               1C46
PMFCOL              FFFF
PMINIT              14B4
PMLAMO              1C47
PMPCOL              FFFF
PMPLOT              15DA
PMPOSX              1C3E
PMPOSY              1C40
PMRAD               8
PMSPEED             2
PMUPD               14E8
PMUPD:ACTXLEFT      158A
PMUPD:ACTXRIGHT     157A
PMUPD:ACTYDOWN      159A
PMUPD:ACTYUP        15AA
PMUPD:DONE          15CE
PMUPD:NOTDOWN       1576
PMUPD:NOTLEFT       1534
PMUPD:NOTMULT       15BA
PMUPD:NOTRIGHT      154A
PMUPD:NOTUP         1560
PMVELX              1C42
PMVELY              1C44
SCOBNS              1C54
SCOFCOL             0
SCOINIT             161E
SCOLIFE             1C52
SCOLINE1            101
SCOLINE2            102
SCOPLOT             1620
SCRHEIGH            280
SCRINIT             164E
SCRINTCT            183C
SCRTIM              16AC
SCRUPD              1692
SCRWIDTH            280
START               17F6
START:LOOP          180E
START:WAITINIT      1814
SYSINIT             1622
ZERO                1768
ZERO2               17AC
