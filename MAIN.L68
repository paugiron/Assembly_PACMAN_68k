000025AE Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 26/12/2022 12:02:20

00000000                             1  ; ==============================================================================
00000000                             2  ; TITLE       : PAC-MAN 68000
00000000                             3  ; DESCRIPTION : GAME IN MOTOROLA 68000 BASED ON PAC-MAN GAME
00000000                             4  ; AUTHOR      : JORDI FLORIT ENSENYAT
00000000                             5  ;               JOSEP GABRIEL FORNES REYNES
00000000                             6  ;               PAU GIRON RODRIGUEZ
00000000                             7  ; ==============================================================================
00001000                             8              ORG    $1000
00001000                             9  
00001000                            10              INCLUDE "CONST.X68"
00001000                            11  ; ==============================================================================
00001000                            12  ; GAME CONSTANTS
00001000                            13  ; ==============================================================================
00001000                            14  
00001000                            15  ; --- PAC-MAN RELATED CONTANTS ----------------------------------------------------
00001000                            16  
00001000  =0000FFFF                 17  PMPCOL      EQU     $0000FFFF               ; PAC-MAN CONTOUR COLOR
00001000  =0000FFFF                 18  PMFCOL      EQU     $0000FFFF               ; PAC-MAN FILL COLOR
00001000  =00000002                 19  PMSPEED     EQU     2                       ; MAGNITUDE OF THE X AND Y VEL.
00001000  =00000008                 20  PMRAD       EQU     8                       ; PAC-MAN RADIUS
00001000                            21  
00001000                            22  ; --- GHOST RELATED CONSTANTS ----------------------------------------------------
00001000                            23  
00001000  =00000002                 24  GSTSPEED    EQU     2                       ; MAGNITUDE OF THE NORMAL DISPLACEMENT
00001000  =00000005                 25  GSTSPEED2   EQU     5                       ; MAGNITUDE OF THE ATACKED DISPLACEMENT
00001000                            26  
00001000  =000000FF                 27  GSTCOL1     EQU     $000000FF               ; GHOST 1 CONTOUR COLOR RED
00001000  =00FFFFFF                 28  GSTFCOL1    EQU     $00FFFFFF               ; GHOST 1 FILL COLOR WHITE
00001000  =00000002                 29  GSTINX1     EQU     2                       ; GHOST 1 INITIAL X
00001000  =00000002                 30  GSTINY1     EQU     2                       ; GHOST 1 INITIAL Y
00001000                            31  
00001000  =00FF0080                 32  GSTCOL2     EQU     $00FF0080               ; GHOST 2 CONTOUR COLOR PINK
00001000  =00000000                 33  GSTFCOL2    EQU     $00000000               ; GHOST 1 FILL COLOR
00001000  =00000002                 34  GSTINX2     EQU     2                       ; GHOST 2 INITIAL X
00001000  =0000001F                 35  GSTINY2     EQU     31                      ; GHOST 2 INITIAL Y
00001000                            36  
00001000  =00FFFF00                 37  GSTCOL3     EQU     $00FFFF00               ; GHOST 3 CONTOUR COLOR CYAN
00001000  =00000000                 38  GSTFCOL3    EQU     $00000000               ; GHOST 3 FILL COLOR
00001000  =0000001F                 39  GSTINX3     EQU     31                      ; GHOST 3 INITIAL X
00001000  =00000002                 40  GSTINY3     EQU     2                       ; GHOST 3 INITIAL Y
00001000                            41  
00001000  =000080FF                 42  GSTCOL4     EQU     $000080FF               ; GHOST 4 CONTOUR COLOR ORANGE
00001000  =00000000                 43  GSTFCOL4    EQU     $00000000               ; GHOST 4 FILL COLOR
00001000  =0000001F                 44  GSTINX4     EQU     31                      ; GHOST 4 INITIAL X
00001000  =0000001F                 45  GSTINY4     EQU     31                      ; GHOST 4 INITIAL Y 
00001000                            46  
00001000  =00800000                 47  GSTCOL5     EQU     $00800000               ; CONTOUR COLOR OF ATACKED MODE
00001000  =00000000                 48  GSTFCOL5    EQU     $00000000               ; FILL COLOR OF ATACKED MODE
00001000                            49  
00001000  =00000008                 50  GSTRAD      EQU     8                       ; GHOST RADIUS
00001000  =00000010                 51  GSTRNG      EQU     16                      ; GHOST DETECTING RANGE
00001000= 0001 0002 0003 0004       52  GSTDECVEC   DC.W    1,2,3,4                 ; GHOST MOVEMENT DECISSIONS
00001008                            53              
00001008                            54  ; --- SCOREBOARD RELATED CONSTANTS ---------------------------------------------
00001008                            55  ;MODIFICATE
00001008                            56  
00001008  =00000000                 57  SCOFCOL     EQU     $00000000               ; TEXT BACKGROUND COLOR
00001008  =00000101                 58  SCOLINE1    EQU     $0101                   ; FIRST TEXT LINE COORDINATES
00001008  =00000102                 59  SCOLINE2    EQU     $0102                   ; SECOND TEXT LINE COORDINATES
00001008                            60  
00001008                            61  ; --- MAP RELATED CONSTANTS ----------------------------------------------------
00001008                            62  
00001008= 01 01 01 01 01 01 ...     63  MAPMAT      DC.B    $1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
00001028= 01 02 02 02 02 02 ...     64              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
00001048= 01 02 01 01 01 01 ...     65              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
00001068= 01 03 01 01 01 01 ...     66              DC.B    $1,3,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,3,1
00001088= 01 02 02 02 02 02 ...     67              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000010A8= 01 02 01 01 01 01 ...     68              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000010C8= 01 02 01 01 01 01 ...     69              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000010E8= 01 02 02 02 02 02 ...     70              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
00001108= 01 02 01 01 01 01 ...     71              DC.B    $1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,2,1
00001128= 01 02 01 00 00 00 ...     72              DC.B    $1,2,1,0,0,0,1,2,1,0,1,2,1,1,1,1,1,1,1,1,2,1,0,1,2,1,0,0,0,1,2,1
00001148= 01 02 01 01 01 01 ...     73              DC.B    $1,2,1,1,1,1,1,2,1,0,1,2,2,2,2,1,1,2,2,2,2,1,0,1,2,1,1,1,1,1,2,1
00001168= 01 02 02 02 02 02 ...     74              DC.B    $1,2,2,2,2,2,2,2,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,2,2,2,2,2,2,2,1
00001188= 01 01 01 01 01 01 ...     75              DC.B    $1,1,1,1,1,1,1,2,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,2,1,1,1,1,1,1,1
000011A8= 01 00 00 00 00 00 ...     76              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,2,1,0,0,0,0,0,1
000011C8= 01 00 00 00 00 00 ...     77              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,1,1,1,0,0,1,1,1,0,1,0,1,2,1,0,0,0,0,0,1
000011E8= 01 01 01 01 01 01 ...     78              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,0,0,0,0,0,0,1,0,1,1,1,2,1,1,1,1,1,1,1
00001208= 04 00 00 00 00 00 ...     79              DC.B    $4,0,0,0,0,0,0,2,2,2,2,0,1,0,0,0,0,0,0,1,0,2,2,2,2,0,0,0,0,0,0,4
00001228= 01 01 01 01 01 01 ...     80              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,0,0,0,0,0,0,1,0,1,1,1,2,1,1,1,1,1,1,1
00001248= 01 00 00 00 00 00 ...     81              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,1,1,1,1,1,1,1,1,0,1,0,1,2,1,0,0,0,0,0,1
00001268= 01 00 00 00 00 00 ...     82              DC.B    $1,0,0,0,0,0,1,2,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,2,1,0,0,0,0,0,1
00001288= 01 01 01 01 01 01 ...     83              DC.B    $1,1,1,1,1,1,1,2,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,2,1,1,1,1,1,1,1
000012A8= 01 02 02 02 02 02 ...     84              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000012C8= 01 02 01 01 01 01 ...     85              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
000012E8= 01 02 01 01 01 01 ...     86              DC.B    $1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1
00001308= 01 02 02 02 02 01 ...     87              DC.B    $1,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,1
00001328= 01 01 01 01 02 01 ...     88              DC.B    $1,1,1,1,2,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,2,1,1,1,1
00001348= 01 01 01 01 02 01 ...     89              DC.B    $1,1,1,1,2,1,1,2,1,0,1,2,1,1,1,1,1,1,1,1,2,1,0,1,2,1,1,2,1,1,1,1
00001368= 01 02 02 02 02 02 ...     90              DC.B    $1,2,2,2,2,2,2,2,1,0,1,2,2,2,2,1,1,2,2,2,2,1,0,1,2,2,2,2,2,2,2,1
00001388= 01 02 01 01 01 01 ...     91              DC.B    $1,2,1,1,1,1,1,1,1,0,1,1,1,1,2,1,1,2,1,1,1,1,0,1,1,1,1,1,1,1,2,1
000013A8= 01 03 01 01 01 01 ...     92              DC.B    $1,3,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,3,1
000013C8= 01 02 02 02 02 02 ...     93              DC.B    $1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
000013E8= 01 01 01 01 01 01 ...     94              DC.B    $1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
00001408                            95              
00001408                            96  ; --- STATE RELATED CONSTANTS --------------------------------------------------
00001408                            97  
00001408  =FFFFFFFF                 98  STANONE     EQU     -1                      ; NON-EXISTENT STATE NUMBER
00001408                            99  
00001408                           100  
00001408                           101  
00001408                           102  
00001408                           103  
00001408                           104  
00001408                           105  
00001408                           106  
00001408                           107  
00001408                           108  
00001408                           109  
00001408                           110  
00001408                           111  
00001408                           112  
00001408                           113  
00001408                           114  
00001408                           115  
00001408                           116  
00001408                           117  
00001408                           118  
00001408                           119  
00001408                           120  
00001408                           121  
00001408                           122  
00001408                           123  -------------------- end include --------------------
00001408                           124              INCLUDE "GHOST.X68"
00001408                           125  ; ==============================================================================
00001408                           126  ; GHOST MANAGEMENT
00001408                           127  ; ==============================================================================
00001408                           128              
00001408                           129  ; ------------------------------------------------------------------------------
00001408                           130  GSTINIT
00001408                           131  ; INITIALIZE GHOST.
00001408                           132  ; INPUT    : NONE 
00001408                           133  ; OUTPUT   : NONE
00001408                           134  ; MODIFIES : NONE
00001408                           135  ; ------------------------------------------------------------------------------
00001408  33FC 0058 00003476       136              MOVE.W  #GSTINX1*16+64-8,(GSTPOSX)
00001410  33FC 0058 00003478       137              MOVE.W  #GSTINY1*16+64-8,(GSTPOSY)
00001418  33FC 0002 0000347A       138              MOVE.W  #GSTSPEED,(GSTVELX)
00001420  33FC 0002 0000347C       139              MOVE.W  #GSTSPEED,(GSTVELY)
00001428  13FC 0001 0000347F       140              MOVE.B  #1,(GSTLAMO)
00001430  13FC 0000 00003483       141              MOVE.B  #0,(GSTCHDIR)
00001438  4E75                     142              RTS
0000143A                           143              
0000143A                           144  ; ------------------------------------------------------------------------------
0000143A                           145  GSTUPD
0000143A                           146  ; UPDATES THE GHOST.
0000143A                           147  ; INPUT    : NONE 
0000143A                           148  ; OUTPUT   : NONE
0000143A                           149  ; MODIFIES : NONE
0000143A                           150  ; ------------------------------------------------------------------------------
0000143A  48E7 FC00                151              MOVEM.L D0-D5,-(A7)
0000143E                           152              
0000143E                           153              ;MOVE.W  (PMPOSX)/16*(PMPOSX)/16+(PMPOSY)/16*(PMPOSY)/16,D0
0000143E  323C 0010                154              MOVE.W  #GSTRNG,D1
00001442  C2FC 0010                155              MULU.W  #GSTRNG,D1
00001446  9240                     156              SUB.W   D0,D1
00001448  303C 0002                157              MOVE.W  #GSTSPEED,D0
0000144C  6600 0016                158              BNE     .GSTINRNG
00001450                           159  .GSTNOTINRNG
00001450  4240                     160              CLR     D0
00001452  4241                     161              CLR     D1
00001454  383C 0000                162              MOVE.W  #0,D4
00001458  13FC 0001 00003480       163              MOVE.B  #1,(GSTINRNG)
00001460  6000 000E                164              BRA     .GSTMOVE
00001464                           165  .GSTINRNG
00001464  383C 0000                166              MOVE.W  #0,D4
00001468  13FC 0000 00003480       167              MOVE.B  #0,(GSTINRNG)
00001470                           168  .GSTMOVE
00001470  1439 00003483            169              MOVE.B  (GSTCHDIR),D2
00001476                           170              ;CMP.B   #1,D2
00001476                           171              ;BGE     .GSTNOTMULT
00001476  3439 00003476            172              MOVE.W  (GSTPOSX),D2
0000147C  3639 00003478            173              MOVE.W  (GSTPOSY),D3
00001482                           174              
00001482  5042                     175              ADDQ.W  #8,D2              
00001484  5043                     176              ADDQ.W  #8,D3
00001486                           177  
00001486                           178              ;MASK OF THE LAST NIBBLE        
00001486  C47C 000F                179              AND.W   #$000F,D2               ; COORDENADA X
0000148A  C67C 000F                180              AND.W   #$000F,D3               ; COORDENADA Y
0000148E                           181              
0000148E                           182              ;CHECK IF COORDS ARE MULTIPLES OF 16
0000148E  B47C 0000                183              CMP     #$0000,D2
00001492  6600 00E0                184              BNE     .GSTNOTMULT
00001496  B67C 0000                185              CMP     #$0000,D3
0000149A  6600 00D8                186              BNE     .GSTNOTMULT
0000149E                           187  .GSTMULT
0000149E  4279 00003482            188              CLR     (GSTPOSMV)
000014A4  13FC 0003 00003483       189              MOVE.B  #3,(GSTCHDIR)
000014AC                           190  .GSTMULTRIGHT
000014AC  4EB9 00001D18            191              JSR     GSTCOLWALLRIGHT
000014B2  BA7C 0001                192              CMP     #1,D5
000014B6  6700 000A                193              BEQ     .GSTMULTLEFT
000014BA  5239 00003482            194              ADD.B   #1,(GSTPOSMV)
000014C0  5244                     195              ADDQ.W  #1,D4
000014C2                           196  .GSTMULTLEFT
000014C2  4EB9 00001D54            197              JSR     GSTCOLWALLLEFT
000014C8  BA7C 0001                198              CMP     #1,D5
000014CC  6700 000A                199              BEQ     .GSTMULTDOWN
000014D0  5439 00003482            200              ADD.B   #2,(GSTPOSMV)
000014D6  5244                     201              ADDQ.W  #1,D4
000014D8                           202  .GSTMULTDOWN
000014D8  4EB9 00001D90            203              JSR     GSTCOLWALLDOWN
000014DE  BA7C 0001                204              CMP     #1,D5
000014E2  6700 000A                205              BEQ     .GSTMULTUP
000014E6  5839 00003482            206              ADD.B   #4,(GSTPOSMV)
000014EC  5244                     207              ADDQ.W  #1,D4
000014EE                           208  .GSTMULTUP
000014EE  4EB9 00001DC6            209              JSR     GSTCOLWALLUP
000014F4  BA7C 0001                210              CMP     #1,D5
000014F8  6700 000A                211              BEQ     .GSTDECISSION
000014FC  5039 00003482            212              ADD.B   #8,(GSTPOSMV)
00001502  5244                     213              ADDQ.W  #1,D4
00001504                           214  .GSTDECISSION
00001504  B87C 0002                215              CMP     #2,D4
00001508  6F00 006A                216              BLE     .GSTNOTMULT
0000150C  4EB9 00002058            217              JSR     UTLRAND
00001512  C0BC 00000006            218              AND.L   #$00000006,D0
00001518  43F8 1000                219              LEA     GSTDECVEC,A1
0000151C  3231 0000                220              MOVE.W  (A1,D0),D1
00001520  B27C 0001                221              CMP     #1,D1
00001524  6700 0016                222              BEQ     .GSTRANRIGHT
00001528  B27C 0002                223              CMP     #2,D1
0000152C  6700 001C                224              BEQ     .GSTRANLEFT
00001530  B27C 0003                225              CMP     #3,D1
00001534  6700 0022                226              BEQ     .GSTRANDOWN
00001538  6000 002C                227              BRA     .GSTRANUP          
0000153C                           228  .GSTRANRIGHT
0000153C  0839 0000 00003482       229              BTST.B  #0,(GSTPOSMV)
00001544  67BE                     230              BEQ     .GSTDECISSION
00001546  6000 0054                231              BRA     .GSTRIGHTMOVE
0000154A                           232  .GSTRANLEFT
0000154A  0839 0001 00003482       233              BTST.B  #1,(GSTPOSMV)
00001552  67B0                     234              BEQ     .GSTDECISSION
00001554  6000 007A                235              BRA     .GSTLEFTMOVE
00001558                           236  .GSTRANDOWN
00001558  0839 0002 00003482       237              BTST.B  #2,(GSTPOSMV)
00001560  67A2                     238              BEQ     .GSTDECISSION
00001562  6000 00A0                239              BRA     .GSTDOWNMOVE
00001566                           240  .GSTRANUP
00001566  0839 0003 00003482       241              BTST.B  #3,(GSTPOSMV)
0000156E  6794                     242              BEQ     .GSTDECISSION
00001570  6000 00B6                243              BRA     .GSTUPMOVE
00001574                           244  .GSTNOTMULT 
00001574  5339 00003483            245              SUB.B   #1,(GSTCHDIR)
0000157A  1839 0000347F            246              MOVE.B  (GSTLAMO),D4           
00001580  B87C 0001                247              CMP     #1,D4
00001584  6700 0016                248              BEQ     .GSTRIGHTMOVE
00001588  B87C 0002                249              CMP     #2,D4
0000158C  6700 0042                250              BEQ     .GSTLEFTMOVE
00001590  B87C 0003                251              CMP     #3,D4
00001594  6700 006E                252              BEQ     .GSTDOWNMOVE
00001598  6000 008E                253              BRA     .GSTUPMOVE
0000159C                           254  
0000159C                           255              ;UPDATE COORDS
0000159C                           256              
0000159C                           257  .GSTRIGHTMOVE
0000159C  4EB9 00001D18            258              JSR     GSTCOLWALLRIGHT
000015A2  BA7C 0001                259              CMP     #1,D5
000015A6  6600 0006                260              BNE     .GSTNOTCOLISION
000015AA  303C 0000                261              MOVE.W  #0,D0
000015AE                           262  .GSTNOTCOLISION
000015AE  BA7C 0004                263              CMP     #4,D5
000015B2  6600 000A                264              BNE     .GSTNOTTP
000015B6  0479 01E0 00003476       265              SUB.W   #30*16,(GSTPOSX)
000015BE                           266  .GSTNOTTP
000015BE  D179 00003476            267              ADD.W   D0,(GSTPOSX)
000015C4  13FC 0001 0000347F       268              MOVE.B  #1,(GSTLAMO)
000015CC  6000 007E                269              BRA     .GSTDONE
000015D0                           270  .GSTLEFTMOVE
000015D0  4EB9 00001D54            271              JSR     GSTCOLWALLLEFT
000015D6  BA7C 0001                272              CMP     #1,D5
000015DA  6600 0006                273              BNE     .GSTNOTCOLISION2
000015DE  303C 0000                274              MOVE.W  #0,D0
000015E2                           275  .GSTNOTCOLISION2
000015E2  BA7C 0004                276              CMP     #4,D5
000015E6  6600 000A                277              BNE     .GSTNOTTP2
000015EA  0679 01E0 00003476       278              ADD.W   #30*16,(GSTPOSX)
000015F2                           279  .GSTNOTTP2
000015F2  9179 00003476            280              SUB.W   D0,(GSTPOSX)
000015F8  13FC 0002 0000347F       281              MOVE.B  #2,(GSTLAMO)
00001600  6000 004A                282              BRA     .GSTDONE
00001604                           283      
00001604                           284  .GSTDOWNMOVE
00001604  4EB9 00001D90            285              JSR     GSTCOLWALLDOWN
0000160A  BA7C 0001                286              CMP     #1,D5
0000160E  6600 0006                287              BNE     .GSTNOTCOLISION3
00001612  303C 0000                288              MOVE.W  #0,D0
00001616                           289  .GSTNOTCOLISION3
00001616  D179 00003478            290              ADD.W   D0,(GSTPOSY)
0000161C  13FC 0003 0000347F       291              MOVE.B  #3,(GSTLAMO)
00001624  6000 0026                292              BRA     .GSTDONE
00001628                           293  .GSTUPMOVE    
00001628  4EB9 00001DC6            294              JSR     GSTCOLWALLUP
0000162E  BA7C 0001                295              CMP     #1,D5
00001632  6600 0006                296              BNE     .GSTNOTCOLISION4
00001636  303C 0000                297              MOVE.W  #0,D0
0000163A                           298  .GSTNOTCOLISION4
0000163A  9179 00003478            299              SUB.W   D0,(GSTPOSY)
00001640  13FC 0004 0000347F       300              MOVE.B  #4,(GSTLAMO)
00001648  6000 0002                301              BRA     .GSTDONE
0000164C                           302  
0000164C                           303  .GSTDONE
0000164C                           304  
0000164C  4CDF 003F                305              MOVEM.L (A7)+,D0-D5
00001650                           306              
00001650  4E75                     307              RTS
00001652                           308              
00001652                           309  ; SUBRUTINES FOR GHOST UPDATE --------------------------------------------------
00001652                           310  
00001652                           311  GST2DECISSIONS
00001652                           312  
00001652  48E7 F800                313              MOVEM.L D0-D4,-(A7)
00001656                           314              
00001656  1039 00003482            315              MOVE.B  (GSTPOSMV),D0
0000165C  1239 00003482            316              MOVE.B  (GSTPOSMV),D1
00001662  1439 00003482            317              MOVE.B  (GSTPOSMV),D2
00001668  1639 00003482            318              MOVE.B  (GSTPOSMV),D3
0000166E                           319              
0000166E  4CDF 001F                320              MOVEM.L (A7)+,D0-D4
00001672                           321              
00001672                           322  ; ------------------------------------------------------------------------------
00001672                           323  GSTPLOT
00001672                           324  ; PLOT THE GHOST.
00001672                           325  ; INPUT    : NONE 
00001672                           326  ; OUTPUT   : NONE
00001672                           327  ; MODIFIES : NONE
00001672                           328  ; ------------------------------------------------------------------------------
00001672  48E7 F800                329              MOVEM.L D0-D4,-(A7)
00001676                           330              
00001676                           331              ;SET PEN COLOR
00001676  303C 0050                332              MOVE.W  #80,D0
0000167A  223C 000000FF            333              MOVE.L  #GSTCOL1,D1
00001680  4E4F                     334              TRAP    #15
00001682                           335              
00001682                           336              ;SET FILL COLOR
00001682  303C 0051                337              MOVE.W  #81,D0
00001686  223C 00FFFFFF            338              MOVE.L  #GSTFCOL1,D1
0000168C  4E4F                     339              TRAP    #15
0000168E                           340              
0000168E                           341              ;SET COORDS
0000168E  3239 00003476            342              MOVE.W  (GSTPOSX),D1
00001694  5141                     343              SUB.W   #GSTRAD,D1
00001696  3439 00003478            344              MOVE.W  (GSTPOSY),D2
0000169C  5142                     345              SUB.W   #GSTRAD,D2
0000169E                           346              
0000169E  3601                     347              MOVE.W  D1,D3
000016A0  0643 0010                348              ADD.W   #GSTRAD*2,D3
000016A4  3802                     349              MOVE.W  D2,D4
000016A6  0644 0010                350              ADD.W   #GSTRAD*2,D4
000016AA                           351              
000016AA                           352              ;DRAW GHOST
000016AA  303C 0058                353              MOVE.W  #88,D0
000016AE  4E4F                     354              TRAP    #15
000016B0                           355              
000016B0                           356              ;SET RANGE COORDS
000016B0  3239 00003476            357              MOVE.W  (GSTPOSX),D1
000016B6  0441 0100                358              SUB.W   #GSTRNG*16,D1
000016BA  3439 00003478            359              MOVE.W  (GSTPOSY),D2
000016C0  0442 0100                360              SUB.W   #GSTRNG*16,D2
000016C4                           361              
000016C4  3601                     362              MOVE.W  D1,D3
000016C6  0643 0200                363              ADD.W   #GSTRNG*16*2,D3
000016CA  3802                     364              MOVE.W  D2,D4
000016CC  0644 0200                365              ADD.W   #GSTRNG*16*2,D4
000016D0                           366              
000016D0                           367              ;DRAW GHOST RANGE
000016D0  303C 005B                368              MOVE.W  #91,D0
000016D4  4E4F                     369              TRAP    #15
000016D6                           370              
000016D6  4CDF 001F                371              MOVEM.L (A7)+,D0-D4
000016DA                           372              
000016DA                           373  
000016DA  4E75                     374              RTS
000016DC                           375  
000016DC                           376  
000016DC                           377  
000016DC                           378  
000016DC                           379  
000016DC                           380  
000016DC                           381  
000016DC                           382  
000016DC                           383  -------------------- end include --------------------
000016DC                           384              INCLUDE "PAC-MAN.X68"
000016DC                           385  ; ==============================================================================
000016DC                           386  ; PAC-MAN MANAGEMENT
000016DC                           387  ; ==============================================================================
000016DC                           388              
000016DC                           389  ; ------------------------------------------------------------------------------
000016DC                           390  PMINIT
000016DC                           391  ; INITIALIZE PAC-MAN.
000016DC                           392  ; INPUT    : NONE 
000016DC                           393  ; OUTPUT   : NONE
000016DC                           394  ; MODIFIES : NONE
000016DC                           395  ; ------------------------------------------------------------------------------
000016DC                           396  
000016DC  33FC 0140 0000346C       397              MOVE.W  #SCRWIDTH/2,(PMPOSX)
000016E4  33FC 0140 0000346E       398              MOVE.W  #SCRHEIGH/2,(PMPOSY)
000016EC  5079 0000346C            399              ADDQ.W  #8,(PMPOSX)
000016F2  5079 0000346E            400              ADDQ.W  #8,(PMPOSY)
000016F8  33FC 0002 00003470       401              MOVE.W  #PMSPEED,(PMVELX)
00001700  33FC 0002 00003472       402              MOVE.W  #PMSPEED,(PMVELY)
00001708  4239 00003475            403              CLR.B   (PMLAMO)
0000170E                           404  
0000170E  4E75                     405              RTS
00001710                           406              
00001710                           407  ; ------------------------------------------------------------------------------
00001710                           408  PMUPD
00001710                           409  ; UPDATES THE PAC-MAN.
00001710                           410  ; INPUT    : NONE 
00001710                           411  ; OUTPUT   : NONE
00001710                           412  ; MODIFIES : NONE
00001710                           413  ; ------------------------------------------------------------------------------
00001710                           414              
00001710  48E7 FE00                415              MOVEM.L D0-D6,-(A7)
00001714                           416              
00001714  303C 0002                417              MOVE.W  #PMSPEED,D0
00001718                           418              
00001718                           419              
00001718  3439 0000346C            420              MOVE.W  (PMPOSX),D2
0000171E  3639 0000346E            421              MOVE.W  (PMPOSY),D3
00001724                           422              
00001724  5042                     423              ADDQ.W  #8,D2              
00001726  5043                     424              ADDQ.W  #8,D3  
00001728                           425              
00001728  1839 00003475            426              MOVE.B  (PMLAMO),D4
0000172E                           427              
0000172E                           428              ;MASK OF THE LAST NIBBLE        
0000172E  C47C 000F                429              AND.W   #$000F,D2               ; COORDENADA X
00001732  C67C 000F                430              AND.W   #$000F,D3               ; COORDENADA Y
00001736                           431              
00001736                           432              ;CHECK IF COORDS ARE MULTIPLES OF 16
00001736  B47C 0000                433              CMP     #$0000,D2
0000173A  6600 0116                434              BNE     .NOTMULT
0000173E  B67C 0000                435              CMP     #$0000,D3
00001742  6600 010E                436              BNE     .NOTMULT
00001746                           437              
00001746                           438              ;BRA     .ACTYUP
00001746                           439  
00001746                           440              ;CHECK THE DIRECTION
00001746  0839 0000 000025DA       441              BTST.B  #0,(KBDVAL)             ;CHECK LEFT
0000174E  6700 000C                442              BEQ     .NOTLEFT
00001752  4204                     443              CLR.B   D4
00001754  183C 0000                444              MOVE.B  #0,D4
00001758  6000 007C                445              BRA     .ACTXLEFT
0000175C                           446  .NOTLEFT            
0000175C  0839 0002 000025DA       447              BTST.B   #2,(KBDVAL)             ;CHECK RIGHT
00001764  6700 000C                448              BEQ     .NOTRIGHT
00001768  4204                     449              CLR.B   D4
0000176A  183C 0001                450              MOVE.B   #1,D4
0000176E  6000 0032                451              BRA     .ACTXRIGHT
00001772                           452  .NOTRIGHT            
00001772  0839 0001 000025DA       453              BTST.B   #1,(KBDVAL)             ;CHECK UP
0000177A  6700 000C                454              BEQ     .NOTUP
0000177E  4204                     455              CLR.B   D4
00001780  183C 0002                456              MOVE.B  #2,D4
00001784  6000 00A8                457              BRA     .ACTYUP
00001788                           458  .NOTUP            
00001788  0839 0003 000025DA       459              BTST.B   #3,(KBDVAL)             ;CHECK DOWN
00001790  6700 000C                460              BEQ     .NOTDOWN
00001794  4204                     461              CLR.B   D4
00001796  183C 0003                462              MOVE.B   #3,D4
0000179A  6000 006E                463              BRA     .ACTYDOWN
0000179E                           464  .NOTDOWN
0000179E  6000 00CA                465              BRA     .DONE
000017A2                           466              
000017A2                           467              
000017A2                           468              ;UPDATE COORDS
000017A2                           469              
000017A2                           470  .ACTXRIGHT  
000017A2  4EB9 00001C1A            471              JSR     COLWALLRIGHT
000017A8  BA7C 0001                472              CMP     #1,D5
000017AC  6600 000E                473              BNE     .NOTCOLISION
000017B0  13FC 0000 000025DA       474              MOVE.B  #0,(KBDVAL)
000017B8  303C 0000                475              MOVE.W  #0,D0
000017BC                           476  .NOTCOLISION
000017BC  BA7C 0004                477              CMP     #4,D5
000017C0  6600 000A                478              BNE     .NOTTP
000017C4  0479 01E0 0000346C       479              SUB.W   #30*16,(PMPOSX)
000017CC                           480  .NOTTP
000017CC  D179 0000346C            481              ADD.W   D0,(PMPOSX)
000017D2  6000 0096                482              BRA     .DONE
000017D6                           483  .ACTXLEFT
000017D6  4EB9 00001C5C            484              JSR     COLWALLLEFT
000017DC  BA7C 0001                485              CMP     #1,D5
000017E0  6600 000E                486              BNE     .NOTCOLISION2
000017E4  13FC 0000 000025DA       487              MOVE.B  #0,(KBDVAL)
000017EC  303C 0000                488              MOVE.W  #0,D0
000017F0                           489  .NOTCOLISION2
000017F0  BA7C 0004                490              CMP     #4,D5
000017F4  6600 000A                491              BNE     .NOTTP2
000017F8  0679 01E0 0000346C       492              ADD.W   #30*16,(PMPOSX)
00001800                           493  .NOTTP2
00001800  9179 0000346C            494              SUB.W   D0,(PMPOSX)
00001806  6000 0062                495              BRA     .DONE
0000180A                           496      
0000180A                           497  .ACTYDOWN
0000180A  4EB9 00001C9E            498              JSR     COLWALLDOWN
00001810  BA7C 0001                499              CMP     #1,D5
00001814  6600 000E                500              BNE     .NOTCOLISION3
00001818  13FC 0000 000025DA       501              MOVE.B  #0,(KBDVAL)
00001820  303C 0000                502              MOVE.W  #0,D0
00001824                           503  .NOTCOLISION3
00001824  D179 0000346E            504              ADD.W   D0,(PMPOSY)
0000182A  6000 003E                505              BRA     .DONE
0000182E                           506  .ACTYUP     
0000182E  4EB9 00001CDA            507              JSR     COLWALLUP
00001834  BA7C 0001                508              CMP     #1,D5
00001838  6600 000E                509              BNE     .NOTCOLISION4
0000183C  13FC 0000 000025DA       510              MOVE.B  #0,(KBDVAL)
00001844  303C 0000                511              MOVE.W  #0,D0
00001848                           512  .NOTCOLISION4
00001848  9179 0000346E            513              SUB.W   D0,(PMPOSY)
0000184E  6000 001A                514              BRA     .DONE
00001852                           515              
00001852                           516              
00001852                           517              ;IF NOT MULT DO
00001852                           518  .NOTMULT     
00001852  B83C 0000                519              CMP.B     #0,D4
00001856  6700 FF7E                520              BEQ     .ACTXLEFT
0000185A  B83C 0001                521              CMP.B     #1,D4
0000185E  6700 FF42                522              BEQ     .ACTXRIGHT
00001862  B83C 0002                523              CMP.B     #2,D4
00001866  67C6                     524              BEQ     .ACTYUP
00001868  60A0                     525              BRA     .ACTYDOWN
0000186A                           526  .DONE
0000186A                           527              ;RESTORE
0000186A  4EB9 00001DFE            528              JSR     GETPOINTS
00001870  13C4 00003475            529              MOVE.B  D4,(PMLAMO)
00001876                           530              
00001876  4CDF 007F                531              MOVEM.L (A7)+,D0-D6
0000187A                           532              
0000187A  4E75                     533              RTS
0000187C                           534                          
0000187C                           535  ; ------------------------------------------------------------------------------
0000187C                           536  PMPLOT
0000187C                           537  ; PLOT THE BALL.
0000187C                           538  ; INPUT    : NONE 
0000187C                           539  ; OUTPUT   : NONE
0000187C                           540  ; MODIFIES : NONE
0000187C                           541  ; ------------------------------------------------------------------------------
0000187C                           542  
0000187C  48E7 FC00                543              MOVEM.L D0-D5,-(A7)
00001880                           544  
00001880                           545              ;SET PEN COLOR
00001880  303C 0050                546              MOVE.W  #80,D0
00001884  7200                     547              MOVE.L  #$0000,D1
00001886  4E4F                     548              TRAP    #15
00001888                           549              
00001888                           550              ;SET FILL COLOR
00001888  303C 0051                551              MOVE.W  #81,D0
0000188C  223C 0000FFFF            552              MOVE.L  #PMFCOL,D1
00001892  4E4F                     553              TRAP    #15
00001894                           554              
00001894  0839 0003 000025DD       555              BTST.B  #3,(SCRCYCCT)
0000189C  6700 000C                556              BEQ     .MOUTHOPEN
000018A0                           557              
000018A0                           558              ;DRAW QUIET
000018A0  4EB9 0000193E            559              JSR     .FULLDRAW
000018A6  6000 0090                560              BRA     .DDONE
000018AA                           561              
000018AA                           562  .MOUTHOPEN     
000018AA  4EB9 0000193E            563              JSR     .FULLDRAW       
000018B0  1A39 000025DA            564              MOVE.B  (KBDVAL),D5
000018B6  CA3C 000F                565              AND.B   #$0F,D5
000018BA                           566   
000018BA                           567              ;CHECK KBDVAL
000018BA  BA3C 0000                568              CMP.B   #$0,D5
000018BE  6700 0022                569              BEQ     .NOTMOVE
000018C2  BA3C 0001                570              CMP.B  #$1,D5             ;LEFT
000018C6  6700 0038                571              BEQ     .DLEFT
000018CA  BA3C 0002                572              CMP.B  #$2,D5             ;UP
000018CE  6700 0026                573              BEQ     .DUP
000018D2  BA3C 0004                574              CMP.B  #$4,D5             ;RIGHT
000018D6  6700 0014                575              BEQ     .DRIGHT
000018DA  BA3C 0008                576              CMP.B  #$8,D5             ;DOWN
000018DE  6700 002A                577              BEQ     .DDOWN
000018E2                           578              
000018E2                           579              ;DRAW MOVEMENT
000018E2  4EB9 0000193E            580  .NOTMOVE    JSR     .FULLDRAW
000018E8  6000 004E                581              BRA     .DDONE
000018EC                           582  .DRIGHT
000018EC  4EB9 00001994            583              JSR     .RIGHTDRAW
000018F2  6000 0034                584              BRA     .DRAW_MOUTH3
000018F6                           585  .DUP
000018F6  4EB9 000019C6            586              JSR     .UPDRAW
000018FC  6000 0020                587              BRA     .DRAW_MOUTH2
00001900                           588  
00001900                           589  .DLEFT
00001900  4EB9 00001962            590              JSR     .LEFTDRAW
00001906  6000 000C                591              BRA     .DRAW_MOUTH1
0000190A                           592  
0000190A                           593  .DDOWN
0000190A  4EB9 000019F8            594              JSR     .DOWNDRAW
00001910  6000 0020                595              BRA     .DRAW_MOUTH4
00001914                           596              
00001914                           597  .DRAW_MOUTH1            
00001914  4EB9 00001A2A            598              JSR     .SET_MOUTHLEFT
0000191A  6000 001C                599              BRA     .DDONE
0000191E                           600  .DRAW_MOUTH2            
0000191E  4EB9 00001A66            601              JSR     .SET_MOUTHUP
00001924  6000 0012                602              BRA     .DDONE
00001928                           603  .DRAW_MOUTH3            
00001928  4EB9 00001A48            604              JSR     .SET_MOUTHRIGHT
0000192E  6000 0008                605              BRA     .DDONE
00001932                           606  .DRAW_MOUTH4            
00001932  4EB9 00001A84            607              JSR     .SET_MOUTHDOWN
00001938                           608  .DDONE
00001938  4CDF 003F                609              MOVEM.L (A7)+,D0-D5
0000193C                           610              
0000193C  4E75                     611              RTS
0000193E                           612  
0000193E                           613  
0000193E                           614  ;INTERNAL SUBRUTINES FOR PACMAN PLOT-------------------------------------------------------------
0000193E                           615  
0000193E                           616  .FULLDRAW
0000193E                           617              ;SET COORDS
0000193E  3239 0000346C            618              MOVE.W  (PMPOSX),D1
00001944  5141                     619              SUB.W   #PMRAD,D1
00001946  3439 0000346E            620              MOVE.W  (PMPOSY),D2
0000194C  5142                     621              SUB.W   #PMRAD,D2
0000194E                           622              
0000194E  3601                     623              MOVE.W  D1,D3
00001950  0643 0010                624              ADD.W   #PMRAD*2,D3
00001954  3802                     625              MOVE.W  D2,D4
00001956  0644 0010                626              ADD.W   #PMRAD*2,D4
0000195A                           627              
0000195A                           628              ;DRAW PAC-MAN
0000195A  303C 0058                629              MOVE.W  #88,D0
0000195E  4E4F                     630              TRAP    #15
00001960                           631              
00001960  4E75                     632              RTS
00001962                           633  .LEFTDRAW
00001962                           634              
00001962                           635              
00001962  303C 0054                636              MOVE.W  #84,D0
00001966  3239 0000346C            637              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
0000196C  5141                     638              SUB.W   #PMRAD,D1
0000196E  3439 0000346E            639              MOVE.W  (PMPOSY),D2
00001974  5142                     640              SUB.W   #PMRAD,D2
00001976                           641              
00001976  3639 0000346C            642              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
0000197C  3839 0000346E            643              MOVE.W  (PMPOSY),D4
00001982                           644              
00001982  4E4F                     645              TRAP    #15
00001984                           646             
00001984  303C 0055                647              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001988                           648              
00001988  3203                     649              MOVE.W  D3,D1
0000198A  3404                     650              MOVE.W  D4,D2
0000198C  5042                     651              ADD.W   #PMRAD,D2
0000198E  5141                     652              SUB.W   #PMRAD,D1
00001990                           653              
00001990  4E4F                     654              TRAP    #15
00001992                           655              
00001992                           656              
00001992  4E75                     657              RTS
00001994                           658              
00001994                           659  .RIGHTDRAW
00001994                           660              
00001994                           661              
00001994  303C 0054                662              MOVE.W  #84,D0
00001998  3239 0000346C            663              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
0000199E  5041                     664              ADD.W   #PMRAD,D1
000019A0  3439 0000346E            665              MOVE.W  (PMPOSY),D2
000019A6  5042                     666              ADD.W   #PMRAD,D2
000019A8                           667              
000019A8  3639 0000346C            668              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
000019AE  3839 0000346E            669              MOVE.W  (PMPOSY),D4
000019B4                           670              
000019B4  4E4F                     671              TRAP    #15
000019B6                           672             
000019B6  303C 0055                673              MOVE.W  #85,D0                        ;DRAW SECOND LINE
000019BA                           674              
000019BA  3203                     675              MOVE.W  D3,D1
000019BC  3404                     676              MOVE.W  D4,D2
000019BE  5142                     677              SUB.W   #PMRAD,D2
000019C0  5041                     678              ADD.W   #PMRAD,D1
000019C2                           679              
000019C2  4E4F                     680              TRAP    #15
000019C4                           681              
000019C4                           682              
000019C4  4E75                     683              RTS
000019C6                           684  .UPDRAW
000019C6                           685              
000019C6                           686              
000019C6  303C 0054                687              MOVE.W  #84,D0
000019CA  3239 0000346C            688              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
000019D0  5141                     689              SUB.W   #PMRAD,D1
000019D2  3439 0000346E            690              MOVE.W  (PMPOSY),D2
000019D8  5142                     691              SUB.W   #PMRAD,D2
000019DA                           692              
000019DA  3639 0000346C            693              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
000019E0  3839 0000346E            694              MOVE.W  (PMPOSY),D4
000019E6                           695              
000019E6  4E4F                     696              TRAP    #15
000019E8                           697             
000019E8  303C 0055                698              MOVE.W  #85,D0                        ;DRAW SECOND LINE
000019EC                           699              
000019EC  3203                     700              MOVE.W  D3,D1
000019EE  3404                     701              MOVE.W  D4,D2
000019F0  5142                     702              SUB.W   #PMRAD,D2
000019F2  5041                     703              ADD.W   #PMRAD,D1
000019F4                           704              
000019F4  4E4F                     705              TRAP    #15
000019F6                           706              
000019F6                           707              
000019F6  4E75                     708              RTS
000019F8                           709              
000019F8                           710  .DOWNDRAW
000019F8                           711              
000019F8                           712              
000019F8  303C 0054                713              MOVE.W  #84,D0
000019FC  3239 0000346C            714              MOVE.W  (PMPOSX),D1                   ;FINAL COORD OF THE FIRST LINE
00001A02  5141                     715              SUB.W   #PMRAD,D1
00001A04  3439 0000346E            716              MOVE.W  (PMPOSY),D2
00001A0A  5042                     717              ADD.W   #PMRAD,D2
00001A0C                           718              
00001A0C  3639 0000346C            719              MOVE.W  (PMPOSX),D3                   ;ORIGINAL COORD FIRST LINE
00001A12  3839 0000346E            720              MOVE.W  (PMPOSY),D4
00001A18                           721              
00001A18  4E4F                     722              TRAP    #15
00001A1A                           723             
00001A1A  303C 0055                724              MOVE.W  #85,D0                        ;DRAW SECOND LINE
00001A1E                           725              
00001A1E  3203                     726              MOVE.W  D3,D1
00001A20  3404                     727              MOVE.W  D4,D2
00001A22  5042                     728              ADD.W   #PMRAD,D2
00001A24  5041                     729              ADD.W   #PMRAD,D1
00001A26                           730              
00001A26  4E4F                     731              TRAP    #15
00001A28                           732              
00001A28                           733              
00001A28  4E75                     734              RTS
00001A2A                           735  
00001A2A                           736              
00001A2A                           737  .SET_MOUTHLEFT
00001A2A                           738              
00001A2A  303C 0051                739              MOVE.W  #81,D0                         ;SET BLACK
00001A2E  7200                     740              MOVE.L  #$0000,D1
00001A30  4E4F                     741              TRAP    #15
00001A32                           742              
00001A32  303C 0059                743              MOVE.W  #89,D0                         ;FILL
00001A36  3239 0000346C            744              MOVE.W  (PMPOSX),D1
00001A3C  5541                     745              SUBQ.W   #2,D1
00001A3E  3439 0000346E            746              MOVE.W  (PMPOSY),D2
00001A44  4E4F                     747              TRAP    #15
00001A46                           748  
00001A46  4E75                     749              RTS
00001A48                           750              
00001A48                           751  .SET_MOUTHRIGHT
00001A48                           752              
00001A48  303C 0051                753              MOVE.W  #81,D0                         ;SET BLACK
00001A4C  7200                     754              MOVE.L  #$0000,D1
00001A4E  4E4F                     755              TRAP    #15
00001A50                           756              
00001A50  303C 0059                757              MOVE.W  #89,D0                         ;FILL
00001A54  3239 0000346C            758              MOVE.W  (PMPOSX),D1
00001A5A  5441                     759              ADDQ.W   #2,D1
00001A5C  3439 0000346E            760              MOVE.W  (PMPOSY),D2
00001A62  4E4F                     761              TRAP    #15
00001A64                           762  
00001A64  4E75                     763              RTS
00001A66                           764  
00001A66                           765  .SET_MOUTHUP
00001A66                           766              
00001A66  303C 0051                767              MOVE.W  #81,D0                         ;SET BLACK
00001A6A  7200                     768              MOVE.L  #$0000,D1
00001A6C  4E4F                     769              TRAP    #15
00001A6E                           770              
00001A6E  303C 0059                771              MOVE.W  #89,D0                         ;FILL
00001A72  3239 0000346C            772              MOVE.W  (PMPOSX),D1
00001A78  3439 0000346E            773              MOVE.W  (PMPOSY),D2
00001A7E  5542                     774              SUBQ.W   #2,D2
00001A80  4E4F                     775              TRAP    #15
00001A82                           776  
00001A82  4E75                     777              RTS
00001A84                           778  
00001A84                           779  .SET_MOUTHDOWN
00001A84                           780              
00001A84  303C 0051                781              MOVE.W  #81,D0                         ;SET BLACK
00001A88  7200                     782              MOVE.L  #$0000,D1
00001A8A  4E4F                     783              TRAP    #15
00001A8C                           784              
00001A8C  303C 0059                785              MOVE.W  #89,D0                         ;FILL
00001A90  3239 0000346C            786              MOVE.W  (PMPOSX),D1
00001A96  3439 0000346E            787              MOVE.W  (PMPOSY),D2
00001A9C  5442                     788              ADDQ.W   #2,D2
00001A9E  4E4F                     789              TRAP    #15
00001AA0                           790  
00001AA0  4E75                     791              RTS
00001AA2                           792  
00001AA2                           793  
00001AA2                           794  
00001AA2                           795  
00001AA2                           796  
00001AA2                           797  
00001AA2                           798  
00001AA2                           799  
00001AA2                           800  
00001AA2                           801  
00001AA2                           802  
00001AA2                           803  
00001AA2                           804  
00001AA2                           805  
00001AA2                           806  
00001AA2                           807  
00001AA2                           808  
00001AA2                           809  
00001AA2                           810  
00001AA2                           811  
00001AA2                           812  
00001AA2                           813  
00001AA2                           814  
00001AA2                           815  
00001AA2                           816  
00001AA2                           817  
00001AA2                           818  
00001AA2                           819  -------------------- end include --------------------
00001AA2                           820              INCLUDE "SCORE.X68"
00001AA2                           821  ; ==============================================================================
00001AA2                           822  ; SCOREBOARD MANAGEMENT
00001AA2                           823  ; ==============================================================================
00001AA2                           824              
00001AA2                           825  ; ------------------------------------------------------------------------------
00001AA2                           826  SCOINIT
00001AA2                           827  ; INITIALIZE SCOREBOARD
00001AA2                           828  ; INPUT    : NONE 
00001AA2                           829  ; OUTPUT   : NONE
00001AA2                           830  ; MODIFIES : NONE
00001AA2                           831  ; ------------------------------------------------------------------------------
00001AA2  4279 00003486            832              CLR.W   (SCOPOINTS)
00001AA8  33FC 0003 00003484       833              MOVE.W  #3,(SCOLIFE)
00001AB0  4E75                     834              RTS
00001AB2                           835              
00001AB2                           836  ; ------------------------------------------------------------------------------
00001AB2                           837  SCOPLOT
00001AB2                           838  ; PLOT THE SCOREBOARD
00001AB2                           839  ; INPUT    : NONE 
00001AB2                           840  ; OUTPUT   : NONE
00001AB2                           841  ; MODIFIES : NONE
00001AB2                           842  ; ------------------------------------------------------------------------------
00001AB2                           843              
00001AB2  48E7 C040                844               MOVEM.L D0-D1/A1,-(A7)
00001AB6                           845  
00001AB6                           846              ; SET BACKGROUND COLOR
00001AB6  103C 0051                847              MOVE.B  #81,D0
00001ABA  7200                     848              MOVE.L  #SCOFCOL,D1
00001ABC  4E4F                     849              TRAP    #15
00001ABE                           850              
00001ABE                           851              ; SET FIRST LINE POSITION
00001ABE  103C 000B                852              MOVE.B  #11,D0
00001AC2  323C 0101                853              MOVE.W  #SCOLINE1,D1
00001AC6  4E4F                     854              TRAP    #15
00001AC8                           855  
00001AC8                           856              ; PRINT FIRST LINE
00001AC8  43F9 00001B00            857              LEA     .TXT1,A1            ;PUT FIRST STRING IN A1
00001ACE  4281                     858              CLR.L   D1
00001AD0  3239 00003486            859              MOVE.W  (SCOPOINTS),D1
00001AD6  103C 0011                860              MOVE.B  #17,D0
00001ADA  4E4F                     861              TRAP    #15
00001ADC                           862  
00001ADC                           863              ; SET SECOND LINE POSITION
00001ADC  103C 000B                864              MOVE.B  #11,D0
00001AE0  323C 0102                865              MOVE.W  #SCOLINE2,D1       
00001AE4  4E4F                     866              TRAP    #15
00001AE6                           867  
00001AE6                           868              ; PRINT SECOND LINE
00001AE6  43F9 00001B09            869              LEA     .TXT2,A1
00001AEC  4281                     870              CLR.L   D1
00001AEE  3239 00003484            871              MOVE.W  (SCOLIFE),D1
00001AF4  103C 0011                872              MOVE.B  #17,D0
00001AF8  4E4F                     873              TRAP    #15
00001AFA                           874              
00001AFA  4CDF 0203                875              MOVEM.L (A7)+,D0-D1/A1
00001AFE                           876              
00001AFE  4E75                     877              RTS
00001B00                           878  
00001B00= 50 4F 49 4E 54 53 ...    879  .TXT1       DC.B    'POINTS :',0      ;0 IS END OF STRING
00001B09= 4C 49 46 45 53 20 ...    880  .TXT2       DC.B    'LIFES  :',0
00001B12                           881  
00001B12                           882  
00001B12  4E75                     883              RTS
00001B14                           884  
00001B14                           885  
00001B14                           886  -------------------- end include --------------------
00001B14                           887              INCLUDE "SYSCONST.X68"
00001B14                           888  ; ==============================================================================
00001B14                           889  ; SYSTEM CONSTANTS
00001B14                           890  ; ==============================================================================
00001B14                           891  
00001B14                           892  ; --- SCREEN RELATED CONSTANTS -------------------------------------------------
00001B14                           893  
00001B14  =00000280                894  SCRWIDTH    EQU     640                     ; SCREEN WIDTH
00001B14  =00000280                895  SCRHEIGH    EQU     640                     ; SCREEN HEIGHT
00001B14                           896  
00001B14                           897  ;--- TITLE RELATED CONSTANTS ---------------------------------------------------
00001B14= 74 69 74 6C 65 2E ...    898  FILENAME    DC.B    'title.txt',0
00001B1E  =00000A8C                899  FILESIZE    EQU     2700
00001B1E                           900              DS.B    0                       
00001B1E                           901  ;---KEYCODES--------------------------------------------------------------------
00001B1E                           902  
00001B1E  =00000025                903  KBDLEFT     EQU     $25
00001B1E  =00000026                904  KBDUP       EQU     $26
00001B1E  =00000027                905  KBDRIGHT    EQU     $27
00001B1E  =00000028                906  KBDDOWN     EQU     $28
00001B1E  =00000020                907  KBDFIRE1    EQU     ' '
00001B1E  =0000004D                908  KBDFIRE2    EQU     'M'                         
00001B1E  =00000010                909  KBDFIRE3    EQU     $10
00001B1E  =00000050                910  KBDPAUSE    EQU     'P'
00001B1E                           911  
00001B1E                           912  
00001B1E                           913  
00001B1E                           914  
00001B1E                           915  
00001B1E                           916  
00001B1E                           917  
00001B1E                           918  
00001B1E                           919  
00001B1E                           920  
00001B1E                           921  -------------------- end include --------------------
00001B1E                           922              INCLUDE "SYSTEM.X68"
00001B1E                           923  ; ==============================================================================
00001B1E                           924  ; SYSTEM
00001B1E                           925  ; ==============================================================================
00001B1E                           926              
00001B1E                           927  ; ------------------------------------------------------------------------------
00001B1E                           928  SYSINIT
00001B1E                           929  ; INITIALIZE SYSTEM.
00001B1E                           930  ; INPUT    : NONE
00001B1E                           931  ; OUTPUT   : NONE
00001B1E                           932  ; MODIFIES : NONE
00001B1E                           933  ; ------------------------------------------------------------------------------
00001B1E                           934              
00001B1E  21FC 00001B8E 0080       935              MOVE.L  #SCRUPD,($80+0*4)          ;INSTALL SUBRUTINE TO TRAP #0
00001B26  21FC 00001BC4 0084       936              MOVE.L  #KBDUPD,($80+1*4)          ;INSTALL SUBRUTINE TO TRAP #1
00001B2E                           937              
00001B2E                           938              
00001B2E  21FC 00001BA8 0064       939              MOVE.L  #SCRTIM,($60+1*4)          ;INSTALL INTERRUPT #1
00001B36                           940              
00001B36  4EB9 00001B4A            941              JSR     SCRINIT
00001B3C  4EB9 00001BB6            942              JSR     KBDINIT
00001B42                           943              
00001B42                           944              
00001B42  40E7                     945              MOVE.W  SR,-(A7)
00001B44  0257 D8FF                946              ANDI.W  #$D8FF,(A7)                ;BIT SUPERVISOR TO O AND INTERRPUT MASK 000 (FOR REACTIVATE INTERRUPTIONS)             
00001B48  4E73                     947              RTE
00001B4A                           948     
00001B4A                           949  ; ------------------------------------------------------------------------------
00001B4A                           950  SCRINIT
00001B4A                           951  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN, ENABLE BUFFER
00001B4A                           952  ; ENABLE TIMED INTERRUPTION
00001B4A                           953  ; INPUT    : NONE
00001B4A                           954  ; OUTPUT   : NONE
00001B4A                           955  ; MODIFIES : NONE
00001B4A                           956  ; ------------------------------------------------------------------------------
00001B4A                           957  
00001B4A  48E7 C000                958              MOVEM.L D0-D1,-(A7)                 ;SAFE REGISTERS IN STACK
00001B4E                           959  
00001B4E                           960              ; SET SCREEN RESOLUTION
00001B4E  103C 0021                961              MOVE.B  #33,D0
00001B52  223C 02800280            962              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
00001B58  4E4F                     963              TRAP    #15
00001B5A                           964              
00001B5A                           965              ; SET WINDOWED MODE
00001B5A  7201                     966              MOVE.L  #1,D1
00001B5C  4E4F                     967              TRAP    #15
00001B5E                           968              
00001B5E                           969              ; ENABLE DOUBLE BUFFER
00001B5E  103C 005C                970              MOVE.B  #92,D0
00001B62  123C 0011                971              MOVE.B  #17,D1
00001B66  4E4F                     972              TRAP    #15
00001B68                           973              
00001B68                           974              ; CLEAR SCREEN
00001B68  103C 000B                975              MOVE.B  #11,D0
00001B6C  323C FF00                976              MOVE.W  #$FF00,D1
00001B70  4E4F                     977              TRAP    #15
00001B72                           978              
00001B72                           979              ;ENABLE TIMED INTERRPUT
00001B72  303C 0020                980              MOVE.W  #32,D0
00001B76  123C 0006                981              MOVE.B  #6,D1
00001B7A  143C 0081                982              MOVE.B  #$81,D2                   ;INDICATE THAT INTERRUPT 1 IS ACTIVATED PERIODICALLY
00001B7E  7614                     983              MOVE.L  #20,D3                    ;INDICATE THE MILISECONDS FOR THAT PERIOD (20 ms == 50 FPS)
00001B80  4E4F                     984              TRAP    #15
00001B82                           985              
00001B82                           986              ;CLEAR INTERRUPT COUNTER
00001B82  4239 000025DC            987              CLR.B   (SCRINTCT)
00001B88                           988              
00001B88  4CDF 0003                989              MOVEM.L (A7)+,D0-D1               ;RESTORE REGISTERS FROM STACK
00001B8C                           990              
00001B8C  4E75                     991              RTS
00001B8E                           992  
00001B8E                           993  
00001B8E                           994              
00001B8E                           995  ;------------------------------------------------------------------------------            
00001B8E                           996  SCRUPD
00001B8E                           997  ; UPDATES DOUBLE BUFFER
00001B8E                           998  ; INPUT    : NONE
00001B8E                           999  ; OUTPUT   : NONE
00001B8E                          1000  ; MODIFIES : NONE
00001B8E                          1001  ; ------------------------------------------------------------------------------
00001B8E                          1002  
00001B8E  48E7 C000               1003              MOVEM.L D0-D1,-(A7)
00001B92                          1004              
00001B92                          1005              ;SWITCH BUFFERS
00001B92  103C 005E               1006              MOVE.B #94,D0
00001B96  4E4F                    1007              TRAP #15
00001B98                          1008              
00001B98                          1009              ;CLEAR HIDDEN BUFFER
00001B98  103C 000B               1010              MOVE.B  #11,D0
00001B9C  323C FF00               1011              MOVE.W  #$FF00,D1
00001BA0  4E4F                    1012              TRAP    #15
00001BA2                          1013              
00001BA2  4CDF 0003               1014              MOVEM.L (A7)+,D0-D1
00001BA6                          1015              
00001BA6  4E73                    1016              RTE
00001BA8                          1017              
00001BA8                          1018  ; ------------------------------------------------------------------------------
00001BA8                          1019  SCRTIM
00001BA8                          1020  ; TIMED INTERRUPT SERVICE ROUTINE
00001BA8                          1021  ; INPUT    : NONE
00001BA8                          1022  ; OUTPUT   : NONE
00001BA8                          1023  ; MODIFIES : NONE
00001BA8                          1024  ; ------------------------------------------------------------------------------
00001BA8  5239 000025DC           1025              ADDQ.B  #1,(SCRINTCT)
00001BAE  5239 000025DD           1026              ADDQ.B  #1,(SCRCYCCT)
00001BB4  4E73                    1027              RTE
00001BB6                          1028              
00001BB6                          1029  ;------------------------------------------------------------------------------            
00001BB6                          1030  KBDINIT
00001BB6                          1031  ; INIT THE KEYBOARD
00001BB6                          1032  ; INPUT    : NONE
00001BB6                          1033  ; OUTPUT   : NONE
00001BB6                          1034  ; MODIFIES : NONE
00001BB6                          1035  ; ------------------------------------------------------------------------------
00001BB6                          1036  
00001BB6  4239 000025DA           1037              CLR.B   (KBDVAL)
00001BBC  4239 000025DB           1038              CLR.B   (KBDEDGE)
00001BC2                          1039  
00001BC2  4E75                    1040              RTS
00001BC4                          1041  
00001BC4                          1042  ;------------------------------------------------------------------------------            
00001BC4                          1043  KBDUPD
00001BC4                          1044  ; UPDATES KEYBOARD INFO
00001BC4                          1045  ; 3 -> DOWN     (HEX: 8)
00001BC4                          1046  ; 2 -> RIGHT    (HEX: 4)
00001BC4                          1047  ; 1 -> UP       (HEX: 2)
00001BC4                          1048  ; 0 -> LEFT     (HEX: 1)
00001BC4                          1049  ; ------------------------------------------------------------------------------
00001BC4                          1050              
00001BC4  48E7 F800               1051              MOVEM.L D0-D4,-(A7)
00001BC8                          1052              
00001BC8                          1053              ; READ FIRST PART
00001BC8  103C 0013               1054              MOVE.B  #19,D0
00001BCC  223C 50104D20           1055              MOVE.L  #KBDPAUSE<<24|KBDFIRE3<<16|KBDFIRE2<<8|KBDFIRE1,D1
00001BD2  4E4F                    1056              TRAP    #15
00001BD4                          1057  
00001BD4                          1058              ; CONVERT TO DESIRED FORMAT
00001BD4  4EB9 00001C0C           1059              JSR     .CONVERT
00001BDA                          1060  
00001BDA                          1061              ; READ SECOND PART
00001BDA  223C 28272625           1062              MOVE.L  #KBDDOWN<<24|KBDRIGHT<<16|KBDUP<<8|KBDLEFT,D1
00001BE0  4E4F                    1063              TRAP    #15
00001BE2                          1064              
00001BE2                          1065              ;CONVERT TO DESIRED FORMAT
00001BE2  4EB9 00001C0C           1066              JSR .CONVERT
00001BE8                          1067  
00001BE8                          1068              ;GET KBDEDGE (IF SOME KEY HAVE CHANGED THE VALUE)
00001BE8  1039 000025DA           1069              MOVE.B  (KBDVAL),D0             ;D0 -> LAST KBDVAL
00001BEE  4600                    1070              NOT.B   D0                      ;D2 -> ACTUAL KBDVAL
00001BF0  C002                    1071              AND.B   D2,D0
00001BF2  13C0 000025DB           1072              MOVE.B  D0,(KBDEDGE)
00001BF8                          1073              
00001BF8                          1074         
00001BF8  B03C 0000               1075              CMP.B   #0,D0
00001BFC  6700 0008               1076              BEQ     .NOACT          
00001C00                          1077              
00001C00                          1078              ;STORE NEW KBDVAL
00001C00  13C2 000025DA           1079              MOVE.B  D2,(KBDVAL)
00001C06                          1080  .NOACT
00001C06                          1081              
00001C06  4CDF 001F               1082              MOVEM.L (A7)+,D0-D4
00001C0A                          1083              
00001C0A  4E73                    1084              RTE    
00001C0C                          1085              
00001C0C                          1086  .CONVERT 
00001C0C  363C 0003               1087              MOVE.W  #3,D3
00001C10                          1088              
00001C10  E189                    1089  .LOOP       LSL.L   #8,D1
00001C12  E312                    1090              ROXL.B  #1,D2
00001C14  51CB FFFA               1091              DBRA.W  D3,.LOOP
00001C18  4E75                    1092              RTS
00001C1A                          1093             
00001C1A                          1094  
00001C1A                          1095  ;------------------------------------------------------------------------------            
00001C1A                          1096  COLWALLRIGHT
00001C1A                          1097  ; COLLISION PAC-MAN WITH WALL
00001C1A                          1098  ; INPUT    : NONE
00001C1A                          1099  ; OUTPUT   : NONE
00001C1A                          1100  ; MODIFIES : NONE
00001C1A                          1101  ; ------------------------------------------------------------------------------
00001C1A                          1102  
00001C1A  48E7 F800               1103              MOVEM.L D0-D4,-(A7)
00001C1E                          1104  
00001C1E  3039 0000346C           1105              MOVE.W  (PMPOSX),D0
00001C24  5140                    1106              SUB.W   #8,D0
00001C26  3239 0000346E           1107              MOVE.W  (PMPOSY),D1
00001C2C  5041                    1108              ADD.W   #8,D1
00001C2E                          1109              
00001C2E  81FC 0010               1110              DIVS.W  #16,D0
00001C32  83FC 0010               1111              DIVS.W  #16,D1
00001C36                          1112              
00001C36  5940                    1113              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001C38  5941                    1114              SUB.W   #4,D1
00001C3A                          1115              
00001C3A  41F9 000025DE           1116              LEA.L   MAPVAR,A0
00001C40                          1117              
00001C40  5240                    1118              ADD.W   #1,D0
00001C42  5341                    1119              SUB.W   #1,D1
00001C44  C2FC 0020               1120              MULU.W  #32,D1
00001C48  D041                    1121              ADD.W   D1,D0
00001C4A                          1122              
00001C4A  3240                    1123              MOVE.W  D0,A1
00001C4C  13C0 000029DE           1124              MOVE.B  D0,POSCON
00001C52                          1125  
00001C52  1A29 25DE               1126              MOVE.B  MAPVAR(A1),D5
00001C56                          1127              
00001C56  4CDF 001F               1128              MOVEM.L (A7)+,D0-D4
00001C5A                          1129              
00001C5A  4E75                    1130              RTS
00001C5C                          1131  
00001C5C                          1132  
00001C5C                          1133  ;------------------------------------------------------------------------------            
00001C5C                          1134  COLWALLLEFT
00001C5C                          1135  ; COLLISION PAC-MAN WITH WALL
00001C5C                          1136  ; INPUT    : NONE
00001C5C                          1137  ; OUTPUT   : NONE
00001C5C                          1138  ; MODIFIES : NONE
00001C5C                          1139  ; ------------------------------------------------------------------------------
00001C5C                          1140  
00001C5C  48E7 F800               1141              MOVEM.L D0-D4,-(A7)
00001C60                          1142  
00001C60  3039 0000346C           1143              MOVE.W  (PMPOSX),D0
00001C66  5C40                    1144              ADD.W   #6,D0
00001C68  3239 0000346E           1145              MOVE.W  (PMPOSY),D1
00001C6E  5041                    1146              ADD.W   #8,D1
00001C70                          1147              
00001C70  81FC 0010               1148              DIVS.W  #16,D0
00001C74  83FC 0010               1149              DIVS.W  #16,D1
00001C78                          1150              
00001C78  5940                    1151              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001C7A  5941                    1152              SUB.W   #4,D1
00001C7C                          1153              
00001C7C  41F9 000025DE           1154              LEA.L   MAPVAR,A0
00001C82                          1155              
00001C82  5340                    1156              SUB.W   #1,D0
00001C84  5341                    1157              SUB.W   #1,D1
00001C86  C2FC 0020               1158              MULU.W  #32,D1
00001C8A  D041                    1159              ADD.W   D1,D0
00001C8C                          1160  
00001C8C  3240                    1161              MOVE.W  D0,A1
00001C8E  13C0 000029DE           1162              MOVE.B  D0,POSCON
00001C94                          1163  
00001C94  1A29 25DE               1164              MOVE.B  MAPVAR(A1),D5               
00001C98                          1165  
00001C98                          1166              
00001C98  4CDF 001F               1167              MOVEM.L (A7)+,D0-D4
00001C9C                          1168              
00001C9C  4E75                    1169              RTS
00001C9E                          1170  
00001C9E                          1171  ;------------------------------------------------------------------------------            
00001C9E                          1172  COLWALLDOWN
00001C9E                          1173  ; COLLISION PAC-MAN WITH WALL
00001C9E                          1174  ; INPUT    : NONE
00001C9E                          1175  ; OUTPUT   : NONE
00001C9E                          1176  ; MODIFIES : NONE
00001C9E                          1177  ; ------------------------------------------------------------------------------
00001C9E                          1178  
00001C9E  48E7 F800               1179              MOVEM.L D0-D4,-(A7)
00001CA2                          1180  
00001CA2  3039 0000346C           1181              MOVE.W  (PMPOSX),D0
00001CA8                          1182              ;ADD.W   #8,D0
00001CA8  3239 0000346E           1183              MOVE.W  (PMPOSY),D1
00001CAE  5041                    1184              ADD.W   #8,D1
00001CB0                          1185              
00001CB0  81FC 0010               1186              DIVS.W  #16,D0
00001CB4  83FC 0010               1187              DIVS.W  #16,D1
00001CB8                          1188              
00001CB8  5940                    1189              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001CBA  5941                    1190              SUB.W   #4,D1
00001CBC                          1191              
00001CBC  41F9 000025DE           1192              LEA.L   MAPVAR,A0
00001CC2                          1193              
00001CC2  C2FC 0020               1194              MULU.W  #32,D1
00001CC6  D041                    1195              ADD.W   D1,D0
00001CC8                          1196  
00001CC8  3240                    1197              MOVE.W  D0,A1
00001CCA  13C0 000029DE           1198              MOVE.B  D0,POSCON
00001CD0                          1199  
00001CD0  1A29 25DE               1200              MOVE.B  MAPVAR(A1),D5 
00001CD4                          1201  
00001CD4                          1202              
00001CD4  4CDF 001F               1203              MOVEM.L (A7)+,D0-D4
00001CD8                          1204              
00001CD8  4E75                    1205              RTS
00001CDA                          1206  
00001CDA                          1207  
00001CDA                          1208  ;------------------------------------------------------------------------------            
00001CDA                          1209  COLWALLUP
00001CDA                          1210  ; COLLISION PAC-MAN WITH WALL
00001CDA                          1211  ; INPUT    : NONE
00001CDA                          1212  ; OUTPUT   : NONE
00001CDA                          1213  ; MODIFIES : NONE
00001CDA                          1214  ; ------------------------------------------------------------------------------
00001CDA                          1215  
00001CDA  48E7 F800               1216              MOVEM.L D0-D4,-(A7)
00001CDE                          1217  
00001CDE  3039 0000346C           1218              MOVE.W  (PMPOSX),D0
00001CE4                          1219              ;SUB.W   #8,D0
00001CE4  3239 0000346E           1220              MOVE.W  (PMPOSY),D1
00001CEA  5C41                    1221              ADD.W   #6,D1
00001CEC                          1222              
00001CEC                          1223              
00001CEC  81FC 0010               1224              DIVS.W  #16,D0
00001CF0  83FC 0010               1225              DIVS.W  #16,D1
00001CF4                          1226              
00001CF4  5940                    1227              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001CF6  5941                    1228              SUB.W   #4,D1
00001CF8                          1229              
00001CF8  41F9 000025DE           1230              LEA.L   MAPVAR,A0
00001CFE                          1231              
00001CFE  5341                    1232              SUB.W   #1,D1
00001D00                          1233              ;CMP     #1,D1
00001D00                          1234              ;BLO     BUCLE4
00001D00  C2FC 0020               1235              MULU.W  #32,D1
00001D04  D041                    1236              ADD.W   D1,D0
00001D06                          1237  
00001D06                          1238  ;BUCLE4            
00001D06  3240                    1239              MOVE.W  D0,A1
00001D08  13C0 000029DE           1240              MOVE.B  D0,POSCON
00001D0E                          1241  
00001D0E  1A29 25DE               1242              MOVE.B  MAPVAR(A1),D5 
00001D12                          1243  
00001D12                          1244              ;MOVE.B  #0,D5
00001D12                          1245              
00001D12  4CDF 001F               1246              MOVEM.L (A7)+,D0-D4
00001D16                          1247              
00001D16  4E75                    1248              RTS
00001D18                          1249  
00001D18                          1250  ;------------------------------------------------------------------------------            
00001D18                          1251  GSTCOLWALLRIGHT
00001D18                          1252  ; COLLISION PAC-MAN WITH WALL
00001D18                          1253  ; INPUT    : NONE
00001D18                          1254  ; OUTPUT   : NONE
00001D18                          1255  ; MODIFIES : NONE
00001D18                          1256  ; ------------------------------------------------------------------------------
00001D18                          1257  
00001D18  48E7 F800               1258              MOVEM.L D0-D4,-(A7)
00001D1C                          1259  
00001D1C  3039 00003476           1260              MOVE.W  (GSTPOSX),D0
00001D22  5140                    1261              SUB.W   #8,D0
00001D24  3239 00003478           1262              MOVE.W  (GSTPOSY),D1
00001D2A  5041                    1263              ADD.W   #8,D1
00001D2C                          1264              
00001D2C  81FC 0010               1265              DIVS.W  #16,D0
00001D30  83FC 0010               1266              DIVS.W  #16,D1
00001D34                          1267              
00001D34  5940                    1268              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001D36  5941                    1269              SUB.W   #4,D1
00001D38                          1270              
00001D38  41F9 000025DE           1271              LEA.L   MAPVAR,A0
00001D3E                          1272              
00001D3E  5240                    1273              ADD.W   #1,D0
00001D40  5341                    1274              SUB.W   #1,D1
00001D42  C2FC 0020               1275              MULU.W  #32,D1
00001D46  D041                    1276              ADD.W   D1,D0
00001D48                          1277              
00001D48  3240                    1278              MOVE.W  D0,A1
00001D4A                          1279  
00001D4A  1A29 25DE               1280              MOVE.B  MAPVAR(A1),D5
00001D4E                          1281              
00001D4E  4CDF 001F               1282              MOVEM.L (A7)+,D0-D4
00001D52                          1283              
00001D52  4E75                    1284              RTS
00001D54                          1285  
00001D54                          1286  
00001D54                          1287  ;------------------------------------------------------------------------------            
00001D54                          1288  GSTCOLWALLLEFT
00001D54                          1289  ; COLLISION PAC-MAN WITH WALL
00001D54                          1290  ; INPUT    : NONE
00001D54                          1291  ; OUTPUT   : NONE
00001D54                          1292  ; MODIFIES : NONE
00001D54                          1293  ; ------------------------------------------------------------------------------
00001D54                          1294  
00001D54  48E7 F800               1295              MOVEM.L D0-D4,-(A7)
00001D58                          1296  
00001D58  3039 00003476           1297              MOVE.W  (GSTPOSX),D0
00001D5E  5C40                    1298              ADD.W   #6,D0
00001D60  3239 00003478           1299              MOVE.W  (GSTPOSY),D1
00001D66  5041                    1300              ADD.W   #8,D1
00001D68                          1301              
00001D68  81FC 0010               1302              DIVS.W  #16,D0
00001D6C  83FC 0010               1303              DIVS.W  #16,D1
00001D70                          1304              
00001D70  5940                    1305              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001D72  5941                    1306              SUB.W   #4,D1
00001D74                          1307              
00001D74  41F9 000025DE           1308              LEA.L   MAPVAR,A0
00001D7A                          1309              
00001D7A  5340                    1310              SUB.W   #1,D0
00001D7C  5341                    1311              SUB.W   #1,D1
00001D7E  C2FC 0020               1312              MULU.W  #32,D1
00001D82  D041                    1313              ADD.W   D1,D0
00001D84                          1314  
00001D84  3240                    1315              MOVE.W  D0,A1
00001D86  1A29 25DE               1316              MOVE.B  MAPVAR(A1),D5               
00001D8A                          1317  
00001D8A                          1318              
00001D8A  4CDF 001F               1319              MOVEM.L (A7)+,D0-D4
00001D8E                          1320              
00001D8E  4E75                    1321              RTS
00001D90                          1322  
00001D90                          1323  ;------------------------------------------------------------------------------            
00001D90                          1324  GSTCOLWALLDOWN
00001D90                          1325  ; COLLISION PAC-MAN WITH WALL
00001D90                          1326  ; INPUT    : NONE
00001D90                          1327  ; OUTPUT   : NONE
00001D90                          1328  ; MODIFIES : NONE
00001D90                          1329  ; ------------------------------------------------------------------------------
00001D90                          1330  
00001D90  48E7 F800               1331              MOVEM.L D0-D4,-(A7)
00001D94                          1332  
00001D94  3039 00003476           1333              MOVE.W  (GSTPOSX),D0
00001D9A                          1334              ;ADD.W   #8,D0
00001D9A  3239 00003478           1335              MOVE.W  (GSTPOSY),D1
00001DA0  5041                    1336              ADD.W   #8,D1
00001DA2                          1337              
00001DA2  81FC 0010               1338              DIVS.W  #16,D0
00001DA6  83FC 0010               1339              DIVS.W  #16,D1
00001DAA                          1340              
00001DAA  5940                    1341              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001DAC  5941                    1342              SUB.W   #4,D1
00001DAE                          1343              
00001DAE  41F9 000025DE           1344              LEA.L   MAPVAR,A0
00001DB4                          1345              
00001DB4  C2FC 0020               1346              MULU.W  #32,D1
00001DB8  D041                    1347              ADD.W   D1,D0
00001DBA                          1348  
00001DBA  3240                    1349              MOVE.W  D0,A1
00001DBC  1A29 25DE               1350              MOVE.B  MAPVAR(A1),D5 
00001DC0                          1351  
00001DC0                          1352              
00001DC0  4CDF 001F               1353              MOVEM.L (A7)+,D0-D4
00001DC4                          1354              
00001DC4  4E75                    1355              RTS
00001DC6                          1356  
00001DC6                          1357  
00001DC6                          1358  ;------------------------------------------------------------------------------            
00001DC6                          1359  GSTCOLWALLUP
00001DC6                          1360  ; COLLISION PAC-MAN WITH WALL
00001DC6                          1361  ; INPUT    : NONE
00001DC6                          1362  ; OUTPUT   : NONE
00001DC6                          1363  ; MODIFIES : NONE
00001DC6                          1364  ; ------------------------------------------------------------------------------
00001DC6                          1365  
00001DC6  48E7 F800               1366              MOVEM.L D0-D4,-(A7)
00001DCA                          1367  
00001DCA  3039 00003476           1368              MOVE.W  (GSTPOSX),D0
00001DD0                          1369              ;SUB.W   #8,D0
00001DD0  3239 00003478           1370              MOVE.W  (GSTPOSY),D1
00001DD6  5C41                    1371              ADD.W   #6,D1
00001DD8                          1372              
00001DD8                          1373              
00001DD8  81FC 0010               1374              DIVS.W  #16,D0
00001DDC  83FC 0010               1375              DIVS.W  #16,D1
00001DE0                          1376              
00001DE0  5940                    1377              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001DE2  5941                    1378              SUB.W   #4,D1
00001DE4                          1379              
00001DE4  41F9 000025DE           1380              LEA.L   MAPVAR,A0
00001DEA                          1381              
00001DEA  5341                    1382              SUB.W   #1,D1
00001DEC                          1383  
00001DEC  C2FC 0020               1384              MULU.W  #32,D1
00001DF0  D041                    1385              ADD.W   D1,D0
00001DF2                          1386  
00001DF2  3240                    1387              MOVE.W  D0,A1
00001DF4                          1388  
00001DF4  1A29 25DE               1389              MOVE.B  MAPVAR(A1),D5 
00001DF8                          1390  
00001DF8                          1391              ;MOVE.B  #0,D5
00001DF8                          1392              
00001DF8  4CDF 001F               1393              MOVEM.L (A7)+,D0-D4
00001DFC                          1394              
00001DFC  4E75                    1395              RTS
00001DFE                          1396  ;------------------------------------------------------------------------------            
00001DFE                          1397  GETPOINTS
00001DFE                          1398  ; COLLISION PAC-MAN WITH WALL
00001DFE                          1399  ; INPUT    : NONE
00001DFE                          1400  ; OUTPUT   : NONE
00001DFE                          1401  ; MODIFIES : NONE
00001DFE                          1402  ; ------------------------------------------------------------------------------
00001DFE                          1403  
00001DFE  48E7 F800               1404              MOVEM.L D0-D4,-(A7)
00001E02                          1405  
00001E02  3039 0000346C           1406              MOVE.W  (PMPOSX),D0
00001E08                          1407              ;SUB.W   #8,D0
00001E08  3239 0000346E           1408              MOVE.W  (PMPOSY),D1
00001E0E  0641 0010               1409              ADD.W   #16,D1
00001E12                          1410              
00001E12                          1411              
00001E12  81FC 0010               1412              DIVS.W  #16,D0
00001E16  83FC 0010               1413              DIVS.W  #16,D1
00001E1A                          1414              
00001E1A  5940                    1415              SUB.W   #4,D0                   ;LI RESTAM 4 PERQUE LA MATRIU ESTA A UNA DISTANCIA DE 64 PIXELS DE LA PANTALLA
00001E1C  5941                    1416              SUB.W   #4,D1
00001E1E                          1417                          
00001E1E  5341                    1418              SUB.W   #1,D1
00001E20  C2FC 0020               1419              MULU.W  #32,D1
00001E24  D041                    1420              ADD.W   D1,D0
00001E26                          1421  
00001E26  3240                    1422              MOVE.W  D0,A1
00001E28  1A29 25DE               1423              MOVE.B  MAPVAR(A1),D5
00001E2C                          1424              
00001E2C  BA7C 0000               1425              CMP     #0,D5
00001E30  6700 003A               1426              BEQ     .DONE
00001E34  BA7C 0002               1427              CMP     #2,D5
00001E38  6700 0020               1428              BEQ     .POINT
00001E3C  BA7C 0003               1429              CMP     #3,D5
00001E40  6700 0006               1430              BEQ     .BPOINT
00001E44  6600 0026               1431              BNE     .DONE
00001E48                          1432  .BPOINT
00001E48  137C 0000 25DE          1433              MOVE.B  #0,MAPVAR(A1)
00001E4E  0679 0032 00003486      1434              ADD.W   #50,(SCOPOINTS)
00001E56  6600 0014               1435              BNE     .DONE
00001E5A                          1436  .POINT
00001E5A  137C 0000 25DE          1437              MOVE.B  #0,MAPVAR(A1)
00001E60  0679 000A 00003486      1438              ADD.W   #10,(SCOPOINTS)
00001E68  6600 0002               1439              BNE     .DONE            
00001E6C                          1440  .DONE                        
00001E6C  4CDF 001F               1441              MOVEM.L (A7)+,D0-D4
00001E70                          1442              
00001E70  4E75                    1443              RTS
00001E72                          1444  
00001E72                          1445  
00001E72                          1446  
00001E72                          1447  
00001E72                          1448  
00001E72                          1449  
00001E72                          1450  -------------------- end include --------------------
00001E72                          1451              INCLUDE "MAP.X68"
00001E72                          1452  
00001E72                          1453  ; ------------------------------------------------------------------------------
00001E72                          1454  MAPINIT
00001E72                          1455  ; INIT MAP
00001E72                          1456  ; INPUT    : NONE
00001E72                          1457  ; OUTPUT   : NONE
00001E72                          1458  ; MODIFIES : NONE
00001E72                          1459  ; ------------------------------------------------------------------------------            
00001E72                          1460              
00001E72                          1461              ;MOVE.L  #DIBFIGWALL,($80+2*4)          ;INSTALL SUBRUTINE TO TRAP #2
00001E72                          1462              ;MOVE.L  #DIBFIGPOINT,($80+3*4)          ;INSTALL SUBRUTINE TO TRAP #3
00001E72                          1463              ;MOVE.L  #DIBFIGBPOINT,($80+4*4)          ;INSTALL SUBRUTINE TO TRAP #4
00001E72                          1464              
00001E72  48E7 FE00               1465              MOVEM.L D0-D6,-(A7)
00001E76  48E7 00C0               1466              MOVEM.L A0-A1,-(A7)
00001E7A                          1467              
00001E7A  41F8 1008               1468              LEA.L   MAPMAT,A0
00001E7E  43F9 000025DE           1469              LEA.L   MAPVAR,A1
00001E84  3C3C 0030               1470              MOVE.W  #48,D6
00001E88  343C 001F               1471              MOVE.W  #31,D2
00001E8C                          1472  BUCLE_FILA
00001E8C  3A3C 0030               1473              MOVE.W  #48,D5
00001E90  323C 001F               1474              MOVE.W  #31,D1
00001E94  0646 0010               1475              ADD.W   #16,D6
00001E98                          1476  
00001E98                          1477  BUCLE_COLUMNA
00001E98  0645 0010               1478              ADD.W   #16,D5
00001E9C                          1479  
00001E9C  1018                    1480              MOVE.B  (A0)+,D0
00001E9E  12C0                    1481              MOVE.B  D0,(A1)+
00001EA0                          1482               
00001EA0  B07C 0000               1483              CMP     #0,D0
00001EA4  6700 0034               1484              BEQ     ZERO
00001EA8  B07C 0004               1485              CMP     #4,D0
00001EAC  6700 002C               1486              BEQ     ZERO
00001EB0  B07C 0001               1487              CMP     #1,D0
00001EB4  6600 0008               1488              BNE     NOTWALL
00001EB8  4EB9 00001F60           1489              JSR     DIBFIGWALL
00001EBE                          1490  NOTWALL
00001EBE  B07C 0002               1491              CMP     #2,D0
00001EC2  6600 0008               1492              BNE     NOTPOINT
00001EC6  4EB9 00001F98           1493              JSR     DIBFIGPOINT
00001ECC                          1494  NOTPOINT
00001ECC  B07C 0003               1495              CMP     #3,D0
00001ED0  6600 0008               1496              BNE     ZERO
00001ED4  4EB9 00001FD4           1497              JSR     DIBFIGBPOINT
00001EDA                          1498           
00001EDA                          1499  ZERO
00001EDA  51C9 FFBC               1500              DBRA    D1,BUCLE_COLUMNA  
00001EDE  51CA FFAC               1501              DBRA    D2,BUCLE_FILA
00001EE2                          1502              
00001EE2  4CDF 0300               1503              MOVEM.L (A7)+,A0-A1
00001EE6  4CDF 007F               1504              MOVEM.L (A7)+,D0-D6
00001EEA                          1505  
00001EEA                          1506  
00001EEA                          1507              
00001EEA  4E75                    1508              RTS            
00001EEC                          1509  
00001EEC                          1510  ; ------------------------------------------------------------------------------
00001EEC                          1511  MAPPLOT
00001EEC                          1512  ; INIT MAP
00001EEC                          1513  ; INPUT    : NONE
00001EEC                          1514  ; OUTPUT   : NONE
00001EEC                          1515  ; MODIFIES : NONE
00001EEC                          1516  ; ------------------------------------------------------------------------------            
00001EEC                          1517  
00001EEC  48E7 FE00               1518              MOVEM.L D0-D6,-(A7)
00001EF0  48E7 0080               1519              MOVEM.L A0,-(A7)
00001EF4                          1520  
00001EF4  41F9 000025DE           1521              LEA.L   MAPVAR,A0
00001EFA  3C3C 0030               1522              MOVE.W  #48,D6
00001EFE  343C 001F               1523              MOVE.W  #31,D2
00001F02                          1524  BUCLE_FILA2
00001F02  3A3C 0030               1525              MOVE.W  #48,D5
00001F06  323C 001F               1526              MOVE.W  #31,D1
00001F0A  0646 0010               1527              ADD.W   #16,D6
00001F0E                          1528  
00001F0E                          1529  BUCLE_COLUMNA2
00001F0E  0645 0010               1530              ADD.W   #16,D5       
00001F12                          1531  
00001F12  1018                    1532              MOVE.B  (A0)+,D0
00001F14                          1533  
00001F14  B07C 0000               1534              CMP     #0,D0
00001F18  6700 0034               1535              BEQ     ZERO2
00001F1C  B07C 0004               1536              CMP     #4,D0
00001F20  6700 002C               1537              BEQ     ZERO2
00001F24  B07C 0001               1538              CMP     #1,D0
00001F28  6600 0008               1539              BNE     NOTWALL2
00001F2C  4EB9 00001F60           1540              JSR     DIBFIGWALL
00001F32                          1541  NOTWALL2
00001F32  B07C 0002               1542              CMP     #2,D0
00001F36  6600 0008               1543              BNE     NOTPOINT2
00001F3A  4EB9 00001F98           1544              JSR     DIBFIGPOINT
00001F40                          1545  NOTPOINT2
00001F40  B07C 0003               1546              CMP     #3,D0
00001F44  6600 0008               1547              BNE     ZERO2
00001F48  4EB9 00001FD4           1548              JSR     DIBFIGBPOINT
00001F4E                          1549  
00001F4E                          1550     
00001F4E                          1551  ZERO2
00001F4E  51C9 FFBE               1552              DBRA    D1,BUCLE_COLUMNA2
00001F52                          1553              
00001F52  51CA FFAE               1554              DBRA    D2,BUCLE_FILA2
00001F56                          1555              
00001F56  4CDF 0100               1556              MOVEM.L (A7)+,A0
00001F5A  4CDF 007F               1557              MOVEM.L (A7)+,D0-D6
00001F5E                          1558              
00001F5E                          1559              
00001F5E  4E75                    1560              RTS 
00001F60                          1561              
00001F60                          1562  ; -----------------------------------------------------------------------------
00001F60                          1563  DIBFIGWALL
00001F60                          1564  ; SUBRUTINE DRAW MAP
00001F60                          1565  ; INPUT    : D5=POSITION X, D6=POSITION Y
00001F60                          1566  ; OUTPUT   : NONE
00001F60                          1567  ; MODIFIES : NONE
00001F60                          1568  ; -----------------------------------------------------------------------------
00001F60  48E7 FE00               1569              MOVEM.L D0-D6,-(A7)
00001F64                          1570              ; SET CONTOURN COLOR
00001F64  103C 0050               1571              MOVE.B  #80,D0
00001F68  223C 00AA0000           1572              MOVE.L  #$00AA0000,D1
00001F6E  4E4F                    1573              TRAP    #15
00001F70                          1574              
00001F70                          1575              ; SET FILL COLOR
00001F70  103C 0051               1576              MOVE.B  #81,D0
00001F74  223C 00FF0000           1577              MOVE.L  #$00FF0000,D1
00001F7A  4E4F                    1578              TRAP    #15
00001F7C                          1579              
00001F7C                          1580              ; DEFINE COORDINATES RECTANGLE
00001F7C  3205                    1581              MOVE.W  D5,D1
00001F7E  3406                    1582              MOVE.W  D6,D2
00001F80  0645 0010               1583              ADD.W   #16,D5
00001F84  0646 0010               1584              ADD.W   #16,D6
00001F88  3605                    1585              MOVE.W  D5,D3
00001F8A  3806                    1586              MOVE.W  D6,D4
00001F8C                          1587              
00001F8C                          1588              ; DRAW RECTANGLE
00001F8C  103C 0057               1589              MOVE.B  #87,D0
00001F90  4E4F                    1590              TRAP    #15
00001F92                          1591              
00001F92  4CDF 007F               1592              MOVEM.L (A7)+,D0-D6
00001F96                          1593  
00001F96  4E75                    1594              RTS
00001F98                          1595              
00001F98                          1596  ; -----------------------------------------------------------------------------
00001F98                          1597  DIBFIGPOINT
00001F98                          1598  ; SUBRUTINE DRAW MAP
00001F98                          1599  ; INPUT    : D5=POSITION X, D6=POSITION Y
00001F98                          1600  ; OUTPUT   : NONE
00001F98                          1601  ; MODIFIES : NONE
00001F98                          1602  ; -----------------------------------------------------------------------------
00001F98  48E7 FE00               1603              MOVEM.L D0-D6,-(A7)
00001F9C                          1604              ; SET CONTOURN COLOR
00001F9C  103C 0050               1605              MOVE.B  #80,D0
00001FA0  223C 0000AAAA           1606              MOVE.L  #$0000AAAA,D1
00001FA6  4E4F                    1607              TRAP    #15
00001FA8                          1608              
00001FA8                          1609              ; SET FILL COLOR
00001FA8  103C 0051               1610              MOVE.B  #81,D0
00001FAC  223C 0000FFFF           1611              MOVE.L  #$0000FFFF,D1
00001FB2  4E4F                    1612              TRAP    #15
00001FB4                          1613              
00001FB4                          1614              ; DEFINE COORDINATES RECTANGLE
00001FB4  3205                    1615              MOVE.W  D5,D1
00001FB6  5041                    1616              ADD.W   #8,D1
00001FB8  5541                    1617              SUB.W   #2,D1
00001FBA  3406                    1618              MOVE.W  D6,D2
00001FBC  5042                    1619              ADD.W   #8,D2
00001FBE  5542                    1620              SUB.W   #2,D2
00001FC0                          1621              
00001FC0  3601                    1622              MOVE.W  D1,D3
00001FC2  5843                    1623              ADD.W   #2*2,D3
00001FC4  3802                    1624              MOVE.W  D2,D4
00001FC6  5844                    1625              ADD.W   #2*2,D4
00001FC8                          1626              
00001FC8                          1627              ; DRAW POINT
00001FC8  103C 0058               1628              MOVE.B  #88,D0
00001FCC  4E4F                    1629              TRAP    #15
00001FCE                          1630              
00001FCE  4CDF 007F               1631              MOVEM.L (A7)+,D0-D6
00001FD2                          1632              
00001FD2  4E75                    1633              RTS
00001FD4                          1634  
00001FD4                          1635  
00001FD4                          1636  ; -----------------------------------------------------------------------------
00001FD4                          1637  DIBFIGBPOINT
00001FD4                          1638  ; SUBRUTINE DRAW MAP
00001FD4                          1639  ; INPUT    : D5=POSITION X, D6=POSITION Y
00001FD4                          1640  ; OUTPUT   : NONE
00001FD4                          1641  ; MODIFIES : NONE
00001FD4                          1642  ; -----------------------------------------------------------------------------
00001FD4  48E7 FE00               1643              MOVEM.L D0-D6,-(A7)
00001FD8                          1644              ; SET CONTOURN COLOR
00001FD8  103C 0050               1645              MOVE.B  #80,D0
00001FDC  223C 0000AAAA           1646              MOVE.L  #$0000AAAA,D1
00001FE2  4E4F                    1647              TRAP    #15
00001FE4                          1648              
00001FE4                          1649              ; SET FILL COLOR
00001FE4  103C 0051               1650              MOVE.B  #81,D0
00001FE8  223C 0000FFFF           1651              MOVE.L  #$0000FFFF,D1
00001FEE  4E4F                    1652              TRAP    #15
00001FF0                          1653              
00001FF0                          1654              ; DEFINE COORDINATES RECTANGLE
00001FF0  3205                    1655              MOVE.W  D5,D1
00001FF2  5041                    1656              ADD.W   #8,D1
00001FF4  5941                    1657              SUB.W   #4,D1
00001FF6  3406                    1658              MOVE.W  D6,D2
00001FF8  5042                    1659              ADD.W   #8,D2
00001FFA  5942                    1660              SUB.W   #4,D2
00001FFC                          1661              
00001FFC  3601                    1662              MOVE.W  D1,D3
00001FFE  5043                    1663              ADD.W   #4*2,D3
00002000  3802                    1664              MOVE.W  D2,D4
00002002  5044                    1665              ADD.W   #4*2,D4
00002004                          1666              
00002004                          1667              ; DRAW BIG POINT
00002004  103C 0058               1668              MOVE.B  #88,D0
00002008  4E4F                    1669              TRAP    #15
0000200A                          1670              
0000200A  4CDF 007F               1671              MOVEM.L (A7)+,D0-D6
0000200E                          1672              
0000200E  4E75                    1673              RTS
00002010                          1674  
00002010                          1675  
00002010                          1676  
00002010                          1677  
00002010                          1678  
00002010                          1679  
00002010                          1680  
00002010                          1681  
00002010                          1682  
00002010                          1683  
00002010                          1684  
00002010                          1685  
00002010                          1686  -------------------- end include --------------------
00002010                          1687              INCLUDE "LIB/UTLCONST.X68"
00002010                          1688  ; ==============================================================================
00002010                          1689  ; UTIL CONSTANTS
00002010                          1690  ; ==============================================================================
00002010                          1691  
00002010  =00000008               1692  UTLCHRWD    EQU     8                       ; CHARACTER WIDTH IN PIXELS
00002010                          1693  
00002010                          1694  -------------------- end include --------------------
00002010                          1695              INCLUDE "LIB/UTLCODE.X68"
00002010                          1696  ; =============================================================================
00002010                          1697  ; UTILITY CODE
00002010                          1698  ; =============================================================================
00002010                          1699  
00002010                          1700  ; -----------------------------------------------------------------------------
00002010                          1701  UTLINIT
00002010                          1702  ; INITIALIZES UTILITY CODE
00002010                          1703  ; INPUT    - NONE
00002010                          1704  ; OUTPUT   - NONE
00002010                          1705  ; MODIFIES - NONE
00002010                          1706  ; -----------------------------------------------------------------------------
00002010  48E7 C000               1707              MOVEM.L D0-D1,-(A7)
00002014  103C 0008               1708              MOVE.B  #8,D0
00002018  4E4F                    1709              TRAP    #15
0000201A  13C1 0000348E           1710              MOVE.B  D1,(UTLRNDIX)
00002020  4CDF 0003               1711              MOVEM.L (A7)+,D0-D1
00002024  4E75                    1712              RTS
00002026                          1713  
00002026                          1714  ; -----------------------------------------------------------------------------
00002026                          1715  UTLPRINT
00002026                          1716  ; PRINT SCREEN CENTERED TEXT
00002026                          1717  ; INPUT    : A0 POINTER TO ZERO-TERMINATED STRING
00002026                          1718  ;            D0.B SCREEN ROW TO PRINT TEXT
00002026                          1719  ; OUTPUT   : D0.B NEXT ROW
00002026                          1720  ; MODIFIES : NONE (ASIDE OF OUTPUT)
00002026                          1721  ; -----------------------------------------------------------------------------
00002026  48E7 C0C0               1722              MOVEM.L D0-D1/A0-A1,-(A7)
0000202A  4201                    1723              CLR.B   D1
0000202C  2248                    1724              MOVE.L  A0,A1
0000202E  4A18                    1725  .LOOP       TST.B   (A0)+
00002030  6700 0006               1726              BEQ     .ENDLOOP
00002034  5201                    1727              ADDQ.B  #1,D1
00002036  60F6                    1728              BRA     .LOOP
00002038  E209                    1729  .ENDLOOP    LSR.B   #1,D1
0000203A  0401 0028               1730              SUB.B   #(SCRWIDTH/UTLCHRWD)/2,D1
0000203E  4401                    1731              NEG.B   D1
00002040  E141                    1732              ASL.W   #8,D1
00002042  8240                    1733              OR.W    D0,D1
00002044  103C 000B               1734              MOVE.B  #11,D0
00002048  4E4F                    1735              TRAP    #15
0000204A  103C 000D               1736              MOVE.B  #13,D0
0000204E  4E4F                    1737              TRAP    #15
00002050  4CDF 0303               1738              MOVEM.L (A7)+,D0-D1/A0-A1
00002054  5200                    1739              ADDQ.B  #1,D0
00002056  4E75                    1740              RTS
00002058                          1741              
00002058                          1742              
00002058                          1743  
00002058                          1744  
00002058                          1745              ; (SCRWIDTH/UTLCHRWD)/2 - D1/2
00002058                          1746  
00002058                          1747  
00002058                          1748  ; -----------------------------------------------------------------------------
00002058                          1749  UTLRAND
00002058                          1750  ; PROVIDES A PSEUDO-RANDOM BYTE
00002058                          1751  ; INPUT    - NONE
00002058                          1752  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
00002058                          1753  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00002058                          1754  ; -----------------------------------------------------------------------------
00002058  2F08                    1755              MOVE.L  A0,-(A7)
0000205A  41F9 00002076           1756              LEA     .RANDVEC,A0
00002060  4280                    1757              CLR.L   D0
00002062  1039 0000348E           1758              MOVE.B  (UTLRNDIX),D0
00002068  1030 0800               1759              MOVE.B  (A0,D0.L),D0
0000206C  5239 0000348E           1760              ADDQ.B  #1,(UTLRNDIX)
00002072  205F                    1761              MOVE.L  (A7)+,A0
00002074  4E75                    1762              RTS
00002076                          1763  
00002076                          1764  
00002076= A2 EE 9A 0C F5 24 ...   1765  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
0000207E= 2A A3 51 26 E0 AC ...   1766              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
00002086= 75 51 CA FD 33 EB ...   1767              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
0000208E= 60 CC E7 B8 9A EB ...   1768              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
00002096= 1D 76 B5 95 B0 89 ...   1769              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
0000209E= 39 15 48 C9 6E CA ...   1770              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
000020A6= 43 E7 E2 7C 37 25 ...   1771              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
000020AE= E9 94 CE E9 E4 52 ...   1772              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
000020B6= 37 6D 9A 84 A2 28 ...   1773              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
000020BE= 19 E2 C6 77 80 D4 ...   1774              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
000020C6= 0A 5A 32 67 33 C2 ...   1775              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
000020CE= 59 80 DC 0E 57 FC ...   1776              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
000020D6= 8A AB BC F7 07 4D ...   1777              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
000020DE= EF D5 77 6E 1E BB ...   1778              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
000020E6= D6 E0 2A 8F BD 28 ...   1779              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
000020EE= 13 4F 66 EC 0A 64 ...   1780              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
000020F6= 56 52 9A 16 9B 90 ...   1781              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
000020FE= 06 8A A4 F7 01 DA ...   1782              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
00002106= F2 E7 77 28 B1 76 ...   1783              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
0000210E= A4 42 E3 81 B1 67 ...   1784              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
00002116= BF CE FA 16 BF 38 ...   1785              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
0000211E= D1 8B 50 0C 5F 49 ...   1786              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
00002126= DE 4C 14 A2 40 DC ...   1787              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
0000212E= B6 9B 0A 38 5D AB ...   1788              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
00002136= E2 1B DD 75 15 82 ...   1789              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
0000213E= 8A 26 51 30 9F 47 ...   1790              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
00002146= 1E 8A BB 71 C6 6E ...   1791              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
0000214E= 9F 47 E5 34 94 27 ...   1792              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
00002156= 7D 06 D6 BA 30 0F ...   1793              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
0000215E= EC 7F 7E 03 CF 2D ...   1794              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
00002166= 94 5B 23 F2 8B CD ...   1795              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
0000216E= 74 33 EC B9 0F D5 ...   1796              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
00002176                          1797  
00002176                          1798  
00002176                          1799  
00002176                          1800  
00002176                          1801  -------------------- end include --------------------
00002176                          1802              INCLUDE "INTRO.X68"
00002176                          1803  ; ==============================================================================
00002176                          1804  ; INTRO SCREEN
00002176                          1805  ; ==============================================================================
00002176                          1806  
00002176                          1807  ; ------------------------------------------------------------------------------
00002176                          1808  ISCINIT
00002176                          1809  ; INTRO SCREEN INIT
00002176                          1810  ; INPUT    : NONE
00002176                          1811  ; OUTPUT   : NONE
00002176                          1812  ; MODIFIES : NONE
00002176                          1813  ; ------------------------------------------------------------------------------
00002176  4279 00003488           1814              CLR.W   (ISCTIMER)
0000217C  4EB9 000021F6           1815              JSR     OPENFILE
00002182  4E75                    1816              RTS
00002184                          1817  
00002184                          1818  ; ------------------------------------------------------------------------------
00002184                          1819  ISCUPD
00002184                          1820  ; INTRO SCREEN UPDATE
00002184                          1821  ; INPUT    : NONE
00002184                          1822  ; OUTPUT   : NONE
00002184                          1823  ; MODIFIES : NONE
00002184                          1824  ; ------------------------------------------------------------------------------
00002184  0839 0004 000025DA      1825              BTST.B  #4,(KBDVAL)
0000218C  6700 000A               1826              BEQ     .CONT
00002190  33FC 0001 0000348C      1827              MOVE.W  #1,(STANEXT)
00002198                          1828  .CONT       ;ADDQ.W  #1,(ISCTIMER)
00002198                          1829  ;            CMP.W   #500,(ISCTIMER)
00002198                          1830  ;            BLT     .DONE
00002198                          1831  ;            MOVE.W  #1,(STANEXT)
00002198  4E75                    1832  .DONE       RTS
0000219A                          1833  
0000219A                          1834  ; ------------------------------------------------------------------------------
0000219A                          1835  ISCPLOT
0000219A                          1836  ; INTRO SCREEN PLOT
0000219A                          1837  ; INPUT    : NONE
0000219A                          1838  ; OUTPUT   : NONE
0000219A                          1839  ; MODIFIES : NONE
0000219A                          1840  ; ------------------------------------------------------------------------------
0000219A  48E7 C080               1841              MOVEM.L D0-D1/A0,-(A7)
0000219E                          1842              
0000219E  4281                    1843              CLR.L   D1
000021A0  103C 0051               1844              MOVE.B  #81,D0
000021A4  4E4F                    1845              TRAP    #15
000021A6                          1846              
000021A6  4EB9 00002228           1847              JSR     IMGPLOT
000021AC                          1848              
000021AC  0839 0004 000025DD      1849              BTST.B  #4,(SCRCYCCT)
000021B4  6700 0010               1850              BEQ     .DONE
000021B8                          1851              
000021B8  41F9 000021DA           1852              LEA     .TXT2,A0
000021BE  103C 0019               1853              MOVE.B  #25,D0
000021C2  4EB8 2026               1854              JSR     UTLPRINT
000021C6                          1855              
000021C6  4CDF 0103               1856  .DONE       MOVEM.L (A7)+,D0-D1/A0
000021CA                          1857  
000021CA  4E75                    1858              RTS
000021CC= 50 41 43 2D 4D 41 ...   1859  .TXT1       DC.B    'PAC-MAN 68000',0
000021DA= 50 52 45 53 53 20 ...   1860  .TXT2       DC.B    'PRESS SPACE BUTTON TO START',0
000021F6                          1861              DS.W    0
000021F6                          1862              
000021F6                          1863  ;------------------------------------------------------------------------
000021F6                          1864              
000021F6                          1865  OPENFILE                 
000021F6                          1866              ;OPEN FILE
000021F6  43F8 1B14               1867              LEA     FILENAME,A1
000021FA  303C 0033               1868              MOVE    #51,D0
000021FE  4E4F                    1869              TRAP    #15
00002200                          1870              
00002200                          1871              ;READ FILE
00002200  243C 00000A8C           1872              MOVE.L  #FILESIZE,D2
00002206  43F9 000029E0           1873              LEA     BUFFER,A1
0000220C  303C 0035               1874              MOVE    #53,D0
00002210  4E4F                    1875              TRAP    #15
00002212                          1876              
00002212  263C 00000A8C           1877              MOVE.L  #FILESIZE,D3
00002218                          1878              
00002218                          1879  .convert_loop 
00002218  4A03                    1880              TST.B   D3
0000221A  6700 000A               1881              BEQ     .END
0000221E  0419 0030               1882              SUB.B   #$30,(A1)+
00002222  5303                    1883              SUB.B   #1,D3
00002224  60F2                    1884              BRA     .convert_loop           
00002226                          1885  .END        
00002226                          1886  
00002226                          1887           
00002226                          1888            
00002226                          1889              
00002226  4E75                    1890              RTS
00002228                          1891  ; ------------------------------------------------------------------------------
00002228                          1892  IMGPLOT
00002228                          1893  ; TITLE IMAGE PLOT
00002228                          1894  ; INPUT    : NONE
00002228                          1895  ; OUTPUT   : NONE
00002228                          1896  ; MODIFIES : NONE
00002228                          1897  ; ------------------------------------------------------------------------------
00002228  48E7 FE00               1898              MOVEM.L D0-D6,-(A7)
0000222C  48E7 00C0               1899              MOVEM.L A0-A1,-(A7)
00002230                          1900              
00002230                          1901              ;PLOT
00002230                          1902   
00002230  41F9 000029E0           1903              LEA.L   BUFFER,A0
00002236  3C3C 00DC               1904              MOVE.W  #220,D6
0000223A  343C 001C               1905              MOVE.W  #28,D2
0000223E                          1906  BUCLE_FILA3
0000223E  3A3C 0064               1907              MOVE.W  #100,D5
00002242  323C 0065               1908              MOVE.W  #101,D1
00002246  5846                    1909              ADD.W   #4,D6
00002248                          1910  
00002248                          1911  BUCLE_COLUMNA3
00002248  5845                    1912              ADD.W   #4,D5
0000224A                          1913  
0000224A  1018                    1914              MOVE.B  (A0)+,D0
0000224C                          1915               
0000224C  B07C 0001               1916              CMP     #1,D0
00002250  6700 000C               1917              BEQ     ZERO3
00002254  B07C 0000               1918              CMP     #0,D0
00002258  4EB9 00002270           1919              JSR     DRAW
0000225E                          1920  ZERO3
0000225E  51C9 FFE8               1921              DBRA    D1,BUCLE_COLUMNA3
00002262  51CA FFDA               1922              DBRA    D2,BUCLE_FILA3
00002266                          1923              
00002266  4CDF 0300               1924              MOVEM.L (A7)+,A0-A1
0000226A  4CDF 007F               1925              MOVEM.L (A7)+,D0-D6
0000226E                          1926          
0000226E                          1927  
0000226E  4E75                    1928              RTS
00002270                          1929  
00002270                          1930  
00002270                          1931  ; -----------------------------------------------------------------------------
00002270                          1932  DRAW
00002270                          1933  ; SUBRUTINE DRAW 
00002270                          1934  ; INPUT    : D5=POSITION X, D6=POSITION Y
00002270                          1935  ; OUTPUT   : NONE
00002270                          1936  ; MODIFIES : NONE
00002270                          1937  ; -----------------------------------------------------------------------------
00002270  48E7 FE00               1938              MOVEM.L D0-D6,-(A7)
00002274                          1939              ; SET CONTOURN COLOR
00002274  103C 0050               1940              MOVE.B  #80,D0
00002278  223C 00AA0000           1941              MOVE.L  #$00AA0000,D1
0000227E  4E4F                    1942              TRAP    #15
00002280                          1943              
00002280                          1944              ; SET FILL COLOR
00002280  103C 0051               1945              MOVE.B  #81,D0
00002284  223C 00FF0000           1946              MOVE.L  #$00FF0000,D1
0000228A  4E4F                    1947              TRAP    #15
0000228C                          1948              
0000228C                          1949              ; DEFINE COORDINATES RECTANGLE
0000228C  3205                    1950              MOVE.W  D5,D1
0000228E  3406                    1951              MOVE.W  D6,D2
00002290  5845                    1952              ADD.W   #4,D5
00002292  5846                    1953              ADD.W   #4,D6
00002294  3605                    1954              MOVE.W  D5,D3
00002296  3806                    1955              MOVE.W  D6,D4
00002298                          1956              
00002298                          1957              ; DRAW RECTANGLE
00002298  103C 0057               1958              MOVE.B  #87,D0
0000229C  4E4F                    1959              TRAP    #15
0000229E                          1960              
0000229E  4CDF 007F               1961              MOVEM.L (A7)+,D0-D6
000022A2                          1962  
000022A2  4E75                    1963              RTS
000022A4                          1964  
000022A4                          1965  
000022A4                          1966  
000022A4                          1967  
000022A4                          1968  
000022A4                          1969  
000022A4                          1970  -------------------- end include --------------------
000022A4                          1971              INCLUDE "INSTRUCTIONS.X68"
000022A4                          1972  ; ==============================================================================
000022A4                          1973  ; INSTRUCTIONS SCREEN
000022A4                          1974  ; ==============================================================================
000022A4                          1975  
000022A4                          1976  ; ------------------------------------------------------------------------------
000022A4                          1977  INSINIT
000022A4                          1978  ; INSTRUCTIONS SCREEN INIT
000022A4                          1979  ; INPUT    : NONE
000022A4                          1980  ; OUTPUT   : NONE
000022A4                          1981  ; MODIFIES : NONE
000022A4                          1982  ; ------------------------------------------------------------------------------
000022A4  4E75                    1983              RTS
000022A6                          1984  
000022A6                          1985  ; ------------------------------------------------------------------------------
000022A6                          1986  INSUPD
000022A6                          1987  ; INSTRUCTIONS SCREEN UPDATE
000022A6                          1988  ; INPUT    : NONE
000022A6                          1989  ; OUTPUT   : NONE
000022A6                          1990  ; MODIFIES : NONE
000022A6                          1991  ; ------------------------------------------------------------------------------
000022A6  4E75                    1992              RTS
000022A8                          1993  
000022A8                          1994  ; ------------------------------------------------------------------------------
000022A8                          1995  INSPLOT
000022A8                          1996  ; INSTRUCTIONS SCREEN PLOT
000022A8                          1997  ; INPUT    : NONE
000022A8                          1998  ; OUTPUT   : NONE
000022A8                          1999  ; MODIFIES : NONE
000022A8                          2000  ; ------------------------------------------------------------------------------
000022A8                          2001  
000022A8  48E7 C0C0               2002              MOVEM.L D0-D1/A0-A1,-(A7)
000022AC  4281                    2003              CLR.L   D1
000022AE  103C 0051               2004              MOVE.B  #81,D0
000022B2  4E4F                    2005              TRAP    #15
000022B4  103C 000B               2006              MOVE.B  #11,D0
000022B8  43F9 0000241A           2007              LEA     .TXTLST,A1
000022BE  2219                    2008  .LOOP       MOVE.L  (A1)+,D1
000022C0  6700 000A               2009              BEQ     .DONE
000022C4  2041                    2010              MOVE.L  D1,A0
000022C6  4EB8 2026               2011              JSR     UTLPRINT
000022CA  60F2                    2012              BRA     .LOOP
000022CC  4CDF 0303               2013  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1
000022D0  4E75                    2014              RTS
000022D2= 57 45 4C 43 4F 4D ...   2015  .TXT1       DC.B    'WELCOME TO THE WORLD OF MULTI-PONG 68000!',0
000022FC= 59 4F 55 52 20 47 ...   2016  .TXT2       DC.B    'YOUR GOAL IN THIS GAME IS TO AVOID MISSING THE BALLS',0
00002331= 54 4F 20 54 48 49 ...   2017  .TXT3       DC.B    'TO THIS END, MOVE THE PAD USING THE KEYBOARD',0
0000235E= 48 4F 57 20 54 4F ...   2018  .TXT4       DC.B    'HOW TO DO IT? YOU MAY ASK.',0
00002379= 49 54 20 49 53 20 ...   2019  .TXT5       DC.B    'IT IS EASY: JUST USE THE UP KEY TO MOVE THE PAD...',0
000023AC= 55 50 21 00             2020  .TXT6       DC.B    'UP!',0
000023B0= 41 4E 44 20 55 53 ...   2021  .TXT7       DC.B    'AND USE THE DOWN KEY TO MOVE THE PAD DOWN.',0
000023DB= 57 48 41 54 20 41 ...   2022  .TXT8       DC.B    'WHAT ABOUT LEFT AND RIGHT?',0
000023F6= 4E 4F 2E 20 54 48 ...   2023  .TXT9       DC.B    'NO. THESE ARE FORBIDDEN DIRECTIONS',0
0000241A                          2024              DS.W    0
0000241A= 000022D2 000022FC ...   2025  .TXTLST     DC.L    .TXT1,.TXT2,.TXT3,.TXT4,.TXT5,.TXT6,.TXT7,.TXT8,.TXT9,0
00002442                          2026  
00002442                          2027  
00002442                          2028  -------------------- end include --------------------
00002442                          2029              INCLUDE "WIN.X68"
00002442                          2030  ; ==============================================================================
00002442                          2031  ; VICTORY SCREEN
00002442                          2032  ; ==============================================================================
00002442                          2033  
00002442                          2034  ; ------------------------------------------------------------------------------
00002442                          2035  WININIT
00002442                          2036  ; VICTORY SCREEN INIT
00002442                          2037  ; INPUT    : NONE
00002442                          2038  ; OUTPUT   : NONE
00002442                          2039  ; MODIFIES : NONE
00002442                          2040  ; ------------------------------------------------------------------------------
00002442  4E75                    2041              RTS
00002444                          2042  
00002444                          2043  ; ------------------------------------------------------------------------------
00002444                          2044  WINUPD
00002444                          2045  ; VICTORY SCREEN UPDATE
00002444                          2046  ; INPUT    : NONE
00002444                          2047  ; OUTPUT   : NONE
00002444                          2048  ; MODIFIES : NONE
00002444                          2049  ; ------------------------------------------------------------------------------
00002444  4E75                    2050              RTS
00002446                          2051  
00002446                          2052  ; ------------------------------------------------------------------------------
00002446                          2053  WINPLOT
00002446                          2054  ; VICTORY SCREEN PLOT
00002446                          2055  ; INPUT    : NONE
00002446                          2056  ; OUTPUT   : NONE
00002446                          2057  ; MODIFIES : NONE
00002446                          2058  ; ------------------------------------------------------------------------------
00002446  48E7 C080               2059              MOVEM.L D0-D1/A0,-(A7)
0000244A                          2060              
0000244A  4281                    2061              CLR.L   D1
0000244C  103C 0051               2062              MOVE.B  #81,D0
00002450  4E4F                    2063              TRAP    #15
00002452                          2064              
00002452  41F9 00002480           2065              LEA     .TXT1,A0
00002458  103C 000A               2066              MOVE.B  #10,D0
0000245C  4EB8 2026               2067              JSR     UTLPRINT
00002460                          2068              
00002460  0839 0004 000025DD      2069              BTST.B  #4,(SCRCYCCT)
00002468  6700 0010               2070              BEQ     .DONE
0000246C                          2071              
0000246C  41F9 00002489           2072              LEA     .TXT2,A0
00002472  103C 0019               2073              MOVE.B  #25,D0
00002476  4EB8 2026               2074              JSR     UTLPRINT
0000247A                          2075              
0000247A  4CDF 0103               2076  .DONE       MOVEM.L (A7)+,D0-D1/A0
0000247E                          2077  
0000247E  4E75                    2078              RTS
00002480= 59 4F 55 20 57 4F ...   2079  .TXT1       DC.B    'YOU WON!',0
00002489= 50 52 45 53 53 20 ...   2080  .TXT2       DC.B    'PRESS FIRE1 TO CONTINUE',0
000024A2                          2081              DS.W    0
000024A2                          2082  
000024A2                          2083  
000024A2                          2084  
000024A2                          2085  -------------------- end include --------------------
000024A2                          2086              INCLUDE "GOVER.X68"
000024A2                          2087  ; ==============================================================================
000024A2                          2088  ; GAME OVER SCREEN
000024A2                          2089  ; ==============================================================================
000024A2                          2090  
000024A2                          2091  ; ------------------------------------------------------------------------------
000024A2                          2092  GOVINIT
000024A2                          2093  ; GAME OVER SCREEN INIT
000024A2                          2094  ; INPUT    : NONE
000024A2                          2095  ; OUTPUT   : NONE
000024A2                          2096  ; MODIFIES : NONE
000024A2                          2097  ; ------------------------------------------------------------------------------
000024A2  4E75                    2098              RTS
000024A4                          2099  
000024A4                          2100  ; ------------------------------------------------------------------------------
000024A4                          2101  GOVUPD
000024A4                          2102  ; GAME OVER SCREEN UPDATE
000024A4                          2103  ; INPUT    : NONE
000024A4                          2104  ; OUTPUT   : NONE
000024A4                          2105  ; MODIFIES : NONE
000024A4                          2106  ; ------------------------------------------------------------------------------
000024A4  4E75                    2107              RTS
000024A6                          2108  
000024A6                          2109  ; ------------------------------------------------------------------------------
000024A6                          2110  GOVPLOT
000024A6                          2111  ; GAME OVER SCREEN PLOT
000024A6                          2112  ; INPUT    : NONE
000024A6                          2113  ; OUTPUT   : NONE
000024A6                          2114  ; MODIFIES : NONE
000024A6                          2115  ; ------------------------------------------------------------------------------
000024A6  48E7 C080               2116              MOVEM.L D0-D1/A0,-(A7)
000024AA                          2117              
000024AA  4281                    2118              CLR.L   D1
000024AC  103C 0051               2119              MOVE.B  #81,D0
000024B0  4E4F                    2120              TRAP    #15
000024B2                          2121              
000024B2  41F9 000024E0           2122              LEA     .TXT1,A0
000024B8  103C 000A               2123              MOVE.B  #10,D0
000024BC  4EB8 2026               2124              JSR     UTLPRINT
000024C0                          2125              
000024C0  0839 0004 000025DD      2126              BTST.B  #4,(SCRCYCCT)
000024C8  6700 0010               2127              BEQ     .DONE
000024CC                          2128              
000024CC  41F9 000024EA           2129              LEA     .TXT2,A0
000024D2  103C 0019               2130              MOVE.B  #25,D0
000024D6  4EB8 2026               2131              JSR     UTLPRINT
000024DA                          2132              
000024DA  4CDF 0103               2133  .DONE       MOVEM.L (A7)+,D0-D1/A0
000024DE                          2134  
000024DE  4E75                    2135              RTS
000024E0= 47 41 4D 45 20 4F ...   2136  .TXT1       DC.B    'GAME OVER',0
000024EA= 50 52 45 53 53 20 ...   2137  .TXT2       DC.B    'PRESS FIRE1 TO CONTINUE',0
00002502                          2138              DS.W    0
00002502                          2139  
00002502                          2140  
00002502                          2141  -------------------- end include --------------------
00002502                          2142              INCLUDE "STATES.X68"
00002502                          2143  ; =============================================================================
00002502                          2144  ; GAME STATE MANAGEMENT
00002502                          2145  ; =============================================================================
00002502                          2146  
00002502                          2147  ; -----------------------------------------------------------------------------
00002502                          2148  STAINIT
00002502                          2149  ; INITALIZES THE STATE MANAGER
00002502                          2150  ; INPUT    - NONE
00002502                          2151  ; OUTPUT   - NONE
00002502                          2152  ; MODIFIES - NONE
00002502                          2153  ; -----------------------------------------------------------------------------
00002502  33FC FFFF 0000348A      2154              MOVE.W  #STANONE,(STACUR)
0000250A  4279 0000348C           2155              CLR.W   (STANEXT)
00002510  4E75                    2156              RTS
00002512                          2157  
00002512                          2158  ; -----------------------------------------------------------------------------
00002512                          2159  STAUPD
00002512                          2160  ; PERFORMS STATE UPDATE AND INIT IF NECESSARY
00002512                          2161  ; INPUT    - NONE
00002512                          2162  ; OUTPUT   - NONE
00002512                          2163  ; MODIFIES - NONE
00002512                          2164  ; -----------------------------------------------------------------------------
00002512  48E7 8080               2165              MOVEM.L D0/A0,-(A7)
00002516  4280                    2166              CLR.L   D0
00002518  3039 0000348C           2167              MOVE.W  (STANEXT),D0
0000251E  B079 0000348A           2168              CMP.W   (STACUR),D0
00002524  6700 0012               2169              BEQ     .DOUPD
00002528  33C0 0000348A           2170              MOVE.W  D0,(STACUR)             ; IF STATE CHANGED, DO INIT
0000252E  E588                    2171              LSL.L   #2,D0
00002530  2040                    2172              MOVE.L  D0,A0
00002532  2068 2550               2173              MOVE.L  .INITBL(A0),A0
00002536  4E90                    2174              JSR     (A0)
00002538  4280                    2175  .DOUPD      CLR.L   D0                      ; IN ANY CASE, DO UPDATE
0000253A  3039 0000348A           2176              MOVE.W  (STACUR),D0
00002540  E588                    2177              LSL.L   #2,D0
00002542  2040                    2178              MOVE.L  D0,A0
00002544  2068 2558               2179              MOVE.L  .UPDTBL(A0),A0
00002548  4E90                    2180              JSR     (A0)
0000254A  4CDF 0101               2181              MOVEM.L (A7)+,D0/A0
0000254E  4E75                    2182              RTS
00002550= 00002176                2183  .INITBL     DC.L    ISCINIT
00002554= 00002586                2184              DC.L    GAMINIT
00002558= 00002184                2185  .UPDTBL     DC.L    ISCUPD
0000255C= 00002596                2186              DC.L    GAMUPD
00002560                          2187  
00002560                          2188  ; -----------------------------------------------------------------------------
00002560                          2189  STAPLOT
00002560                          2190  ; PERFORMS STATE PLOT
00002560                          2191  ; INPUT    - NONE
00002560                          2192  ; OUTPUT   - NONE
00002560                          2193  ; MODIFIES - NONE
00002560                          2194  ; -----------------------------------------------------------------------------
00002560  48E7 8080               2195              MOVEM.L D0/A0,-(A7)
00002564  4280                    2196              CLR.L   D0
00002566  3039 0000348A           2197              MOVE.W  (STACUR),D0
0000256C  E588                    2198              LSL.L   #2,D0
0000256E  2040                    2199              MOVE.L  D0,A0
00002570  2068 257C               2200              MOVE.L  .PLTTBL(A0),A0
00002574  4E90                    2201              JSR     (A0)
00002576  4CDF 0101               2202              MOVEM.L (A7)+,D0/A0
0000257A  4E75                    2203              RTS
0000257C= 0000219A                2204  .PLTTBL     DC.L    ISCPLOT
00002580= 0000259E                2205              DC.L    GAMPLOT
00002584                          2206  
00002584                          2207  ; -----------------------------------------------------------------------------
00002584                          2208  STAEMPTY
00002584                          2209  ; EMPTY SUBROUTINE FOR CASES WITH NOTHING TO DO
00002584                          2210  ; INPUT    - NONE
00002584                          2211  ; OUTPUT   - NONE
00002584                          2212  ; MODIFIES - NONE
00002584                          2213  ; NOTE     - JUST A PLACEHOLDER. NOTHING TO DO.
00002584                          2214  ; -----------------------------------------------------------------------------
00002584  4E75                    2215              RTS
00002586                          2216  
00002586                          2217  
00002586                          2218  
00002586                          2219  
00002586                          2220  
00002586                          2221  
00002586                          2222  
00002586                          2223  
00002586                          2224  
00002586                          2225  
00002586                          2226  -------------------- end include --------------------
00002586                          2227              INCLUDE "GAME.X68"
00002586                          2228  ; ==============================================================================
00002586                          2229  ; GAME MANAGEMENT
00002586                          2230  ; ==============================================================================
00002586                          2231  
00002586                          2232  ; ------------------------------------------------------------------------------
00002586                          2233  GAMINIT
00002586                          2234  ; INITIALIZES GAME.
00002586                          2235  ; INPUT    : NONE
00002586                          2236  ; OUTPUT   : NONE
00002586                          2237  ; MODIFIES : NONE
00002586                          2238  ; ------------------------------------------------------------------------------
00002586  4EB8 16DC               2239              JSR     PMINIT
0000258A  4EB8 1E72               2240              JSR     MAPINIT
0000258E  4EB8 1408               2241              JSR     GSTINIT
00002592  6000 F50E               2242              BRA     SCOINIT
00002596                          2243  
00002596                          2244  ; ------------------------------------------------------------------------------
00002596                          2245  GAMUPD
00002596                          2246  ; UPDATES THE GAME
00002596                          2247  ; INPUT    : NONE
00002596                          2248  ; OUTPUT   : NONE
00002596                          2249  ; MODIFIES : NONE
00002596                          2250  ; ------------------------------------------------------------------------------
00002596                          2251              
00002596  4EB8 143A               2252              JSR     GSTUPD
0000259A  6000 F174               2253              BRA     PMUPD
0000259E                          2254              
0000259E                          2255  ; ------------------------------------------------------------------------------
0000259E                          2256  GAMPLOT
0000259E                          2257  ; PLOTS THE GAME
0000259E                          2258  ; INPUT    : NONE
0000259E                          2259  ; OUTPUT   : NONE
0000259E                          2260  ; MODIFIES : NONE
0000259E                          2261  ; ------------------------------------------------------------------------------
0000259E  4EB8 1EEC               2262              JSR     MAPPLOT
000025A2  4EB8 1AB2               2263              JSR     SCOPLOT
000025A6  4EB8 187C               2264              JSR     PMPLOT
000025AA  6000 F0C6               2265              BRA     GSTPLOT
000025AE                          2266  
000025AE                          2267  
000025AE                          2268  
000025AE                          2269  -------------------- end include --------------------
000025AE                          2270        
000025AE                          2271              
000025AE                          2272      
000025AE                          2273  START:
000025AE                          2274  
000025AE                          2275  ;--- INITIALIZATION -----------------------------------------------------------
000025AE                          2276  
000025AE  007C 0700               2277              ORI.W   #$0700,SR               ;DISABLE INTERRUPTIONS
000025B2                          2278  
000025B2  4EB8 1B1E               2279              JSR     SYSINIT
000025B6  4EB8 2502               2280              JSR     STAINIT
000025BA                          2281  
000025BA                          2282  .LOOP
000025BA                          2283  
000025BA                          2284  ; --- UPDATE -------------------------------------------------------------------
000025BA                          2285  
000025BA                          2286  ; READ INPUT DEVICES
000025BA                          2287  
000025BA  4E41                    2288              TRAP    #1
000025BC                          2289  
000025BC                          2290  ; UPDATE GAME LOGIC
000025BC                          2291  
000025BC  4EB8 2512               2292             JSR     STAUPD
000025C0                          2293  
000025C0                          2294  ; --- SYNC ---------------------------------------------------------------------
000025C0                          2295              ;WHILE THERES NO INTERRUPTS IN THE COUNTER THE PROGRAM WILL BE IN
000025C0                          2296              ;THE BUCLE
000025C0                          2297              
000025C0  4A39 000025DC           2298  .WAITINIT   TST.B   (SCRINTCT)
000025C6  67F8                    2299              BEQ     .WAITINIT
000025C8  4239 000025DC           2300              CLR.B   (SCRINTCT)
000025CE                          2301  
000025CE                          2302  ; --- PLOT ---------------------------------------------------------------------
000025CE                          2303              
000025CE  4EB8 2560               2304              JSR     STAPLOT
000025D2                          2305              
000025D2                          2306              
000025D2  4E40                    2307              TRAP    #0                      ;CHANGE BUFFER
000025D4                          2308  
000025D4  60E4                    2309              BRA     .LOOP
000025D6                          2310  
000025D6  FFFF FFFF               2311              SIMHALT  
000025DA                          2312             
000025DA                          2313              INCLUDE "SYSVARS.X68"
000025DA                          2314  ; ==============================================================================
000025DA                          2315  ; SYSTEM VARIABLES
000025DA                          2316  ; ==============================================================================
000025DA                          2317   
000025DA                          2318  ; --- KEYBOARD RELATED VARIABLES -----------------------------------------------
000025DA                          2319  
000025DA                          2320  KBDVAL      DS.B    1                       ; KEY STATE
000025DB                          2321  KBDEDGE     DS.B    1                       ; KEY EDGE
000025DC                          2322              DS.W    0 
000025DC                          2323  
000025DC                          2324  ; --- TIMED INTERRUPT RELATED VARIABLES ----------------------------------------
000025DC                          2325  
000025DC                          2326  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
000025DD                          2327  SCRCYCCT    DS.B    1                       ; CYCLE COUNTER
000025DE                          2328              DS.W    0        
000025DE                          2329              
000025DE                          2330  ; --- MAP RELATED VARIABLE -----------------------------------------------------
000025DE                          2331  
000025DE                          2332  MAPVAR      DS.B    1024
000029DE                          2333  
000029DE                          2334              DS.B    0
000029DE                          2335  
000029DE                          2336  POSCON      DS.W    1
000029E0                          2337  
000029E0                          2338  ; --- TITLE RELATED VARIABLE -----------------------------------------------------
000029E0                          2339  
000029E0                          2340  BUFFER      DS.B    2700
0000346C                          2341              DS.B    0
0000346C                          2342              
0000346C                          2343  
0000346C                          2344  
0000346C                          2345  
0000346C                          2346  
0000346C                          2347  
0000346C                          2348  
0000346C                          2349  
0000346C                          2350  -------------------- end include --------------------
0000346C                          2351              INCLUDE "VARS.X68"
0000346C                          2352  ; ==============================================================================
0000346C                          2353  ; GAME VARIABLES
0000346C                          2354  ; ==============================================================================
0000346C                          2355  
0000346C                          2356  ; --- PAC-MAN RELATED VARIABLES ------------------------------------------------
0000346C                          2357  
0000346C                          2358  PMPOSX      DS.W    1                       ; PM X COORDINATE
0000346E                          2359  PMPOSY      DS.W    1                       ; PM Y COORDINATE
00003470                          2360  PMVELX      DS.W    1                       ; PM X VELOCITY
00003472                          2361  PMVELY      DS.W    1                       ; PM Y VELOCITY
00003474                          2362  PMEAT       DS.B    1                       ; PM BOOLEAN EAT GST
00003475                          2363  PMLAMO      DS.B    1                       ; PM SAVE LAST MOVEMENT X O Y
00003476                          2364              DS.B    0
00003476                          2365  
00003476                          2366  ; --- GHOST RELATED VARIABLES --------------------------------------------------
00003476                          2367  
00003476                          2368  GSTPOSX     DS.W    1                       ; GST X COORDINATE
00003478                          2369  GSTPOSY     DS.W    1                       ; GST Y COORDINATE
0000347A                          2370  GSTVELX     DS.W    1                       ; GST X VELOCITY
0000347C                          2371  GSTVELY     DS.W    1                       ; GST Y VELOCITY
0000347E                          2372  GSTDEAD     DS.B    1                       ; GST BOOLEAN DEAD
0000347F                          2373  GSTLAMO     DS.B    1                       ; GST LAST MOVEMENT (X OR Y)
00003480                          2374  GSTINRNG    DS.B    1                       ; GST IS IN RANGE
00003481                          2375  GSTTARG     DS.B    1                       ; GST TARGET (0-PACMAN, 1-RANDOM)
00003482                          2376  GSTPOSMV    DS.B    1                       ; GST POSSIBLE MOVEMENTS (R,L,U,D)
00003483                          2377  GSTCHDIR    DS.B    1                       ; GST HAS CHANGED DIR IN LAST FRAME
00003484                          2378              DS.B    0
00003484                          2379  
00003484                          2380  ; --- SCOREBOARD RELATED VARIABLES ---------------------------------------------
00003484                          2381  
00003484                          2382  SCOLIFE     DS.W    1                       ; NUMBER OF LIFES
00003486                          2383  SCOPOINTS   DS.W    1                       ; NUMBER OF POINTS
00003488                          2384  
00003488                          2385  ; --- INTRO STATE RELATED VARIABLES --------------------------------------------
00003488                          2386  
00003488                          2387  ISCTIMER    DS.W    1                       ; INTRO TIMER
0000348A                          2388  
0000348A                          2389  ; --- STATE RELATED VARIABLES --------------------------------------------------
0000348A                          2390  
0000348A                          2391  STACUR      DS.W    1                       ; CURRENT STATE
0000348C                          2392  STANEXT     DS.W    1                       ; NEXT STATE
0000348E                          2393  
0000348E                          2394  
0000348E                          2395  
0000348E                          2396  
0000348E                          2397  
0000348E                          2398  
0000348E                          2399  
0000348E                          2400  
0000348E                          2401  
0000348E                          2402  
0000348E                          2403  -------------------- end include --------------------
0000348E                          2404              INCLUDE "LIB/UTLVARS.X68"
0000348E                          2405  ; =============================================================================
0000348E                          2406  ; UTILITY VARIABLES
0000348E                          2407  ; =============================================================================
0000348E                          2408  
0000348E                          2409  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
00003490                          2410              DS.W    0
00003490                          2411  -------------------- end include --------------------
00003490                          2412              
00003490                          2413              END    START        

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
BUCLE_COLUMNA       1E98
BUCLE_COLUMNA2      1F0E
BUCLE_COLUMNA3      2248
BUCLE_FILA          1E8C
BUCLE_FILA2         1F02
BUCLE_FILA3         223E
BUFFER              29E0
COLWALLDOWN         1C9E
COLWALLLEFT         1C5C
COLWALLRIGHT        1C1A
COLWALLUP           1CDA
DIBFIGBPOINT        1FD4
DIBFIGPOINT         1F98
DIBFIGWALL          1F60
DRAW                2270
FILENAME            1B14
FILESIZE            A8C
GAMINIT             2586
GAMPLOT             259E
GAMUPD              2596
GETPOINTS           1DFE
GETPOINTS:BPOINT    1E48
GETPOINTS:DONE      1E6C
GETPOINTS:POINT     1E5A
GOVINIT             24A2
GOVPLOT             24A6
GOVPLOT:DONE        24DA
GOVPLOT:TXT1        24E0
GOVPLOT:TXT2        24EA
GOVUPD              24A4
GST2DECISSIONS      1652
GSTCHDIR            3483
GSTCOL1             FF
GSTCOL2             FF0080
GSTCOL3             FFFF00
GSTCOL4             80FF
GSTCOL5             800000
GSTCOLWALLDOWN      1D90
GSTCOLWALLLEFT      1D54
GSTCOLWALLRIGHT     1D18
GSTCOLWALLUP        1DC6
GSTDEAD             347E
GSTDECVEC           1000
GSTFCOL1            FFFFFF
GSTFCOL2            0
GSTFCOL3            0
GSTFCOL4            0
GSTFCOL5            0
GSTINIT             1408
GSTINRNG            3480
GSTINX1             2
GSTINX2             2
GSTINX3             1F
GSTINX4             1F
GSTINY1             2
GSTINY2             1F
GSTINY3             2
GSTINY4             1F
GSTLAMO             347F
GSTPLOT             1672
GSTPOSMV            3482
GSTPOSX             3476
GSTPOSY             3478
GSTRAD              8
GSTRNG              10
GSTSPEED            2
GSTSPEED2           5
GSTTARG             3481
GSTUPD              143A
GSTUPD:GSTDECISSION  1504
GSTUPD:GSTDONE      164C
GSTUPD:GSTDOWNMOVE  1604
GSTUPD:GSTINRNG     1464
GSTUPD:GSTLEFTMOVE  15D0
GSTUPD:GSTMOVE      1470
GSTUPD:GSTMULT      149E
GSTUPD:GSTMULTDOWN  14D8
GSTUPD:GSTMULTLEFT  14C2
GSTUPD:GSTMULTRIGHT  14AC
GSTUPD:GSTMULTUP    14EE
GSTUPD:GSTNOTCOLISION  15AE
GSTUPD:GSTNOTCOLISION2  15E2
GSTUPD:GSTNOTCOLISION3  1616
GSTUPD:GSTNOTCOLISION4  163A
GSTUPD:GSTNOTINRNG  1450
GSTUPD:GSTNOTMULT   1574
GSTUPD:GSTNOTTP     15BE
GSTUPD:GSTNOTTP2    15F2
GSTUPD:GSTRANDOWN   1558
GSTUPD:GSTRANLEFT   154A
GSTUPD:GSTRANRIGHT  153C
GSTUPD:GSTRANUP     1566
GSTUPD:GSTRIGHTMOVE  159C
GSTUPD:GSTUPMOVE    1628
GSTVELX             347A
GSTVELY             347C
IMGPLOT             2228
INSINIT             22A4
INSPLOT             22A8
INSPLOT:DONE        22CC
INSPLOT:LOOP        22BE
INSPLOT:TXT1        22D2
INSPLOT:TXT2        22FC
INSPLOT:TXT3        2331
INSPLOT:TXT4        235E
INSPLOT:TXT5        2379
INSPLOT:TXT6        23AC
INSPLOT:TXT7        23B0
INSPLOT:TXT8        23DB
INSPLOT:TXT9        23F6
INSPLOT:TXTLST      241A
INSUPD              22A6
ISCINIT             2176
ISCPLOT             219A
ISCPLOT:DONE        21C6
ISCPLOT:TXT1        21CC
ISCPLOT:TXT2        21DA
ISCTIMER            3488
ISCUPD              2184
ISCUPD:CONT         2198
ISCUPD:DONE         2198
KBDDOWN             28
KBDEDGE             25DB
KBDFIRE1            20
KBDFIRE2            4D
KBDFIRE3            10
KBDINIT             1BB6
KBDLEFT             25
KBDPAUSE            50
KBDRIGHT            27
KBDUP               26
KBDUPD              1BC4
KBDUPD:CONVERT      1C0C
KBDUPD:LOOP         1C10
KBDUPD:NOACT        1C06
KBDVAL              25DA
MAPINIT             1E72
MAPMAT              1008
MAPPLOT             1EEC
MAPVAR              25DE
NOTPOINT            1ECC
NOTPOINT2           1F40
NOTWALL             1EBE
NOTWALL2            1F32
OPENFILE            21F6
OPENFILE:CONVERT_LOOP  2218
OPENFILE:END        2226
PMEAT               3474
PMFCOL              FFFF
PMINIT              16DC
PMLAMO              3475
PMPCOL              FFFF
PMPLOT              187C
PMPLOT:DDONE        1938
PMPLOT:DDOWN        190A
PMPLOT:DLEFT        1900
PMPLOT:DOWNDRAW     19F8
PMPLOT:DRAW_MOUTH1  1914
PMPLOT:DRAW_MOUTH2  191E
PMPLOT:DRAW_MOUTH3  1928
PMPLOT:DRAW_MOUTH4  1932
PMPLOT:DRIGHT       18EC
PMPLOT:DUP          18F6
PMPLOT:FULLDRAW     193E
PMPLOT:LEFTDRAW     1962
PMPLOT:MOUTHOPEN    18AA
PMPLOT:NOTMOVE      18E2
PMPLOT:RIGHTDRAW    1994
PMPLOT:SET_MOUTHDOWN  1A84
PMPLOT:SET_MOUTHLEFT  1A2A
PMPLOT:SET_MOUTHRIGHT  1A48
PMPLOT:SET_MOUTHUP  1A66
PMPLOT:UPDRAW       19C6
PMPOSX              346C
PMPOSY              346E
PMRAD               8
PMSPEED             2
PMUPD               1710
PMUPD:ACTXLEFT      17D6
PMUPD:ACTXRIGHT     17A2
PMUPD:ACTYDOWN      180A
PMUPD:ACTYUP        182E
PMUPD:DONE          186A
PMUPD:NOTCOLISION   17BC
PMUPD:NOTCOLISION2  17F0
PMUPD:NOTCOLISION3  1824
PMUPD:NOTCOLISION4  1848
PMUPD:NOTDOWN       179E
PMUPD:NOTLEFT       175C
PMUPD:NOTMULT       1852
PMUPD:NOTRIGHT      1772
PMUPD:NOTTP         17CC
PMUPD:NOTTP2        1800
PMUPD:NOTUP         1788
PMVELX              3470
PMVELY              3472
POSCON              29DE
SCOFCOL             0
SCOINIT             1AA2
SCOLIFE             3484
SCOLINE1            101
SCOLINE2            102
SCOPLOT             1AB2
SCOPLOT:TXT1        1B00
SCOPLOT:TXT2        1B09
SCOPOINTS           3486
SCRCYCCT            25DD
SCRHEIGH            280
SCRINIT             1B4A
SCRINTCT            25DC
SCRTIM              1BA8
SCRUPD              1B8E
SCRWIDTH            280
STACUR              348A
STAEMPTY            2584
STAINIT             2502
STANEXT             348C
STANONE             FFFFFFFF
STAPLOT             2560
STAPLOT:PLTTBL      257C
START               25AE
START:LOOP          25BA
START:WAITINIT      25C0
STAUPD              2512
STAUPD:DOUPD        2538
STAUPD:INITBL       2550
STAUPD:UPDTBL       2558
SYSINIT             1B1E
UTLCHRWD            8
UTLINIT             2010
UTLPRINT            2026
UTLPRINT:ENDLOOP    2038
UTLPRINT:LOOP       202E
UTLRAND             2058
UTLRAND:RANDVEC     2076
UTLRNDIX            348E
WININIT             2442
WINPLOT             2446
WINPLOT:DONE        247A
WINPLOT:TXT1        2480
WINPLOT:TXT2        2489
WINUPD              2444
ZERO                1EDA
ZERO2               1F4E
ZERO3               225E
